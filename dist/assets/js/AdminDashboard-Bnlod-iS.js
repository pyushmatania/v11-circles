import{r as i,j as e,m as R,A as q}from"./animation-vendor-DMgFCZXp.js";import{a as z}from"./index-DOZC6xf1.js";import{a4 as Ie,a6 as be,F as K,a0 as oe,j as fe,an as Q,U as Me,al as je,ap as ce,aC as ve,a5 as Ne,aD as Ue,e as _,I as Le,J as Fe,z as Ee,$ as we,X as H,aE as ee,aa as G,a8 as de,_ as Re,aF as Be,ad as ze,ae as Oe,aG as He,aj as J,l as X,aH as Y,aI as te,aJ as ue,aK as re,h as Se,M as $e,aL as ge,o as V,p as ke,aw as Ze,b as Ve,w as _e,v as Ge,u as Xe,t as Ye,aM as Ce,aN as Ae,ao as Te,ac as We,aO as qe,a7 as Pe,T as Qe,D as Je,C as ie,aP as Ke,aQ as xe,aB as me,aR as he,V as ne,g as et,L as tt,a9 as rt,E as st}from"./ui-vendor-Ct5wyPg6.js";import{r as at,u as lt}from"./utils-vendor-2u2CxYTz.js";import"./react-vendor-DavUf6mE.js";const se=()=>{const[t,S]=i.useState(null),[n,r]=i.useState(!1),[k,v]=i.useState(!0),[m,o]=i.useState(null),d={id:"admin-1",name:"Admin User",email:"admin@circles.com",role:"admin"};return i.useEffect(()=>{(async()=>{v(!0);try{localStorage.getItem("admin_token")&&(S(d),r(!0))}catch(j){o("Authentication failed"),console.error("Auth check failed:",j)}finally{v(!1)}})()},[]),{user:t,isAuthenticated:n,isLoading:k,error:m,login:async(h,j)=>{v(!0),o(null);try{if(await new Promise($=>setTimeout($,1e3)),h==="admin"&&j==="admin"){const $="mock_admin_token_"+Date.now();return localStorage.setItem("admin_token",$),S(d),r(!0),!0}else throw new Error("Invalid credentials")}catch($){const I=$ instanceof Error?$.message:"Login failed";return o(I),!1}finally{v(!1)}},logout:()=>{localStorage.removeItem("admin_token"),S(null),r(!1),window.location.href="/"}}},pe=({activePanel:t,setActivePanel:S})=>{const{theme:n}=z(),{logout:r,user:k}=se(),v=[{id:"projects",label:"Projects",icon:K},{id:"merchandise",label:"Merchandise",icon:oe},{id:"perks",label:"Perks & Rewards",icon:fe},{id:"media",label:"Media Assets",icon:Q},{id:"users",label:"Users",icon:Me},{id:"activity",label:"Activity Log",icon:je},{id:"settings",label:"Settings",icon:ce}];return e.jsxs("div",{className:`w-64 h-full flex flex-col ${n==="light"?"bg-white border-r border-gray-200":"bg-gray-800 border-r border-gray-700"}`,children:[e.jsx("div",{className:`p-6 border-b ${n==="light"?"border-gray-200":"border-gray-700"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-purple-600 to-blue-600",children:e.jsx(Ie,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:`font-bold text-xl ${n==="light"?"text-gray-900":"text-white"}`,children:"Circles Admin"}),e.jsx("p",{className:`text-xs ${n==="light"?"text-gray-600":"text-gray-400"}`,children:"Management Dashboard"})]})]})}),e.jsx("div",{className:"px-6 py-4",children:e.jsxs("button",{onClick:()=>window.location.href="/",className:`flex items-center gap-2 text-sm ${n==="light"?"text-gray-600 hover:text-gray-900":"text-gray-400 hover:text-white"} transition-colors`,children:[e.jsx(be,{className:"w-4 h-4"}),"Back to main site"]})}),e.jsx("div",{className:"flex-1 py-6 overflow-y-auto",children:e.jsxs("div",{className:"px-4 mb-6",children:[e.jsx("p",{className:`text-xs font-medium uppercase tracking-wider mb-4 ${n==="light"?"text-gray-500":"text-gray-400"}`,children:"Main Navigation"}),e.jsx("nav",{className:"space-y-1",children:v.map(m=>e.jsxs("button",{onClick:()=>S(m.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t===m.id?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":n==="light"?"text-gray-700 hover:bg-gray-100":"text-gray-300 hover:bg-gray-700"}`,children:[e.jsx(m.icon,{className:"w-5 h-5"}),e.jsx("span",{children:m.label}),t===m.id&&e.jsx(R.div,{layoutId:"activeNavIndicator",className:"absolute left-0 w-1 h-8 bg-white rounded-r-full",transition:{type:"spring",bounce:.2,duration:.6}})]},m.id))})]})}),e.jsx("div",{className:`p-4 border-t ${n==="light"?"border-gray-200":"border-gray-700"}`,children:e.jsxs("div",{className:`p-4 rounded-xl ${n==="light"?"bg-gray-50":"bg-gray-700"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-purple-500/20 flex items-center justify-center",children:e.jsx(ve,{className:"w-6 h-6 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${n==="light"?"text-gray-900":"text-white"}`,children:k?.name||"Admin User"}),e.jsx("p",{className:`text-xs ${n==="light"?"text-gray-600":"text-gray-400"}`,children:k?.email||"admin@circles.com"})]})]}),e.jsxs("button",{onClick:r,className:`w-full flex items-center justify-center gap-2 py-2 rounded-lg transition-colors ${n==="light"?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-gray-600 text-gray-200 hover:bg-gray-500"}`,children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{children:"Sign Out"})]})]})})]})},it=({activePanel:t,onMenuClick:S})=>{const{theme:n,toggleTheme:r}=z(),{user:k,logout:v}=se(),[m,o]=i.useState(!1),[d,C]=i.useState(!1),f=$=>{switch($){case"projects":return"Projects Management";case"merchandise":return"Merchandise Inventory";case"perks":return"Perks & Rewards";case"media":return"Media Assets";case"users":return"User Management";case"settings":return"System Settings";case"activity":return"Activity Log";default:return"Dashboard"}},h=[{id:1,message:'New project "Pathaan 3" was added',time:"2 minutes ago",read:!1},{id:2,message:"User rahul@gmail.com updated their profile",time:"1 hour ago",read:!1},{id:3,message:"System backup completed successfully",time:"3 hours ago",read:!0},{id:4,message:"New merchandise item added to inventory",time:"5 hours ago",read:!0}],j=h.filter($=>!$.read).length;return e.jsx("header",{className:`py-4 px-6 border-b ${n==="light"?"bg-white border-gray-200":"bg-gray-800 border-gray-700"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:S,className:"md:hidden p-2 rounded-lg text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(Ue,{className:"w-6 h-6"})}),e.jsx("h1",{className:`text-xl font-bold ${n==="light"?"text-gray-900":"text-white"}`,children:f(t)})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:`hidden md:flex items-center gap-2 px-3 py-2 rounded-lg ${n==="light"?"bg-gray-100":"bg-gray-700"}`,children:[e.jsx(_,{className:`w-4 h-4 ${n==="light"?"text-gray-500":"text-gray-400"}`}),e.jsx("input",{type:"text",placeholder:"Search...",className:`bg-transparent border-none focus:outline-none text-sm w-40 ${n==="light"?"text-gray-700 placeholder-gray-500":"text-gray-200 placeholder-gray-400"}`})]}),e.jsx("button",{onClick:r,className:`p-2 rounded-lg ${n==="light"?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:n==="light"?e.jsx(Le,{className:"w-5 h-5"}):e.jsx(Fe,{className:"w-5 h-5"})}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>C(!d),className:`p-2 rounded-lg relative ${n==="light"?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[e.jsx(Ee,{className:"w-5 h-5"}),j>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:j})]}),e.jsx(q,{children:d&&e.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:`absolute right-0 mt-2 w-80 rounded-xl border shadow-lg z-50 ${n==="light"?"bg-white border-gray-200":"bg-gray-800 border-gray-700"}`,children:[e.jsx("div",{className:`p-4 border-b ${n==="light"?"border-gray-200":"border-gray-700"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:`font-semibold ${n==="light"?"text-gray-900":"text-white"}`,children:"Notifications"}),e.jsx("button",{className:`text-xs ${n==="light"?"text-blue-600":"text-blue-400"}`,children:"Mark all as read"})]})}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:h.length>0?h.map($=>e.jsx("div",{className:`p-4 border-b last:border-b-0 ${$.read?n==="light"?"bg-white border-gray-200":"bg-gray-800 border-gray-700":n==="light"?"bg-blue-50 border-gray-200":"bg-blue-900/20 border-gray-700"}`,children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${$.read?"bg-gray-300":"bg-blue-500"}`}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${n==="light"?"text-gray-800":"text-gray-200"}`,children:$.message}),e.jsx("p",{className:`text-xs mt-1 ${n==="light"?"text-gray-500":"text-gray-400"}`,children:$.time})]})]})},$.id)):e.jsx("div",{className:"p-4 text-center",children:e.jsx("p",{className:`text-sm ${n==="light"?"text-gray-500":"text-gray-400"}`,children:"No notifications"})})}),e.jsx("div",{className:`p-3 border-t ${n==="light"?"border-gray-200":"border-gray-700"}`,children:e.jsx("button",{className:`w-full text-center text-sm py-2 rounded-lg ${n==="light"?"text-blue-600 hover:bg-blue-50":"text-blue-400 hover:bg-blue-900/20"}`,children:"View all notifications"})})]})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>o(!m),className:`flex items-center gap-2 px-3 py-2 rounded-lg ${n==="light"?"hover:bg-gray-100":"hover:bg-gray-700"}`,children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-500/20 flex items-center justify-center",children:e.jsx(ve,{className:"w-5 h-5 text-purple-400"})}),e.jsx("span",{className:`hidden md:block font-medium ${n==="light"?"text-gray-700":"text-gray-300"}`,children:k?.name||"Admin"}),e.jsx(we,{className:`w-4 h-4 ${n==="light"?"text-gray-500":"text-gray-400"}`})]}),e.jsx(q,{children:m&&e.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:`absolute right-0 mt-2 w-48 rounded-xl border shadow-lg z-50 ${n==="light"?"bg-white border-gray-200":"bg-gray-800 border-gray-700"}`,children:[e.jsxs("div",{className:`p-3 border-b ${n==="light"?"border-gray-200":"border-gray-700"}`,children:[e.jsx("p",{className:`font-medium ${n==="light"?"text-gray-900":"text-white"}`,children:k?.name||"Admin User"}),e.jsx("p",{className:`text-xs ${n==="light"?"text-gray-600":"text-gray-400"}`,children:k?.email||"admin@circles.com"})]}),e.jsxs("div",{className:"p-2",children:[e.jsxs("button",{onClick:()=>{setActivePanel("settings"),o(!1)},className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left ${n==="light"?"hover:bg-gray-100 text-gray-700":"hover:bg-gray-700 text-gray-300"}`,children:[e.jsx(ce,{className:"w-4 h-4"}),"Settings"]}),e.jsxs("button",{onClick:v,className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left ${n==="light"?"hover:bg-gray-100 text-gray-700":"hover:bg-gray-700 text-gray-300"}`,children:[e.jsx(Ne,{className:"w-4 h-4"}),"Sign Out"]})]})]})})]})]})]})})},De=i.createContext(void 0),nt=({children:t})=>{const[S,n]=i.useState([{id:"1",title:"Pathaan 2",type:"film",category:"Bollywood",status:"active",fundedPercentage:85,targetAmount:15e6,raisedAmount:1275e4,createdAt:"2023-12-15T10:30:00Z",updatedAt:"2024-01-20T14:45:00Z",poster:"https://m.media-amazon.com/images/M/MV5BOGY4NWNlM2QtMzVjYy00OGY1LWI4N2UtZDNlYWE2ZThjYmRmXkEyXkFqcGdeQXVyMTUzNTgzNzM0._V1_FMjpg_UX1000_.jpg"},{id:"2",title:"A.R. Rahman: Symphony of India",type:"music",category:"Bollywood",status:"active",fundedPercentage:95,targetAmount:5e6,raisedAmount:475e4,createdAt:"2023-11-10T08:15:00Z",updatedAt:"2024-01-15T11:20:00Z",poster:"https://i.scdn.co/image/ab67616d0000b273f54b99bf27cda88f4a7403ac"},{id:"3",title:"Sacred Games 3",type:"webseries",category:"Indian",status:"pending",fundedPercentage:45,targetAmount:12e6,raisedAmount:54e5,createdAt:"2024-01-05T09:45:00Z",updatedAt:"2024-01-25T16:30:00Z",poster:"https://m.media-amazon.com/images/M/MV5BMzRjZWVmMzItNTdmYS00OWEzLTgyOGUtNThiNTU2ZThlYjY0XkEyXkFqcGdeQXVyOTAzMTc2MjA@._V1_FMjpg_UX1000_.jpg"},{id:"4",title:"RRR 2",type:"film",category:"Regional",status:"active",fundedPercentage:78,targetAmount:35e6,raisedAmount:273e5,createdAt:"2023-10-20T14:00:00Z",updatedAt:"2024-01-10T09:15:00Z",poster:"https://m.media-amazon.com/images/M/MV5BODUwNDNjYzctODUxNy00ZTA2LWIyYTEtMDc5Y2E5ZjBmNTMzXkEyXkFqcGdeQXVyODE5NzE3OTE@._V1_FMjpg_UX1000_.jpg"},{id:"5",title:"Jawan: The Return",type:"film",category:"Bollywood",status:"completed",fundedPercentage:100,targetAmount:18e6,raisedAmount:18e6,createdAt:"2023-09-15T11:30:00Z",updatedAt:"2023-12-20T15:45:00Z",poster:"https://m.media-amazon.com/images/M/MV5BYjFjMTQzY2EtZjQ5MC00NGUyLWJiYWMtZDI3MTQ1MGU4OGY2XkEyXkFqcGdeQXVyMTUzNTgzNzM0._V1_FMjpg_UX1000_.jpg"}]),[r,k]=i.useState([{id:"1",title:"Pathaan 2 Limited Edition T-Shirt",category:"apparel",price:1299,stockLevel:150,status:"in-stock",image:"https://images.pexels.com/photos/8532616/pexels-photo-8532616.jpeg?auto=compress&cs=tinysrgb&w=400",createdAt:"2023-12-20T10:30:00Z"},{id:"2",title:"RRR 2 Collector's Watch",category:"accessories",price:4999,stockLevel:25,status:"low-stock",image:"https://images.pexels.com/photos/190819/pexels-photo-190819.jpeg?auto=compress&cs=tinysrgb&w=400",createdAt:"2023-11-15T14:45:00Z"},{id:"3",title:"A.R. Rahman Symphony Vinyl Record",category:"collectibles",price:2499,stockLevel:0,status:"out-of-stock",image:"https://images.pexels.com/photos/1389429/pexels-photo-1389429.jpeg?auto=compress&cs=tinysrgb&w=400",createdAt:"2024-01-10T09:15:00Z"},{id:"4",title:"Sacred Games 3 Poster Set",category:"collectibles",price:999,stockLevel:75,status:"in-stock",image:"https://images.pexels.com/photos/1047540/pexels-photo-1047540.jpeg?auto=compress&cs=tinysrgb&w=400",createdAt:"2024-01-25T16:30:00Z"}]),[v,m]=i.useState([{id:"1",title:"Digital Poster Collection",description:"Exclusive digital posters from the film",projectId:"1",projectTitle:"Pathaan 2",tier:"supporter",minAmount:1e4,createdAt:"2023-12-15T11:30:00Z"},{id:"2",title:"Virtual Meet & Greet",description:"Online session with the cast",projectId:"1",projectTitle:"Pathaan 2",tier:"backer",minAmount:25e3,createdAt:"2023-12-16T14:45:00Z"},{id:"3",title:"Studio Recording Session",description:"Attend a live recording session",projectId:"2",projectTitle:"A.R. Rahman: Symphony of India",tier:"producer",minAmount:5e4,createdAt:"2023-11-12T09:30:00Z"},{id:"4",title:"Executive Producer Credit",description:"Your name in the opening credits",projectId:"3",projectTitle:"Sacred Games 3",tier:"executive",minAmount:1e5,createdAt:"2024-01-07T15:20:00Z"}]),[o,d]=i.useState([{id:"1",title:"Pathaan 2 Official Poster",type:"image",url:"https://m.media-amazon.com/images/M/MV5BOGY4NWNlM2QtMzVjYy00OGY1LWI4N2UtZDNlYWE2ZThjYmRmXkEyXkFqcGdeQXVyMTUzNTgzNzM0._V1_FMjpg_UX1000_.jpg",fileSize:2048576,dimensions:"1000x1500",projectId:"1",tags:["poster","official","marketing"],createdAt:"2023-12-10T10:15:00Z"},{id:"2",title:"A.R. Rahman Symphony Teaser",type:"audio",url:"https://example.com/audio/rahman-symphony-teaser.mp3",fileSize:5242880,projectId:"2",tags:["audio","teaser","promotional"],createdAt:"2023-11-05T14:30:00Z"},{id:"3",title:"Sacred Games 3 Trailer",type:"video",url:"https://example.com/videos/sacred-games-3-trailer.mp4",fileSize:52428800,dimensions:"1920x1080",projectId:"3",tags:["trailer","promotional","netflix"],createdAt:"2024-01-03T16:45:00Z"},{id:"4",title:"RRR 2 Concept Art",type:"image",url:"https://example.com/images/rrr-2-concept-art.jpg",fileSize:3145728,dimensions:"2000x1200",projectId:"4",tags:["concept-art","pre-production"],createdAt:"2023-10-18T11:20:00Z"}]),[C,f]=i.useState([{id:"1",name:"Rahul Krishnan",email:"rahul.investor@gmail.com",role:"user",status:"active",investmentCount:12,totalInvested:45e4,createdAt:"2023-01-15T08:30:00Z"},{id:"2",name:"Shreya Patel",email:"shreya.patel@gmail.com",role:"user",status:"active",investmentCount:8,totalInvested:32e4,createdAt:"2023-03-20T14:45:00Z"},{id:"3",name:"Dev Malhotra",email:"dev.malhotra@gmail.com",role:"user",status:"inactive",investmentCount:5,totalInvested:18e4,createdAt:"2023-05-10T11:15:00Z"},{id:"4",name:"Admin User",email:"admin@circles.com",role:"admin",status:"active",investmentCount:0,totalInvested:0,createdAt:"2023-01-01T00:00:00Z"}]),[h,j]=i.useState([{id:"1",action:"Project Created",userId:"4",userName:"Admin User",resourceType:"project",resourceId:"1",details:"Created new project: Pathaan 2",timestamp:"2023-12-15T10:30:00Z"},{id:"2",action:"User Login",userId:"4",userName:"Admin User",resourceType:"system",details:"Admin user logged in",timestamp:"2024-01-30T09:15:00Z"},{id:"3",action:"Merchandise Added",userId:"4",userName:"Admin User",resourceType:"merchandise",resourceId:"1",details:"Added new merchandise: Pathaan 2 Limited Edition T-Shirt",timestamp:"2023-12-20T10:30:00Z"},{id:"4",action:"Media Uploaded",userId:"4",userName:"Admin User",resourceType:"media",resourceId:"1",details:"Uploaded new media: Pathaan 2 Official Poster",timestamp:"2023-12-10T10:15:00Z"},{id:"5",action:"User Status Updated",userId:"4",userName:"Admin User",resourceType:"user",resourceId:"3",details:"Updated user status to inactive: Dev Malhotra",timestamp:"2024-01-15T16:30:00Z"}]),[$,I]=i.useState([{id:"1",name:"Full Backup - 2024-01-30",size:15728640,createdAt:"2024-01-30T00:00:00Z",status:"completed"},{id:"2",name:"Full Backup - 2024-01-23",size:14680064,createdAt:"2024-01-23T00:00:00Z",status:"completed"},{id:"3",name:"Full Backup - 2024-01-16",size:13631488,createdAt:"2024-01-16T00:00:00Z",status:"completed"}]),y=p=>{const w=new Date().toISOString(),T={...p,id:Date.now().toString(),createdAt:w,updatedAt:w};n(U=>[T,...U]),x({action:"Project Created",userId:"4",userName:"Admin User",resourceType:"project",resourceId:T.id,details:`Created new project: ${T.title}`})},s=(p,w)=>{n(T=>T.map(U=>U.id===p?{...U,...w,updatedAt:new Date().toISOString()}:U)),x({action:"Project Updated",userId:"4",userName:"Admin User",resourceType:"project",resourceId:p,details:`Updated project: ${w.title||p}`})},A=p=>{const w=S.find(T=>T.id===p);n(T=>T.filter(U=>U.id!==p)),w&&x({action:"Project Deleted",userId:"4",userName:"Admin User",resourceType:"project",resourceId:p,details:`Deleted project: ${w.title}`})},D=p=>{n(T=>T.map(U=>U.id===p?{...U,status:"archived",updatedAt:new Date().toISOString()}:U));const w=S.find(T=>T.id===p);w&&x({action:"Project Archived",userId:"4",userName:"Admin User",resourceType:"project",resourceId:p,details:`Archived project: ${w.title}`})},L=p=>{const w={...p,id:Date.now().toString(),createdAt:new Date().toISOString()};k(T=>[w,...T]),x({action:"Merchandise Added",userId:"4",userName:"Admin User",resourceType:"merchandise",resourceId:w.id,details:`Added new merchandise: ${w.title}`})},l=(p,w)=>{k(T=>T.map(U=>U.id===p?{...U,...w}:U)),x({action:"Merchandise Updated",userId:"4",userName:"Admin User",resourceType:"merchandise",resourceId:p,details:`Updated merchandise: ${w.title||p}`})},g=p=>{const w=r.find(T=>T.id===p);k(T=>T.filter(U=>U.id!==p)),w&&x({action:"Merchandise Deleted",userId:"4",userName:"Admin User",resourceType:"merchandise",resourceId:p,details:`Deleted merchandise: ${w.title}`})},N=p=>{const w={...p,id:Date.now().toString(),createdAt:new Date().toISOString()};m(T=>[w,...T]),x({action:"Perk Added",userId:"4",userName:"Admin User",resourceType:"perk",resourceId:w.id,details:`Added new perk: ${w.title}`})},P=(p,w)=>{m(T=>T.map(U=>U.id===p?{...U,...w}:U)),x({action:"Perk Updated",userId:"4",userName:"Admin User",resourceType:"perk",resourceId:p,details:`Updated perk: ${w.title||p}`})},M=p=>{const w=v.find(T=>T.id===p);m(T=>T.filter(U=>U.id!==p)),w&&x({action:"Perk Deleted",userId:"4",userName:"Admin User",resourceType:"perk",resourceId:p,details:`Deleted perk: ${w.title}`})},b=p=>{const w={...p,id:Date.now().toString(),createdAt:new Date().toISOString()};d(T=>[w,...T]),x({action:"Media Uploaded",userId:"4",userName:"Admin User",resourceType:"media",resourceId:w.id,details:`Uploaded new media: ${w.title}`})},a=(p,w)=>{d(T=>T.map(U=>U.id===p?{...U,...w}:U)),x({action:"Media Updated",userId:"4",userName:"Admin User",resourceType:"media",resourceId:p,details:`Updated media: ${w.title||p}`})},c=p=>{const w=o.find(T=>T.id===p);d(T=>T.filter(U=>U.id!==p)),w&&x({action:"Media Deleted",userId:"4",userName:"Admin User",resourceType:"media",resourceId:p,details:`Deleted media: ${w.title}`})},F=(p,w)=>{f(U=>U.map(ae=>ae.id===p?{...ae,status:w}:ae));const T=C.find(U=>U.id===p);T&&x({action:"User Status Updated",userId:"4",userName:"Admin User",resourceType:"user",resourceId:p,details:`Updated user status to ${w}: ${T.name}`})},x=p=>{const w={...p,id:Date.now().toString(),timestamp:new Date().toISOString()};j(T=>[w,...T])},u={projects:S,addProject:y,updateProject:s,deleteProject:A,archiveProject:D,merchandiseItems:r,addMerchandiseItem:L,updateMerchandiseItem:l,deleteMerchandiseItem:g,perks:v,addPerk:N,updatePerk:P,deletePerk:M,mediaAssets:o,addMediaAsset:b,updateMediaAsset:a,deleteMediaAsset:c,users:C,updateUserStatus:F,activityLogs:h,addActivityLog:x,backups:$,createBackup:async()=>{const p={id:Date.now().toString(),name:`Full Backup - ${new Date().toISOString().split("T")[0]}`,size:Math.floor(Math.random()*5e6)+1e7,createdAt:new Date().toISOString(),status:"in-progress"};I(w=>[p,...w]),x({action:"Backup Started",userId:"4",userName:"Admin User",resourceType:"system",details:`Started new backup: ${p.name}`}),await new Promise(w=>setTimeout(w,3e3)),I(w=>w.map(T=>T.id===p.id?{...T,status:"completed"}:T)),x({action:"Backup Completed",userId:"4",userName:"Admin User",resourceType:"system",details:`Completed backup: ${p.name}`})},restoreBackup:async p=>{const w=$.find(T=>T.id===p);w&&(x({action:"Backup Restore Started",userId:"4",userName:"Admin User",resourceType:"system",details:`Started restoring backup: ${w.name}`}),await new Promise(T=>setTimeout(T,5e3)),x({action:"Backup Restore Completed",userId:"4",userName:"Admin User",resourceType:"system",details:`Completed restoring backup: ${w.name}`}))}};return e.jsx(De.Provider,{value:u,children:t})},O=()=>{const t=i.useContext(De);if(t===void 0)throw new Error("useAdmin must be used within an AdminProvider");return t},ot=({project:t,isOpen:S,onClose:n})=>{const{theme:r}=z(),{addProject:k,updateProject:v,projects:m}=O(),[o,d]=i.useState({title:"",type:"film",category:"",status:"active",fundedPercentage:0,targetAmount:0,raisedAmount:0,poster:""}),[C,f]=i.useState(!1),[h,j]=i.useState({}),[$,I]=i.useState(null),[y,s]=i.useState("");i.useEffect(()=>{t&&(d({title:t.title,type:t.type,category:t.category,status:t.status,fundedPercentage:t.fundedPercentage,targetAmount:t.targetAmount,raisedAmount:t.raisedAmount,poster:t.poster||""}),t.poster&&s(t.poster))},[t]);const A=(g,N)=>{d(P=>({...P,[g]:N})),h[g]&&j(P=>{const M={...P};return delete M[g],M})},D=g=>{const N=g.target.files?.[0];if(!N)return;I(N);const P=new FileReader;P.onloadend=()=>{s(P.result)},P.readAsDataURL(N)},L=()=>{const g={};return o.title.trim()||(g.title="Title is required"),o.category.trim()||(g.category="Category is required"),o.targetAmount<=0&&(g.targetAmount="Target amount must be greater than 0"),j(g),Object.keys(g).length===0},l=async g=>{if(g.preventDefault(),!!L()){f(!0);try{const N=$?y:o.poster;t?v(t.id,{...o,poster:N}):k({...o,poster:N}),n()}catch(N){console.error("Error saving project:",N)}finally{f(!1)}}};return S?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:n}),e.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:`relative w-full max-w-3xl rounded-lg p-6 shadow-xl ${r==="light"?"bg-white":"bg-gray-800"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:`text-xl font-bold ${r==="light"?"text-gray-900":"text-white"}`,children:t?"Edit Project":"Add New Project"}),e.jsx("button",{onClick:n,className:`p-2 rounded-full ${r==="light"?"text-gray-400 hover:text-gray-600":"text-gray-500 hover:text-gray-300"}`,children:e.jsx(H,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:l,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r==="light"?"text-gray-700":"text-gray-300"}`,children:"Project Title"}),e.jsx("input",{type:"text",value:o.title,onChange:g=>A("title",g.target.value),className:`w-full px-4 py-2 rounded-lg border ${h.title?"border-red-500":r==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter project title"}),h.title&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:h.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r==="light"?"text-gray-700":"text-gray-300"}`,children:"Project Type"}),e.jsxs("select",{value:o.type,onChange:g=>A("type",g.target.value),className:`w-full px-4 py-2 rounded-lg border ${r==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"film",children:"Film"}),e.jsx("option",{value:"music",children:"Music"}),e.jsx("option",{value:"webseries",children:"Web Series"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r==="light"?"text-gray-700":"text-gray-300"}`,children:"Category"}),e.jsx("input",{type:"text",value:o.category,onChange:g=>A("category",g.target.value),className:`w-full px-4 py-2 rounded-lg border ${h.category?"border-red-500":r==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"e.g., Bollywood, Regional, Hollywood"}),h.category&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:h.category})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r==="light"?"text-gray-700":"text-gray-300"}`,children:"Status"}),e.jsxs("select",{value:o.status,onChange:g=>A("status",g.target.value),className:`w-full px-4 py-2 rounded-lg border ${r==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"archived",children:"Archived"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r==="light"?"text-gray-700":"text-gray-300"}`,children:"Target Amount (₹)"}),e.jsx("input",{type:"number",value:o.targetAmount,onChange:g=>A("targetAmount",Number(g.target.value)),className:`w-full px-4 py-2 rounded-lg border ${h.targetAmount?"border-red-500":r==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter target amount"}),h.targetAmount&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:h.targetAmount})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r==="light"?"text-gray-700":"text-gray-300"}`,children:"Raised Amount (₹)"}),e.jsx("input",{type:"number",value:o.raisedAmount,onChange:g=>{const N=Number(g.target.value);if(A("raisedAmount",N),o.targetAmount>0){const P=Math.min(100,Math.round(N/o.targetAmount*100));A("fundedPercentage",P)}},className:`w-full px-4 py-2 rounded-lg border ${r==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter raised amount"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r==="light"?"text-gray-700":"text-gray-300"}`,children:"Funded Percentage"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"number",value:o.fundedPercentage,onChange:g=>A("fundedPercentage",Math.min(100,Number(g.target.value))),className:`w-full px-4 py-2 rounded-lg border ${r==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter percentage",min:"0",max:"100"}),e.jsx("span",{className:r==="light"?"text-gray-700":"text-gray-300",children:"%"})]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:`w-full h-2 rounded-full ${r==="light"?"bg-gray-200":"bg-gray-700"}`,children:e.jsx("div",{className:`h-2 rounded-full ${o.type==="film"?"bg-purple-500":o.type==="music"?"bg-blue-500":"bg-green-500"}`,style:{width:`${o.fundedPercentage}%`}})})})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r==="light"?"text-gray-700":"text-gray-300"}`,children:"Poster Image"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`flex-1 border-2 border-dashed rounded-lg p-4 ${r==="light"?"border-gray-300":"border-gray-600"}`,children:e.jsx("div",{className:"flex items-center justify-center",children:y?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:y,alt:"Poster preview",className:"h-40 object-contain rounded"}),e.jsx("button",{type:"button",onClick:()=>{s(""),I(null),A("poster","")},className:"absolute top-2 right-2 p-1 rounded-full bg-black/50 text-white hover:bg-black/70",children:e.jsx(H,{className:"w-4 h-4"})})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center cursor-pointer",children:[e.jsx(ee,{className:`w-10 h-10 mb-2 ${r==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("span",{className:`text-sm ${r==="light"?"text-gray-600":"text-gray-400"}`,children:"Click to upload poster"}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:D})]})})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${r==="light"?"text-gray-600":"text-gray-400"}`,children:"Or enter URL:"}),e.jsx("input",{type:"text",value:o.poster,onChange:g=>{A("poster",g.target.value),g.target.value&&s(g.target.value)},className:`mt-2 w-full px-4 py-2 rounded-lg border ${r==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"https://example.com/poster.jpg"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:n,className:`px-4 py-2 rounded-lg border ${r==="light"?"border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-200 hover:bg-gray-600"}`,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:C,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700 transition-colors disabled:opacity-70 flex items-center gap-2",children:C?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Save Project"})]})]})]})]})}):null},Z=({isOpen:t,title:S,message:n,confirmLabel:r,cancelLabel:k="Cancel",confirmVariant:v="primary",onConfirm:m,onCancel:o,isLoading:d=!1})=>{const{theme:C}=z();if(!t)return null;const f=()=>{switch(v){case"danger":return"bg-red-600 hover:bg-red-700 focus:ring-red-500";case"warning":return"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500";case"success":return"bg-green-600 hover:bg-green-700 focus:ring-green-500";default:return"bg-purple-600 hover:bg-purple-700 focus:ring-purple-500"}};return e.jsx(q,{children:e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:o}),e.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:`relative w-full max-w-md rounded-lg p-6 text-left shadow-xl ${C==="light"?"bg-white":"bg-gray-800"}`,children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-2 rounded-full ${v==="danger"?"bg-red-100 text-red-600":v==="warning"?"bg-yellow-100 text-yellow-600":v==="success"?"bg-green-100 text-green-600":"bg-purple-100 text-purple-600"}`,children:e.jsx(de,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`text-lg font-medium ${C==="light"?"text-gray-900":"text-white"}`,children:S}),e.jsx("p",{className:`mt-2 ${C==="light"?"text-gray-600":"text-gray-300"}`,children:n})]}),e.jsx("button",{onClick:o,className:`p-1 rounded-full ${C==="light"?"text-gray-400 hover:text-gray-600":"text-gray-500 hover:text-gray-300"}`,children:e.jsx(H,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:o,className:`px-4 py-2 rounded-lg border ${C==="light"?"border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-200 hover:bg-gray-600"}`,children:k}),e.jsx("button",{type:"button",onClick:m,disabled:d,className:`px-4 py-2 rounded-lg text-white ${f()} flex items-center gap-2 disabled:opacity-70`,children:d?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):r})]})]})]})})})};var le=at();const W=({columns:t,data:S,onSort:n,sortField:r,sortDirection:k})=>{const{theme:v}=z(),{getTableProps:m,getTableBodyProps:o,headerGroups:d,prepareRow:C,page:f,canPreviousPage:h,canNextPage:j,pageOptions:$,pageCount:I,gotoPage:y,nextPage:s,previousPage:A,setPageSize:D,state:{pageIndex:L,pageSize:l}}=le.useTable({columns:t,data:S,initialState:{pageIndex:0,pageSize:10},manualSortBy:!!n,disableSortBy:!n},le.useSortBy,le.usePagination),g=N=>{n&&N.id&&n(N.id)};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("table",{...m(),className:"w-full",children:[e.jsx("thead",{className:`${v==="light"?"bg-gray-50":"bg-gray-800"}`,children:d.map(N=>e.jsx("tr",{...N.getHeaderGroupProps(),children:N.headers.map(P=>e.jsx("th",{...P.getHeaderProps(),className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${v==="light"?"text-gray-500":"text-gray-400"}`,onClick:()=>g(P),style:{cursor:n?"pointer":"default"},children:e.jsxs("div",{className:"flex items-center gap-2",children:[P.render("Header"),n&&r===P.id&&(k==="asc"?e.jsx(Re,{className:"w-4 h-4"}):e.jsx(we,{className:"w-4 h-4"}))]})}))}))}),e.jsx("tbody",{...o(),className:`${v==="light"?"bg-white divide-y divide-gray-200":"divide-y divide-gray-700"}`,children:f.map((N,P)=>(C(N),e.jsx("tr",{...N.getRowProps(),className:`${v==="light"?"hover:bg-gray-50":"hover:bg-gray-700"}`,children:N.cells.map(M=>e.jsx("td",{...M.getCellProps(),className:"px-6 py-4 whitespace-nowrap",children:M.render("Cell")}))})))})]})}),e.jsxs("div",{className:`px-4 py-3 flex items-center justify-between border-t ${v==="light"?"bg-white border-gray-200":"bg-gray-800 border-gray-700"}`,children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>A(),disabled:!h,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md ${v==="light"?"border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-200 hover:bg-gray-600"} ${!h&&"opacity-50 cursor-not-allowed"}`,children:"Previous"}),e.jsx("button",{onClick:()=>s(),disabled:!j,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md ${v==="light"?"border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-200 hover:bg-gray-600"} ${!j&&"opacity-50 cursor-not-allowed"}`,children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:`text-sm ${v==="light"?"text-gray-700":"text-gray-300"}`,children:["Showing ",e.jsx("span",{className:"font-medium",children:L*l+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min((L+1)*l,S.length)})," ","of ",e.jsx("span",{className:"font-medium",children:S.length})," results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>y(0),disabled:!h,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border text-sm font-medium ${v==="light"?"border-gray-300 bg-white text-gray-500 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-300 hover:bg-gray-600"} ${!h&&"opacity-50 cursor-not-allowed"}`,children:[e.jsx("span",{className:"sr-only",children:"First"}),e.jsx(Be,{className:"h-5 w-5","aria-hidden":"true"})]}),e.jsxs("button",{onClick:()=>A(),disabled:!h,className:`relative inline-flex items-center px-2 py-2 border text-sm font-medium ${v==="light"?"border-gray-300 bg-white text-gray-500 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-300 hover:bg-gray-600"} ${!h&&"opacity-50 cursor-not-allowed"}`,children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx(ze,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(Math.min(5,I))].map((N,P)=>{const M=L-2+P;return M>=0&&M<I?e.jsx("button",{onClick:()=>y(M),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${M===L?v==="light"?"z-10 bg-purple-50 border-purple-500 text-purple-600":"z-10 bg-purple-900/30 border-purple-500 text-purple-300":v==="light"?"bg-white border-gray-300 text-gray-500 hover:bg-gray-50":"bg-gray-700 border-gray-600 text-gray-300 hover:bg-gray-600"}`,children:M+1},M):null}),e.jsxs("button",{onClick:()=>s(),disabled:!j,className:`relative inline-flex items-center px-2 py-2 border text-sm font-medium ${v==="light"?"border-gray-300 bg-white text-gray-500 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-300 hover:bg-gray-600"} ${!j&&"opacity-50 cursor-not-allowed"}`,children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx(Oe,{className:"h-5 w-5","aria-hidden":"true"})]}),e.jsxs("button",{onClick:()=>y(I-1),disabled:!j,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border text-sm font-medium ${v==="light"?"border-gray-300 bg-white text-gray-500 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-300 hover:bg-gray-600"} ${!j&&"opacity-50 cursor-not-allowed"}`,children:[e.jsx("span",{className:"sr-only",children:"Last"}),e.jsx(He,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})},ye=()=>{const{theme:t}=z(),{projects:S,deleteProject:n,archiveProject:r}=O(),[k,v]=i.useState(!1),[m,o]=i.useState(null),[d,C]=i.useState(null),[f,h]=i.useState(null),[j,$]=i.useState(""),[I,y]=i.useState("all"),[s,A]=i.useState("all"),[D,L]=i.useState("all"),[l,g]=i.useState("createdAt"),[N,P]=i.useState("desc"),M=i.useMemo(()=>S.filter(u=>{const p=u.title.toLowerCase().includes(j.toLowerCase()),w=I==="all"||u.type===I,T=s==="all"||u.status===s,U=D==="all"||u.category===D;return p&&w&&T&&U}).sort((u,p)=>l==="createdAt"||l==="updatedAt"?N==="asc"?new Date(u[l]).getTime()-new Date(p[l]).getTime():new Date(p[l]).getTime()-new Date(u[l]).getTime():typeof u[l]=="number"&&typeof p[l]=="number"?N==="asc"?u[l]-p[l]:p[l]-u[l]:N==="asc"?String(u[l]).localeCompare(String(p[l])):String(p[l]).localeCompare(String(u[l]))),[S,j,I,s,D,l,N]),b=i.useMemo(()=>{const u=new Set(S.map(p=>p.category));return Array.from(u)},[S]),a=u=>{l===u?P(N==="asc"?"desc":"asc"):(g(u),P("asc"))},c=()=>{d&&(n(d),C(null))},F=()=>{f&&(r(f),h(null))},x=u=>{switch(u){case"active":return e.jsx(V,{className:"w-4 h-4 text-green-500"});case"pending":return e.jsx(ke,{className:"w-4 h-4 text-yellow-500"});case"completed":return e.jsx(V,{className:"w-4 h-4 text-blue-500"});case"archived":return e.jsx(ue,{className:"w-4 h-4 text-gray-500"});default:return e.jsx(ge,{className:"w-4 h-4 text-red-500"})}},E=u=>{switch(u){case"film":return e.jsx(K,{className:"w-4 h-4 text-purple-500"});case"music":return e.jsx($e,{className:"w-4 h-4 text-blue-500"});case"webseries":return e.jsx(Se,{className:"w-4 h-4 text-green-500"});default:return null}},B=[{Header:"Title",accessor:"title",Cell:({row:u})=>e.jsxs("div",{className:"flex items-center gap-3",children:[u.original.poster?e.jsx("img",{src:u.original.poster,alt:u.original.title,className:"w-10 h-10 object-cover rounded"}):e.jsx("div",{className:`w-10 h-10 rounded flex items-center justify-center ${t==="light"?"bg-gray-200":"bg-gray-700"}`,children:E(u.original.type)}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:u.original.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-xs ${t==="light"?"text-gray-500":"text-gray-400"}`,children:u.original.category}),e.jsxs("span",{className:"flex items-center gap-1 text-xs",children:[E(u.original.type),e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-300",children:u.original.type})]})]})]})]})},{Header:"Status",accessor:"status",Cell:({value:u})=>e.jsxs("div",{className:"flex items-center gap-2",children:[x(u),e.jsx("span",{className:`capitalize ${u==="active"?"text-green-500":u==="pending"?"text-yellow-500":u==="completed"?"text-blue-500":"text-gray-500"}`,children:u})]})},{Header:"Funding",accessor:"fundedPercentage",Cell:({row:u})=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("span",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:[u.original.fundedPercentage,"%"]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["₹",(u.original.raisedAmount/1e5).toFixed(1),"L / ₹",(u.original.targetAmount/1e5).toFixed(1),"L"]})]}),e.jsx("div",{className:`w-full h-2 rounded-full ${t==="light"?"bg-gray-200":"bg-gray-700"}`,children:e.jsx("div",{className:`h-2 rounded-full ${u.original.type==="film"?"bg-purple-500":u.original.type==="music"?"bg-blue-500":"bg-green-500"}`,style:{width:`${u.original.fundedPercentage}%`}})})]})},{Header:"Created",accessor:"createdAt",Cell:({value:u})=>e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-400",children:new Date(u).toLocaleDateString()})},{Header:"Updated",accessor:"updatedAt",Cell:({value:u})=>e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-400",children:new Date(u).toLocaleDateString()})},{Header:"Actions",Cell:({row:u})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>o(u.original),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-700 text-gray-300"}`,title:"Edit",children:e.jsx(te,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>h(u.original.id),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-700 text-gray-300"}`,title:"Archive",children:e.jsx(ue,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>C(u.original.id),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-red-600":"hover:bg-gray-700 text-red-400"}`,title:"Delete",children:e.jsx(re,{className:"w-4 h-4"})})]})}];return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold mb-1 ${t==="light"?"text-gray-900":"text-white"}`,children:"Projects"}),e.jsx("p",{className:`${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Manage all your entertainment projects"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors",children:[e.jsx(J,{className:"w-5 h-5"}),"Add Project"]}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(X,{className:"w-5 h-5"})}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(Y,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${t==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"text",placeholder:"Search projects...",value:j,onChange:u=>$(u.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("select",{value:I,onChange:u=>y(u.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"film",children:"Films"}),e.jsx("option",{value:"music",children:"Music"}),e.jsx("option",{value:"webseries",children:"Web Series"})]}),e.jsxs("select",{value:s,onChange:u=>A(u.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"archived",children:"Archived"})]}),e.jsxs("select",{value:D,onChange:u=>L(u.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Categories"}),b.map(u=>e.jsx("option",{value:u,children:u},u))]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(W,{columns:B,data:M,onSort:a,sortField:l,sortDirection:N})}),(k||m)&&e.jsx(ot,{project:m,isOpen:k||!!m,onClose:()=>{v(!1),o(null)}}),e.jsx(Z,{isOpen:!!d,title:"Delete Project",message:"Are you sure you want to delete this project? This action cannot be undone.",confirmLabel:"Delete",confirmVariant:"danger",onConfirm:c,onCancel:()=>C(null)}),e.jsx(Z,{isOpen:!!f,title:"Archive Project",message:"Are you sure you want to archive this project? It will no longer be visible to users but can be restored later.",confirmLabel:"Archive",confirmVariant:"warning",onConfirm:F,onCancel:()=>h(null)})]})},ct=({item:t,isOpen:S,onClose:n})=>{const{theme:r}=z(),{addMerchandiseItem:k,updateMerchandiseItem:v}=O(),[m,o]=i.useState({title:"",category:"",price:0,stockLevel:0,status:"in-stock",image:""}),[d,C]=i.useState(!1),[f,h]=i.useState({}),[j,$]=i.useState(null),[I,y]=i.useState("");i.useEffect(()=>{t&&(o({title:t.title,category:t.category,price:t.price,stockLevel:t.stockLevel,status:t.status,image:t.image||""}),t.image&&y(t.image))},[t]);const s=(l,g)=>{if(o(N=>({...N,[l]:g})),f[l]&&h(N=>{const P={...N};return delete P[l],P}),l==="stockLevel"){const N=Number(g);let P="in-stock";N===0?P="out-of-stock":N<=10&&(P="low-stock"),o(M=>({...M,status:P}))}},A=l=>{const g=l.target.files?.[0];if(!g)return;$(g);const N=new FileReader;N.onloadend=()=>{y(N.result)},N.readAsDataURL(g)},D=()=>{const l={};return m.title.trim()||(l.title="Title is required"),m.category.trim()||(l.category="Category is required"),m.price<0&&(l.price="Price cannot be negative"),m.stockLevel<0&&(l.stockLevel="Stock level cannot be negative"),h(l),Object.keys(l).length===0},L=async l=>{if(l.preventDefault(),!!D()){C(!0);try{const g=j?I:m.image;t?v(t.id,{...m,image:g}):k({...m,image:g}),n()}catch(g){console.error("Error saving merchandise item:",g)}finally{C(!1)}}};return S?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:n}),e.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:`relative w-full max-w-2xl rounded-lg p-6 shadow-xl ${r==="light"?"bg-white":"bg-gray-800"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:`text-xl font-bold ${r==="light"?"text-gray-900":"text-white"}`,children:t?"Edit Merchandise Item":"Add New Merchandise Item"}),e.jsx("button",{onClick:n,className:`p-2 rounded-full ${r==="light"?"text-gray-400 hover:text-gray-600":"text-gray-500 hover:text-gray-300"}`,children:e.jsx(H,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:L,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r==="light"?"text-gray-700":"text-gray-300"}`,children:"Item Title"}),e.jsx("input",{type:"text",value:m.title,onChange:l=>s("title",l.target.value),className:`w-full px-4 py-2 rounded-lg border ${f.title?"border-red-500":r==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter merchandise title"}),f.title&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:f.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r==="light"?"text-gray-700":"text-gray-300"}`,children:"Category"}),e.jsxs("select",{value:m.category,onChange:l=>s("category",l.target.value),className:`w-full px-4 py-2 rounded-lg border ${f.category?"border-red-500":r==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"",children:"Select Category"}),e.jsx("option",{value:"apparel",children:"Apparel"}),e.jsx("option",{value:"accessories",children:"Accessories"}),e.jsx("option",{value:"collectibles",children:"Collectibles"}),e.jsx("option",{value:"limited-editions",children:"Limited Editions"})]}),f.category&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:f.category})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r==="light"?"text-gray-700":"text-gray-300"}`,children:"Price (₹)"}),e.jsx("input",{type:"number",value:m.price,onChange:l=>s("price",Number(l.target.value)),className:`w-full px-4 py-2 rounded-lg border ${f.price?"border-red-500":r==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter price"}),f.price&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:f.price})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r==="light"?"text-gray-700":"text-gray-300"}`,children:"Stock Level"}),e.jsx("input",{type:"number",value:m.stockLevel,onChange:l=>s("stockLevel",Number(l.target.value)),className:`w-full px-4 py-2 rounded-lg border ${f.stockLevel?"border-red-500":r==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter stock level"}),f.stockLevel&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:f.stockLevel})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r==="light"?"text-gray-700":"text-gray-300"}`,children:"Status"}),e.jsxs("select",{value:m.status,onChange:l=>s("status",l.target.value),className:`w-full px-4 py-2 rounded-lg border ${r==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"in-stock",children:"In Stock"}),e.jsx("option",{value:"low-stock",children:"Low Stock"}),e.jsx("option",{value:"out-of-stock",children:"Out of Stock"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r==="light"?"text-gray-700":"text-gray-300"}`,children:"Item Image"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`flex-1 border-2 border-dashed rounded-lg p-4 ${r==="light"?"border-gray-300":"border-gray-600"}`,children:e.jsx("div",{className:"flex items-center justify-center",children:I?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:I,alt:"Item preview",className:"h-40 object-contain rounded"}),e.jsx("button",{type:"button",onClick:()=>{y(""),$(null),s("image","")},className:"absolute top-2 right-2 p-1 rounded-full bg-black/50 text-white hover:bg-black/70",children:e.jsx(H,{className:"w-4 h-4"})})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center cursor-pointer",children:[e.jsx(ee,{className:`w-10 h-10 mb-2 ${r==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("span",{className:`text-sm ${r==="light"?"text-gray-600":"text-gray-400"}`,children:"Click to upload image"}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:A})]})})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${r==="light"?"text-gray-600":"text-gray-400"}`,children:"Or enter URL:"}),e.jsx("input",{type:"text",value:m.image,onChange:l=>{s("image",l.target.value),l.target.value&&y(l.target.value)},className:`mt-2 w-full px-4 py-2 rounded-lg border ${r==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"https://example.com/image.jpg"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:n,className:`px-4 py-2 rounded-lg border ${r==="light"?"border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-200 hover:bg-gray-600"}`,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700 transition-colors disabled:opacity-70 flex items-center gap-2",children:d?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Save Item"})]})]})]})]})}):null},dt=()=>{const{theme:t}=z(),{merchandiseItems:S,deleteMerchandiseItem:n}=O(),[r,k]=i.useState(!1),[v,m]=i.useState(null),[o,d]=i.useState(null),[C,f]=i.useState(""),[h,j]=i.useState("all"),[$,I]=i.useState("all"),[y,s]=i.useState("createdAt"),[A,D]=i.useState("desc"),L=i.useMemo(()=>S.filter(b=>{const a=b.title.toLowerCase().includes(C.toLowerCase()),c=h==="all"||b.category===h,F=$==="all"||b.status===$;return a&&c&&F}).sort((b,a)=>y==="createdAt"?A==="asc"?new Date(b[y]).getTime()-new Date(a[y]).getTime():new Date(a[y]).getTime()-new Date(b[y]).getTime():typeof b[y]=="number"&&typeof a[y]=="number"?A==="asc"?b[y]-a[y]:a[y]-b[y]:A==="asc"?String(b[y]).localeCompare(String(a[y])):String(a[y]).localeCompare(String(b[y]))),[S,C,h,$,y,A]),l=i.useMemo(()=>{const b=new Set(S.map(a=>a.category));return Array.from(b)},[S]),g=b=>{y===b?D(A==="asc"?"desc":"asc"):(s(b),D("asc"))},N=()=>{o&&(n(o),d(null))},P=b=>{switch(b){case"in-stock":return e.jsx(V,{className:"w-4 h-4 text-green-500"});case"low-stock":return e.jsx(Ve,{className:"w-4 h-4 text-yellow-500"});case"out-of-stock":return e.jsx(ge,{className:"w-4 h-4 text-red-500"});default:return null}},M=[{Header:"Item",accessor:"title",Cell:({row:b})=>e.jsxs("div",{className:"flex items-center gap-3",children:[b.original.image?e.jsx("img",{src:b.original.image,alt:b.original.title,className:"w-10 h-10 object-cover rounded"}):e.jsx("div",{className:`w-10 h-10 rounded flex items-center justify-center ${t==="light"?"bg-gray-200":"bg-gray-700"}`,children:e.jsx(oe,{className:"w-5 h-5 text-gray-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:b.original.title}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"flex items-center gap-1 text-xs",children:[e.jsx(Ze,{className:`w-3 h-3 ${t==="light"?"text-gray-500":"text-gray-400"}`}),e.jsx("span",{className:`capitalize ${t==="light"?"text-gray-600":"text-gray-300"}`,children:b.original.category})]})})]})]})},{Header:"Price",accessor:"price",Cell:({value:b})=>e.jsxs("span",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:["₹",b.toLocaleString()]})},{Header:"Stock",accessor:"stockLevel",Cell:({row:b})=>e.jsxs("div",{className:"flex items-center gap-2",children:[P(b.original.status),e.jsx("span",{className:`${b.original.status==="in-stock"?"text-green-500":b.original.status==="low-stock"?"text-yellow-500":"text-red-500"}`,children:b.original.stockLevel})]})},{Header:"Status",accessor:"status",Cell:({value:b})=>e.jsx("span",{className:`capitalize ${b==="in-stock"?"text-green-500":b==="low-stock"?"text-yellow-500":"text-red-500"}`,children:b.replace("-"," ")})},{Header:"Created",accessor:"createdAt",Cell:({value:b})=>e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-400",children:new Date(b).toLocaleDateString()})},{Header:"Actions",Cell:({row:b})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>m(b.original),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-700 text-gray-300"}`,title:"Edit",children:e.jsx(te,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>d(b.original.id),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-red-600":"hover:bg-gray-700 text-red-400"}`,title:"Delete",children:e.jsx(re,{className:"w-4 h-4"})})]})}];return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold mb-1 ${t==="light"?"text-gray-900":"text-white"}`,children:"Merchandise"}),e.jsx("p",{className:`${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Manage your merchandise inventory"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>k(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors",children:[e.jsx(J,{className:"w-5 h-5"}),"Add Item"]}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(X,{className:"w-5 h-5"})}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(Y,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${t==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"text",placeholder:"Search merchandise...",value:C,onChange:b=>f(b.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("select",{value:h,onChange:b=>j(b.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Categories"}),l.map(b=>e.jsx("option",{value:b,children:b},b))]}),e.jsxs("select",{value:$,onChange:b=>I(b.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"in-stock",children:"In Stock"}),e.jsx("option",{value:"low-stock",children:"Low Stock"}),e.jsx("option",{value:"out-of-stock",children:"Out of Stock"})]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(W,{columns:M,data:L,onSort:g,sortField:y,sortDirection:A})}),(r||v)&&e.jsx(ct,{item:v,isOpen:r||!!v,onClose:()=>{k(!1),m(null)}}),e.jsx(Z,{isOpen:!!o,title:"Delete Merchandise Item",message:"Are you sure you want to delete this merchandise item? This action cannot be undone.",confirmLabel:"Delete",confirmVariant:"danger",onConfirm:N,onCancel:()=>d(null)})]})},gt=({perk:t,isOpen:S,onClose:n})=>{const{theme:r}=z(),{addPerk:k,updatePerk:v,projects:m}=O(),[o,d]=i.useState({title:"",description:"",projectId:"",projectTitle:"",tier:"supporter",minAmount:1e4}),[C,f]=i.useState(!1),[h,j]=i.useState({});i.useEffect(()=>{t&&d({title:t.title,description:t.description,projectId:t.projectId||"",projectTitle:t.projectTitle||"",tier:t.tier,minAmount:t.minAmount})},[t]);const $=(s,A)=>{if(d(D=>({...D,[s]:A})),h[s]&&j(D=>{const L={...D};return delete L[s],L}),s==="projectId"&&A){const D=m.find(L=>L.id===A);D&&d(L=>({...L,projectTitle:D.title}))}},I=()=>{const s={};return o.title.trim()||(s.title="Title is required"),o.description.trim()||(s.description="Description is required"),o.minAmount<=0&&(s.minAmount="Minimum amount must be greater than 0"),j(s),Object.keys(s).length===0},y=async s=>{if(s.preventDefault(),!!I()){f(!0);try{t?v(t.id,o):k(o),n()}catch(A){console.error("Error saving perk:",A)}finally{f(!1)}}};return S?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:n}),e.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:`relative w-full max-w-2xl rounded-lg p-6 shadow-xl ${r==="light"?"bg-white":"bg-gray-800"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:`text-xl font-bold ${r==="light"?"text-gray-900":"text-white"}`,children:t?"Edit Perk":"Add New Perk"}),e.jsx("button",{onClick:n,className:`p-2 rounded-full ${r==="light"?"text-gray-400 hover:text-gray-600":"text-gray-500 hover:text-gray-300"}`,children:e.jsx(H,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:y,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r==="light"?"text-gray-700":"text-gray-300"}`,children:"Perk Title"}),e.jsx("input",{type:"text",value:o.title,onChange:s=>$("title",s.target.value),className:`w-full px-4 py-2 rounded-lg border ${h.title?"border-red-500":r==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter perk title"}),h.title&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:h.title})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r==="light"?"text-gray-700":"text-gray-300"}`,children:"Description"}),e.jsx("textarea",{value:o.description,onChange:s=>$("description",s.target.value),rows:3,className:`w-full px-4 py-2 rounded-lg border ${h.description?"border-red-500":r==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Describe the perk"}),h.description&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:h.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r==="light"?"text-gray-700":"text-gray-300"}`,children:"Project"}),e.jsxs("select",{value:o.projectId,onChange:s=>$("projectId",s.target.value),className:`w-full px-4 py-2 rounded-lg border ${r==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"",children:"Select Project (Optional)"}),m.map(s=>e.jsx("option",{value:s.id,children:s.title},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r==="light"?"text-gray-700":"text-gray-300"}`,children:"Tier"}),e.jsxs("select",{value:o.tier,onChange:s=>$("tier",s.target.value),className:`w-full px-4 py-2 rounded-lg border ${r==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"supporter",children:"Supporter"}),e.jsx("option",{value:"backer",children:"Backer"}),e.jsx("option",{value:"producer",children:"Producer"}),e.jsx("option",{value:"executive",children:"Executive"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r==="light"?"text-gray-700":"text-gray-300"}`,children:"Minimum Amount (₹)"}),e.jsx("input",{type:"number",value:o.minAmount,onChange:s=>$("minAmount",Number(s.target.value)),className:`w-full px-4 py-2 rounded-lg border ${h.minAmount?"border-red-500":r==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter minimum amount"}),h.minAmount&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:h.minAmount})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:n,className:`px-4 py-2 rounded-lg border ${r==="light"?"border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-200 hover:bg-gray-600"}`,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:C,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700 transition-colors disabled:opacity-70 flex items-center gap-2",children:C?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Save Perk"})]})]})]})]})}):null},ut=()=>{const{theme:t}=z(),{perks:S,deletePerk:n,projects:r}=O(),[k,v]=i.useState(!1),[m,o]=i.useState(null),[d,C]=i.useState(null),[f,h]=i.useState(""),[j,$]=i.useState("all"),[I,y]=i.useState("all"),[s,A]=i.useState("createdAt"),[D,L]=i.useState("desc"),l=i.useMemo(()=>S.filter(a=>{const c=a.title.toLowerCase().includes(f.toLowerCase())||a.description.toLowerCase().includes(f.toLowerCase()),F=j==="all"||a.tier===j,x=I==="all"||a.projectId===I;return c&&F&&x}).sort((a,c)=>s==="createdAt"?D==="asc"?new Date(a[s]).getTime()-new Date(c[s]).getTime():new Date(c[s]).getTime()-new Date(a[s]).getTime():typeof a[s]=="number"&&typeof c[s]=="number"?D==="asc"?a[s]-c[s]:c[s]-a[s]:D==="asc"?String(a[s]).localeCompare(String(c[s])):String(c[s]).localeCompare(String(a[s]))),[S,f,j,I,s,D]),g=a=>{s===a?L(D==="asc"?"desc":"asc"):(A(a),L("asc"))},N=()=>{d&&(n(d),C(null))},P=a=>{switch(a){case"supporter":return e.jsx(Ye,{className:`w-4 h-4 ${t==="light"?"text-gray-700":"text-gray-200"}`});case"backer":return e.jsx(Xe,{className:`w-4 h-4 ${t==="light"?"text-gray-700":"text-gray-200"}`});case"producer":return e.jsx(Ge,{className:`w-4 h-4 ${t==="light"?"text-gray-700":"text-gray-200"}`});case"executive":return e.jsx(_e,{className:`w-4 h-4 ${t==="light"?"text-gray-700":"text-gray-200"}`});default:return null}},M=a=>{if(!a)return null;const c=r.find(F=>F.id===a);if(!c)return null;switch(c.type){case"film":return e.jsx(K,{className:"w-4 h-4 text-purple-400"});case"music":return e.jsx($e,{className:"w-4 h-4 text-blue-400"});case"webseries":return e.jsx(Se,{className:"w-4 h-4 text-green-400"});default:return null}},b=[{Header:"Perk",accessor:"title",Cell:({row:a})=>e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:a.original.title}),e.jsx("p",{className:`text-sm truncate max-w-xs ${t==="light"?"text-gray-600":"text-gray-400"}`,children:a.original.description})]})},{Header:"Project",accessor:"projectTitle",Cell:({row:a})=>e.jsxs("div",{className:"flex items-center gap-2",children:[M(a.original.projectId),e.jsx("span",{className:t==="light"?"text-gray-900":"text-white",children:a.original.projectTitle||"N/A"})]})},{Header:"Tier",accessor:"tier",Cell:({row:a})=>e.jsxs("div",{className:"flex items-center gap-2",children:[P(a.original.tier),e.jsx("span",{className:`capitalize ${a.original.tier==="supporter"?"text-gray-500":a.original.tier==="backer"?"text-blue-500":a.original.tier==="producer"?"text-purple-500":"text-yellow-500"}`,children:a.original.tier})]})},{Header:"Min. Amount",accessor:"minAmount",Cell:({value:a})=>e.jsxs("span",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:["₹",a.toLocaleString()]})},{Header:"Created",accessor:"createdAt",Cell:({value:a})=>e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-400",children:new Date(a).toLocaleDateString()})},{Header:"Actions",Cell:({row:a})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>o(a.original),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-700 text-gray-300"}`,title:"Edit",children:e.jsx(te,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>C(a.original.id),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-red-600":"hover:bg-gray-700 text-red-400"}`,title:"Delete",children:e.jsx(re,{className:"w-4 h-4"})})]})}];return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold mb-1 ${t==="light"?"text-gray-900":"text-white"}`,children:"Perks & Rewards"}),e.jsx("p",{className:`${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Manage investor perks and rewards"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors",children:[e.jsx(J,{className:"w-5 h-5"}),"Add Perk"]}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(X,{className:"w-5 h-5"})}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(Y,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${t==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"text",placeholder:"Search perks...",value:f,onChange:a=>h(a.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("select",{value:j,onChange:a=>$(a.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Tiers"}),e.jsx("option",{value:"supporter",children:"Supporter"}),e.jsx("option",{value:"backer",children:"Backer"}),e.jsx("option",{value:"producer",children:"Producer"}),e.jsx("option",{value:"executive",children:"Executive"})]}),e.jsxs("select",{value:I,onChange:a=>y(a.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Projects"}),r.map(a=>e.jsx("option",{value:a.id,children:a.title},a.id))]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(W,{columns:b,data:l,onSort:g,sortField:s,sortDirection:D})}),(k||m)&&e.jsx(gt,{perk:m,isOpen:k||!!m,onClose:()=>{v(!1),o(null)}}),e.jsx(Z,{isOpen:!!d,title:"Delete Perk",message:"Are you sure you want to delete this perk? This action cannot be undone.",confirmLabel:"Delete",confirmVariant:"danger",onConfirm:N,onCancel:()=>C(null)})]})},xt=({asset:t,isOpen:S,onClose:n})=>{const{theme:r}=z(),{addMediaAsset:k,updateMediaAsset:v,projects:m}=O(),[o,d]=i.useState({title:"",type:"image",url:"",fileSize:0,dimensions:"",projectId:"",tags:[]}),[C,f]=i.useState(!1),[h,j]=i.useState({}),[$,I]=i.useState(null),[y,s]=i.useState(""),[A,D]=i.useState("");i.useEffect(()=>{t&&(d({title:t.title,type:t.type,url:t.url,fileSize:t.fileSize,dimensions:t.dimensions||"",projectId:t.projectId||"",tags:[...t.tags]}),t.type==="image"&&t.url&&s(t.url))},[t]);const L=i.useCallback(x=>{if(x.length===0)return;const E=x[0];I(E);let B="document";if(E.type.startsWith("image/")?B="image":E.type.startsWith("video/")?B="video":E.type.startsWith("audio/")&&(B="audio"),B==="image"){const u=new FileReader;u.onloadend=()=>{s(u.result)},u.readAsDataURL(E)}if(B==="image"){const u=new Q;u.onload=()=>{d(p=>({...p,dimensions:`${u.width}x${u.height}`}))},u.src=URL.createObjectURL(E)}d(u=>({...u,type:B,fileSize:E.size,title:E.name}))},[]),{getRootProps:l,getInputProps:g,isDragActive:N}=lt({onDrop:L,accept:{"image/*":[],"video/*":[],"audio/*":[],"application/pdf":[],"application/msword":[],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[]}}),P=(x,E)=>{d(B=>({...B,[x]:E})),h[x]&&j(B=>{const u={...B};return delete u[x],u})},M=()=>{A.trim()&&!o.tags.includes(A.trim())&&(d(x=>({...x,tags:[...x.tags,A.trim()]})),D(""))},b=x=>{d(E=>({...E,tags:E.tags.filter(B=>B!==x)}))},a=()=>{const x={};return o.title.trim()||(x.title="Title is required"),!o.url&&!$&&(x.url="Please provide a file or URL"),j(x),Object.keys(x).length===0},c=async x=>{if(x.preventDefault(),!!a()){f(!0);try{const E=$&&y||o.url;t?v(t.id,{...o,url:E}):k({...o,url:E}),n()}catch(E){console.error("Error saving media asset:",E)}finally{f(!1)}}},F=x=>{switch(x){case"image":return e.jsx(Q,{className:"w-6 h-6 text-blue-500"});case"video":return e.jsx(Te,{className:"w-6 h-6 text-red-500"});case"audio":return e.jsx(Ae,{className:"w-6 h-6 text-green-500"});case"document":return e.jsx(Ce,{className:"w-6 h-6 text-yellow-500"});default:return null}};return S?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:n}),e.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:`relative w-full max-w-2xl rounded-lg p-6 shadow-xl ${r==="light"?"bg-white":"bg-gray-800"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:`text-xl font-bold ${r==="light"?"text-gray-900":"text-white"}`,children:t?"Edit Media Asset":"Add New Media Asset"}),e.jsx("button",{onClick:n,className:`p-2 rounded-full ${r==="light"?"text-gray-400 hover:text-gray-600":"text-gray-500 hover:text-gray-300"}`,children:e.jsx(H,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:c,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r==="light"?"text-gray-700":"text-gray-300"}`,children:"Media Title"}),e.jsx("input",{type:"text",value:o.title,onChange:x=>P("title",x.target.value),className:`w-full px-4 py-2 rounded-lg border ${h.title?"border-red-500":r==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter media title"}),h.title&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:h.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r==="light"?"text-gray-700":"text-gray-300"}`,children:"Media Type"}),e.jsxs("div",{className:"flex items-center gap-2",children:[F(o.type),e.jsxs("select",{value:o.type,onChange:x=>P("type",x.target.value),className:`w-full px-4 py-2 rounded-lg border ${r==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"image",children:"Image"}),e.jsx("option",{value:"video",children:"Video"}),e.jsx("option",{value:"audio",children:"Audio"}),e.jsx("option",{value:"document",children:"Document"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r==="light"?"text-gray-700":"text-gray-300"}`,children:"Project"}),e.jsxs("select",{value:o.projectId,onChange:x=>P("projectId",x.target.value),className:`w-full px-4 py-2 rounded-lg border ${r==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"",children:"Select Project (Optional)"}),m.map(x=>e.jsx("option",{value:x.id,children:x.title},x.id))]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r==="light"?"text-gray-700":"text-gray-300"}`,children:"Media File"}),e.jsxs("div",{...l(),className:`border-2 border-dashed rounded-lg p-6 ${N?r==="light"?"border-purple-400 bg-purple-50":"border-purple-500 bg-purple-900/20":r==="light"?"border-gray-300":"border-gray-600"}`,children:[e.jsx("input",{...g()}),e.jsx("div",{className:"flex flex-col items-center justify-center text-center",children:y&&o.type==="image"?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:y,alt:"Media preview",className:"h-40 object-contain rounded"}),e.jsx("button",{type:"button",onClick:x=>{x.stopPropagation(),s(""),I(null),P("url","")},className:"absolute top-2 right-2 p-1 rounded-full bg-black/50 text-white hover:bg-black/70",children:e.jsx(H,{className:"w-4 h-4"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(ee,{className:`w-12 h-12 mb-2 ${r==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("p",{className:`text-sm font-medium ${r==="light"?"text-gray-700":"text-gray-300"}`,children:N?"Drop the file here":"Drag & drop a file here, or click to select"}),e.jsx("p",{className:`text-xs mt-2 ${r==="light"?"text-gray-500":"text-gray-400"}`,children:"Supports images, videos, audio, and documents"}),o.fileSize>0&&e.jsxs("p",{className:`text-xs mt-2 ${r==="light"?"text-gray-600":"text-gray-300"}`,children:["File size: ",(o.fileSize/(1024*1024)).toFixed(2)," MB"]})]})})]}),h.url&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:h.url})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r==="light"?"text-gray-700":"text-gray-300"}`,children:"Media URL"}),e.jsx("input",{type:"text",value:o.url,onChange:x=>{P("url",x.target.value),x.target.value&&o.type==="image"&&s(x.target.value)},className:`w-full px-4 py-2 rounded-lg border ${h.url?"border-red-500":r==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"https://example.com/media.jpg"}),e.jsx("p",{className:`mt-1 text-xs ${r==="light"?"text-gray-500":"text-gray-400"}`,children:"Enter URL directly or upload a file above"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r==="light"?"text-gray-700":"text-gray-300"}`,children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:o.tags.map((x,E)=>e.jsxs("div",{className:`flex items-center gap-1 px-3 py-1 rounded-full ${r==="light"?"bg-gray-100 text-gray-700":"bg-gray-700 text-gray-300"}`,children:[e.jsx("span",{children:x}),e.jsx("button",{type:"button",onClick:()=>b(x),className:"p-0.5 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600",children:e.jsx(H,{className:"w-3 h-3"})})]},E))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:A,onChange:x=>D(x.target.value),onKeyDown:x=>{x.key==="Enter"&&(x.preventDefault(),M())},className:`flex-1 px-4 py-2 rounded-lg border ${r==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Add a tag"}),e.jsx("button",{type:"button",onClick:M,className:`px-4 py-2 rounded-lg ${r==="light"?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gray-700 text-gray-200 hover:bg-gray-600"}`,children:e.jsx(J,{className:"w-5 h-5"})})]}),e.jsx("p",{className:`mt-1 text-xs ${r==="light"?"text-gray-500":"text-gray-400"}`,children:"Press Enter to add a tag"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:n,className:`px-4 py-2 rounded-lg border ${r==="light"?"border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-200 hover:bg-gray-600"}`,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:C,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700 transition-colors disabled:opacity-70 flex items-center gap-2",children:C?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Save Media"})]})]})]})]})}):null},mt=()=>{const{theme:t}=z(),{mediaAssets:S,deleteMediaAsset:n,projects:r}=O(),[k,v]=i.useState(!1),[m,o]=i.useState(null),[d,C]=i.useState(null),[f,h]=i.useState(""),[j,$]=i.useState("all"),[I,y]=i.useState("all"),[s,A]=i.useState("createdAt"),[D,L]=i.useState("desc"),l=i.useMemo(()=>S.filter(c=>{const F=c.title.toLowerCase().includes(f.toLowerCase())||c.tags.some(B=>B.toLowerCase().includes(f.toLowerCase())),x=j==="all"||c.type===j,E=I==="all"||c.projectId===I;return F&&x&&E}).sort((c,F)=>s==="createdAt"?D==="asc"?new Date(c[s]).getTime()-new Date(F[s]).getTime():new Date(F[s]).getTime()-new Date(c[s]).getTime():typeof c[s]=="number"&&typeof F[s]=="number"?D==="asc"?c[s]-F[s]:F[s]-c[s]:D==="asc"?String(c[s]).localeCompare(String(F[s])):String(F[s]).localeCompare(String(c[s]))),[S,f,j,I,s,D]),g=c=>{s===c?L(D==="asc"?"desc":"asc"):(A(c),L("asc"))},N=()=>{d&&(n(d),C(null))},P=c=>{switch(c){case"image":return e.jsx(Q,{className:"w-4 h-4 text-blue-500"});case"video":return e.jsx(Te,{className:"w-4 h-4 text-red-500"});case"audio":return e.jsx(Ae,{className:"w-4 h-4 text-green-500"});case"document":return e.jsx(Ce,{className:"w-4 h-4 text-yellow-500"});default:return null}},M=c=>c<1024?c+" B":c<1024*1024?(c/1024).toFixed(1)+" KB":c<1024*1024*1024?(c/(1024*1024)).toFixed(1)+" MB":(c/(1024*1024*1024)).toFixed(1)+" GB",b=c=>{navigator.clipboard.writeText(c)},a=[{Header:"Asset",accessor:"title",Cell:({row:c})=>e.jsxs("div",{className:"flex items-center gap-3",children:[c.original.type==="image"&&c.original.url?e.jsx("img",{src:c.original.url,alt:c.original.title,className:"w-10 h-10 object-cover rounded"}):e.jsx("div",{className:`w-10 h-10 rounded flex items-center justify-center ${t==="light"?"bg-gray-200":"bg-gray-700"}`,children:P(c.original.type)}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:c.original.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"flex items-center gap-1 text-xs",children:[P(c.original.type),e.jsx("span",{className:`capitalize ${t==="light"?"text-gray-600":"text-gray-300"}`,children:c.original.type})]}),c.original.dimensions&&e.jsx("span",{className:`text-xs ${t==="light"?"text-gray-500":"text-gray-400"}`,children:c.original.dimensions})]})]})]})},{Header:"Project",accessor:"projectId",Cell:({row:c})=>{const F=r.find(x=>x.id===c.original.projectId);return e.jsx("span",{className:t==="light"?"text-gray-900":"text-white",children:F?.title||"N/A"})}},{Header:"Tags",accessor:"tags",Cell:({value:c})=>e.jsxs("div",{className:"flex flex-wrap gap-1",children:[c.slice(0,2).map((F,x)=>e.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${t==="light"?"bg-gray-100 text-gray-700":"bg-gray-700 text-gray-300"}`,children:F},x)),c.length>2&&e.jsxs("span",{className:`text-xs ${t==="light"?"text-gray-500":"text-gray-400"}`,children:["+",c.length-2," more"]})]})},{Header:"Size",accessor:"fileSize",Cell:({value:c})=>e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-400",children:M(c)})},{Header:"Created",accessor:"createdAt",Cell:({value:c})=>e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-400",children:new Date(c).toLocaleDateString()})},{Header:"Actions",Cell:({row:c})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>window.open(c.original.url,"_blank"),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-700 text-gray-300"}`,title:"Open",children:e.jsx(We,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>b(c.original.url),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-700 text-gray-300"}`,title:"Copy URL",children:e.jsx(qe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>o(c.original),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-700 text-gray-300"}`,title:"Edit",children:e.jsx(te,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>C(c.original.id),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-red-600":"hover:bg-gray-700 text-red-400"}`,title:"Delete",children:e.jsx(re,{className:"w-4 h-4"})})]})}];return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold mb-1 ${t==="light"?"text-gray-900":"text-white"}`,children:"Media Assets"}),e.jsx("p",{className:`${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Manage your media files and assets"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors",children:[e.jsx(J,{className:"w-5 h-5"}),"Add Media"]}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(X,{className:"w-5 h-5"})}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(Y,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${t==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"text",placeholder:"Search media assets...",value:f,onChange:c=>h(c.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("select",{value:j,onChange:c=>$(c.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"image",children:"Images"}),e.jsx("option",{value:"video",children:"Videos"}),e.jsx("option",{value:"audio",children:"Audio"}),e.jsx("option",{value:"document",children:"Documents"})]}),e.jsxs("select",{value:I,onChange:c=>y(c.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Projects"}),r.map(c=>e.jsx("option",{value:c.id,children:c.title},c.id))]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(W,{columns:a,data:l,onSort:g,sortField:s,sortDirection:D})}),(k||m)&&e.jsx(xt,{asset:m,isOpen:k||!!m,onClose:()=>{v(!1),o(null)}}),e.jsx(Z,{isOpen:!!d,title:"Delete Media Asset",message:"Are you sure you want to delete this media asset? This action cannot be undone.",confirmLabel:"Delete",confirmVariant:"danger",onConfirm:N,onCancel:()=>C(null)})]})},ht=()=>{const{theme:t}=z(),{users:S,updateUserStatus:n}=O(),[r,k]=i.useState(null),[v,m]=i.useState(null),[o,d]=i.useState(null),[C,f]=i.useState(""),[h,j]=i.useState("all"),[$,I]=i.useState("all"),[y,s]=i.useState("createdAt"),[A,D]=i.useState("desc"),L=i.useMemo(()=>S.filter(a=>{const c=a.name.toLowerCase().includes(C.toLowerCase())||a.email.toLowerCase().includes(C.toLowerCase()),F=h==="all"||a.status===h,x=$==="all"||a.role===$;return c&&F&&x}).sort((a,c)=>y==="createdAt"?A==="asc"?new Date(a[y]).getTime()-new Date(c[y]).getTime():new Date(c[y]).getTime()-new Date(a[y]).getTime():typeof a[y]=="number"&&typeof c[y]=="number"?A==="asc"?a[y]-c[y]:c[y]-a[y]:A==="asc"?String(a[y]).localeCompare(String(c[y])):String(c[y]).localeCompare(String(a[y]))),[S,C,h,$,y,A]),l=a=>{y===a?D(A==="asc"?"desc":"asc"):(s(a),D("asc"))},g=()=>{r&&(n(r,"active"),k(null))},N=()=>{v&&(n(v,"inactive"),m(null))},P=()=>{o&&(n(o,"banned"),d(null))},M=a=>{switch(a){case"active":return e.jsx(V,{className:"w-4 h-4 text-green-500"});case"inactive":return e.jsx(de,{className:"w-4 h-4 text-yellow-500"});case"banned":return e.jsx(ge,{className:"w-4 h-4 text-red-500"});default:return null}},b=[{Header:"User",accessor:"name",Cell:({row:a})=>e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:a.original.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pe,{className:`w-3 h-3 ${t==="light"?"text-gray-500":"text-gray-400"}`}),e.jsx("span",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:a.original.email})]})]})},{Header:"Role",accessor:"role",Cell:({value:a})=>e.jsx("span",{className:`capitalize px-2 py-1 rounded-full text-xs ${a==="admin"?t==="light"?"bg-purple-100 text-purple-700":"bg-purple-900/30 text-purple-400":t==="light"?"bg-blue-100 text-blue-700":"bg-blue-900/30 text-blue-400"}`,children:a})},{Header:"Status",accessor:"status",Cell:({value:a})=>e.jsxs("div",{className:"flex items-center gap-2",children:[M(a),e.jsx("span",{className:`capitalize ${a==="active"?"text-green-500":a==="inactive"?"text-yellow-500":"text-red-500"}`,children:a})]})},{Header:"Investments",accessor:"investmentCount",Cell:({row:a})=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:`w-4 h-4 ${t==="light"?"text-gray-500":"text-gray-400"}`}),e.jsx("span",{className:t==="light"?"text-gray-900":"text-white",children:a.original.investmentCount})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(Je,{className:`w-4 h-4 ${t==="light"?"text-gray-500":"text-gray-400"}`}),e.jsxs("span",{className:t==="light"?"text-gray-900":"text-white",children:["₹",a.original.totalInvested.toLocaleString()]})]})]})},{Header:"Joined",accessor:"createdAt",Cell:({value:a})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:`w-4 h-4 ${t==="light"?"text-gray-500":"text-gray-400"}`}),e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-400",children:new Date(a).toLocaleDateString()})]})},{Header:"Actions",Cell:({row:a})=>e.jsxs("div",{className:"flex items-center gap-2",children:[a.original.status!=="active"&&e.jsx("button",{onClick:()=>k(a.original.id),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-green-600":"hover:bg-gray-700 text-green-400"}`,title:"Activate",children:e.jsx(Ke,{className:"w-4 h-4"})}),a.original.status==="active"&&e.jsx("button",{onClick:()=>m(a.original.id),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-yellow-600":"hover:bg-gray-700 text-yellow-400"}`,title:"Deactivate",children:e.jsx(xe,{className:"w-4 h-4"})}),a.original.status!=="banned"&&e.jsx("button",{onClick:()=>d(a.original.id),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-red-600":"hover:bg-gray-700 text-red-400"}`,title:"Ban",children:e.jsx(xe,{className:"w-4 h-4"})})]})}];return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold mb-1 ${t==="light"?"text-gray-900":"text-white"}`,children:"Users"}),e.jsx("p",{className:`${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Manage user accounts and permissions"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(X,{className:"w-5 h-5"})}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(Y,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${t==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"text",placeholder:"Search users...",value:C,onChange:a=>f(a.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("select",{value:h,onChange:a=>j(a.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"banned",children:"Banned"})]}),e.jsxs("select",{value:$,onChange:a=>I(a.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"user",children:"User"}),e.jsx("option",{value:"admin",children:"Admin"})]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(W,{columns:b,data:L,onSort:l,sortField:y,sortDirection:A})}),e.jsx(Z,{isOpen:!!r,title:"Activate User",message:"Are you sure you want to activate this user? They will regain full access to the platform.",confirmLabel:"Activate",confirmVariant:"success",onConfirm:g,onCancel:()=>k(null)}),e.jsx(Z,{isOpen:!!v,title:"Deactivate User",message:"Are you sure you want to deactivate this user? They will temporarily lose access to the platform.",confirmLabel:"Deactivate",confirmVariant:"warning",onConfirm:N,onCancel:()=>m(null)}),e.jsx(Z,{isOpen:!!o,title:"Ban User",message:"Are you sure you want to ban this user? This will permanently restrict their access to the platform.",confirmLabel:"Ban User",confirmVariant:"danger",onConfirm:P,onCancel:()=>d(null)})]})},pt=()=>{const{theme:t}=z(),{backups:S,createBackup:n,restoreBackup:r}=O(),[k,v]=i.useState(!1),[m,o]=i.useState(null),[d,C]=i.useState(!1),[f,h]=i.useState({emailNotifications:!0,autoBackup:!0,autoBackupInterval:"7",securityLevel:"high",maintenanceMode:!1,debugMode:!1}),j=(s,A)=>{h(D=>({...D,[s]:A}))},$=async()=>{v(!0);try{await n()}finally{v(!1)}},I=async()=>{if(m){C(!0);try{await r(m)}finally{C(!1),o(null)}}},y=s=>s<1024?s+" B":s<1024*1024?(s/1024).toFixed(1)+" KB":s<1024*1024*1024?(s/(1024*1024)).toFixed(1)+" MB":(s/(1024*1024*1024)).toFixed(1)+" GB";return e.jsxs("div",{className:"h-full",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold mb-1 ${t==="light"?"text-gray-900":"text-white"}`,children:"Settings"}),e.jsx("p",{className:`${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Configure system settings and manage backups"})]}),e.jsxs("button",{onClick:()=>{},className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors",children:[e.jsx(me,{className:"w-5 h-5"}),"Save Changes"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:`p-6 rounded-xl ${t==="light"?"bg-white shadow-sm":"bg-gray-800 border border-gray-700"}`,children:[e.jsx("h2",{className:`text-xl font-bold mb-6 ${t==="light"?"text-gray-900":"text-white"}`,children:"General Settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:"Email Notifications"}),e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Send email notifications for system events"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:f.emailNotifications,onChange:s=>j("emailNotifications",s.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:"Maintenance Mode"}),e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Put the system in maintenance mode"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:f.maintenanceMode,onChange:s=>j("maintenanceMode",s.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:"Debug Mode"}),e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Enable detailed error logging"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:f.debugMode,onChange:s=>j("debugMode",s.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium mb-2 ${t==="light"?"text-gray-900":"text-white"}`,children:"Security Level"}),e.jsxs("select",{value:f.securityLevel,onChange:s=>j("securityLevel",s.target.value),className:`w-full px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]})]})]})]}),e.jsxs("div",{className:`p-6 rounded-xl ${t==="light"?"bg-white shadow-sm":"bg-gray-800 border border-gray-700"}`,children:[e.jsx("h2",{className:`text-xl font-bold mb-6 ${t==="light"?"text-gray-900":"text-white"}`,children:"Backup & Restore"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:"Automatic Backups"}),e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Create backups automatically"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:f.autoBackup,onChange:s=>j("autoBackup",s.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium mb-2 ${t==="light"?"text-gray-900":"text-white"}`,children:"Backup Interval"}),e.jsxs("select",{value:f.autoBackupInterval,onChange:s=>j("autoBackupInterval",s.target.value),disabled:!f.autoBackup,className:`w-full px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20 disabled:opacity-50`,children:[e.jsx("option",{value:"1",children:"Daily"}),e.jsx("option",{value:"7",children:"Weekly"}),e.jsx("option",{value:"30",children:"Monthly"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:$,disabled:k,className:"flex-1 flex items-center justify-center gap-2 py-2 px-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors disabled:opacity-70",children:k?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-5 h-5 animate-spin"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"w-5 h-5"}),"Create Backup"]})}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium mb-4 ${t==="light"?"text-gray-900":"text-white"}`,children:"Backup History"}),e.jsxs("div",{className:`border rounded-lg overflow-hidden ${t==="light"?"border-gray-200":"border-gray-700"}`,children:[e.jsx("div",{className:`px-4 py-3 ${t==="light"?"bg-gray-50 border-b border-gray-200":"bg-gray-700 border-b border-gray-600"}`,children:e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsx("div",{className:`font-medium ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"Name"}),e.jsx("div",{className:`font-medium ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"Size"}),e.jsx("div",{className:`font-medium ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"Date"}),e.jsx("div",{className:`font-medium ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"Actions"})]})}),e.jsx("div",{className:`divide-y ${t==="light"?"divide-gray-200":"divide-gray-700"}`,children:S.map(s=>e.jsx("div",{className:"px-4 py-3",children:e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:`w-4 h-4 ${t==="light"?"text-gray-500":"text-gray-400"}`}),e.jsx("span",{className:t==="light"?"text-gray-900":"text-white",children:s.name})]}),e.jsx("div",{className:t==="light"?"text-gray-600":"text-gray-400",children:y(s.size)}),e.jsx("div",{className:t==="light"?"text-gray-600":"text-gray-400",children:new Date(s.createdAt).toLocaleDateString()}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>o(s.id),disabled:d,className:`p-1 rounded ${t==="light"?"hover:bg-gray-100 text-blue-600":"hover:bg-gray-700 text-blue-400"} disabled:opacity-50`,children:e.jsx(Y,{className:"w-4 h-4"})}),e.jsx("button",{className:`p-1 rounded ${t==="light"?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-700 text-gray-300"}`,children:e.jsx(X,{className:"w-4 h-4"})})]})]})},s.id))})]})]})]})]}),e.jsxs("div",{className:`p-6 rounded-xl ${t==="light"?"bg-white shadow-sm":"bg-gray-800 border border-gray-700"}`,children:[e.jsx("h2",{className:`text-xl font-bold mb-6 ${t==="light"?"text-gray-900":"text-white"}`,children:"System Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Version"}),e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:"Circles Admin v1.0.0"})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Last Updated"}),e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:new Date().toLocaleDateString()})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Database Status"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4 text-green-500"}),e.jsx("p",{className:"font-medium text-green-500",children:"Connected"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Storage"}),e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:"1.2 GB / 10 GB"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"API Status"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4 text-green-500"}),e.jsx("p",{className:"font-medium text-green-500",children:"Operational"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Cache Status"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4 text-green-500"}),e.jsx("p",{className:"font-medium text-green-500",children:"Enabled"})]})]})]})]})]}),e.jsxs("div",{className:`p-6 rounded-xl ${t==="light"?"bg-white shadow-sm":"bg-gray-800 border border-gray-700"}`,children:[e.jsx("h2",{className:`text-xl font-bold mb-6 ${t==="light"?"text-gray-900":"text-white"}`,children:"Email Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"SMTP Server"}),e.jsx("input",{type:"text",value:"smtp.circles.com",className:`w-full px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"SMTP Port"}),e.jsx("input",{type:"text",value:"587",className:`w-full px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"Encryption"}),e.jsxs("select",{className:`w-full px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{children:"TLS"}),e.jsx("option",{children:"SSL"}),e.jsx("option",{children:"None"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"Sender Email"}),e.jsx("input",{type:"email",value:"noreply@circles.com",className:`w-full px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors",children:[e.jsx(me,{className:"w-5 h-5"}),"Save Email Settings"]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors",style:{borderColor:t==="light"?"#e2e8f0":"#4b5563",color:t==="light"?"#4b5563":"#e2e8f0",backgroundColor:t==="light"?"white":"#1f2937"},children:[e.jsx(Pe,{className:"w-5 h-5"}),"Test Connection"]})]})]})]})]}),e.jsx(Z,{isOpen:!!m,title:"Restore Backup",message:"Are you sure you want to restore this backup? This will replace all current data with the backup data.",confirmLabel:"Restore",confirmVariant:"warning",onConfirm:I,onCancel:()=>o(null),isLoading:d})]})},yt=()=>{const{theme:t}=z(),{activityLogs:S}=O(),[n,r]=i.useState(""),[k,v]=i.useState("all"),[m,o]=i.useState("all"),[d,C]=i.useState("timestamp"),[f,h]=i.useState("desc"),[j,$]=i.useState({start:"",end:""}),I=i.useMemo(()=>{const l=new Map;return S.forEach(g=>{g.userId&&g.userName&&l.set(g.userId,g.userName)}),Array.from(l.entries()).map(([g,N])=>({id:g,name:N}))},[S]),y=i.useMemo(()=>S.filter(l=>{const g=l.action.toLowerCase().includes(n.toLowerCase())||l.details&&l.details.toLowerCase().includes(n.toLowerCase())||l.userName&&l.userName.toLowerCase().includes(n.toLowerCase()),N=k==="all"||l.resourceType===k,P=m==="all"||l.userId===m;let M=!0;if(j.start){const b=new Date(j.start),a=new Date(l.timestamp);M=M&&a>=b}if(j.end){const b=new Date(j.end);b.setHours(23,59,59,999);const a=new Date(l.timestamp);M=M&&a<=b}return g&&N&&P&&M}).sort((l,g)=>d==="timestamp"?f==="asc"?new Date(l[d]).getTime()-new Date(g[d]).getTime():new Date(g[d]).getTime()-new Date(l[d]).getTime():f==="asc"?String(l[d]).localeCompare(String(g[d])):String(g[d]).localeCompare(String(l[d]))),[S,n,k,m,j,d,f]),s=l=>{d===l?h(f==="asc"?"desc":"asc"):(C(l),h("asc"))},A=l=>{switch(l){case"project":return e.jsx(K,{className:"w-4 h-4 text-purple-500"});case"merchandise":return e.jsx(oe,{className:"w-4 h-4 text-blue-500"});case"perk":return e.jsx(fe,{className:"w-4 h-4 text-yellow-500"});case"media":return e.jsx(Q,{className:"w-4 h-4 text-green-500"});case"user":return e.jsx(ne,{className:"w-4 h-4 text-orange-500"});case"system":return e.jsx(ce,{className:"w-4 h-4 text-gray-500"});default:return e.jsx(je,{className:"w-4 h-4 text-gray-500"})}},D=l=>{const g=new Date(l);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(g)},L=[{Header:"Action",accessor:"action",Cell:({row:l})=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100":"bg-gray-700"}`,children:A(l.original.resourceType)}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:l.original.action}),l.original.details&&e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:l.original.details})]})]})},{Header:"User",accessor:"userName",Cell:({value:l})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:`w-4 h-4 ${t==="light"?"text-gray-500":"text-gray-400"}`}),e.jsx("span",{className:t==="light"?"text-gray-900":"text-white",children:l||"System"})]})},{Header:"Resource Type",accessor:"resourceType",Cell:({value:l})=>e.jsxs("div",{className:"flex items-center gap-2",children:[A(l),e.jsx("span",{className:`capitalize ${t==="light"?"text-gray-900":"text-white"}`,children:l})]})},{Header:"Timestamp",accessor:"timestamp",Cell:({value:l})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ke,{className:`w-4 h-4 ${t==="light"?"text-gray-500":"text-gray-400"}`}),e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-400",children:D(l)})]})}];return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold mb-1 ${t==="light"?"text-gray-900":"text-white"}`,children:"Activity Log"}),e.jsx("p",{className:`${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Track all system activities and changes"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(X,{className:"w-5 h-5"})}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(Y,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${t==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"text",placeholder:"Search activities...",value:n,onChange:l=>r(l.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("select",{value:k,onChange:l=>v(l.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Resource Types"}),e.jsx("option",{value:"project",children:"Projects"}),e.jsx("option",{value:"merchandise",children:"Merchandise"}),e.jsx("option",{value:"perk",children:"Perks"}),e.jsx("option",{value:"media",children:"Media"}),e.jsx("option",{value:"user",children:"Users"}),e.jsx("option",{value:"system",children:"System"})]}),e.jsxs("select",{value:m,onChange:l=>o(l.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Users"}),I.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ie,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${t==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"date",value:j.start,onChange:l=>$(g=>({...g,start:l.target.value})),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsx("span",{className:t==="light"?"text-gray-500":"text-gray-400",children:"to"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ie,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${t==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"date",value:j.end,onChange:l=>$(g=>({...g,end:l.target.value})),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]})]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(W,{columns:L,data:y,onSort:s,sortField:d,sortDirection:f})})]})},bt=()=>{const[t,S]=i.useState(""),[n,r]=i.useState(""),[k,v]=i.useState(!1),[m,o]=i.useState(""),{theme:d}=z(),{login:C,isLoading:f}=se(),h=async j=>{if(j.preventDefault(),!t||!n){o("Please enter both username and password");return}await C(t,n)||o("Invalid username or password")};return e.jsx("div",{className:`min-h-screen flex items-center justify-center ${d==="light"?"bg-gray-100":"bg-gray-900"}`,children:e.jsxs(R.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:`w-full max-w-md p-8 rounded-2xl shadow-xl ${d==="light"?"bg-white":"bg-gray-800 border border-gray-700"}`,children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-r from-purple-600 to-blue-600",children:e.jsx(et,{className:"w-8 h-8 text-white"})})}),e.jsx("h1",{className:`text-2xl font-bold mb-2 ${d==="light"?"text-gray-900":"text-white"}`,children:"Admin Dashboard"}),e.jsx("p",{className:`${d==="light"?"text-gray-600":"text-gray-400"}`,children:"Sign in to access the admin panel"})]}),e.jsxs("button",{onClick:()=>window.location.href="/",className:`flex items-center gap-2 mb-6 ${d==="light"?"text-gray-600 hover:text-gray-900":"text-gray-400 hover:text-white"} transition-colors`,children:[e.jsx(be,{className:"w-4 h-4"}),"Back to home"]}),m&&e.jsxs(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-lg bg-red-500/10 border border-red-500/20 flex items-center gap-3",children:[e.jsx(de,{className:"w-5 h-5 text-red-500"}),e.jsx("span",{className:`text-sm ${d==="light"?"text-red-600":"text-red-400"}`,children:m})]}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${d==="light"?"text-gray-700":"text-gray-300"}`,children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx(ne,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${d==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"text",value:t,onChange:j=>S(j.target.value),className:`w-full pl-10 pr-4 py-3 rounded-lg border ${d==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter your username"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${d==="light"?"text-gray-700":"text-gray-300"}`,children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(tt,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${d==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:k?"text":"password",value:n,onChange:j=>r(j.target.value),className:`w-full pl-10 pr-12 py-3 rounded-lg border ${d==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:()=>v(!k),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${d==="light"?"text-gray-400 hover:text-gray-600":"text-gray-500 hover:text-gray-300"}`,children:k?e.jsx(rt,{className:"w-5 h-5"}):e.jsx(st,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:`p-4 rounded-lg ${d==="light"?"bg-blue-50 border border-blue-100":"bg-blue-900/20 border border-blue-800/30"}`,children:[e.jsx("p",{className:`text-sm font-medium mb-2 ${d==="light"?"text-blue-700":"text-blue-400"}`,children:"Demo Credentials:"}),e.jsxs("p",{className:`text-xs ${d==="light"?"text-blue-600":"text-blue-300"}`,children:["Username: ",e.jsx("span",{className:"font-mono",children:"admin"}),e.jsx("br",{}),"Password: ",e.jsx("span",{className:"font-mono",children:"admin"})]})]}),e.jsx(R.button,{type:"submit",disabled:f,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold disabled:opacity-70 flex items-center justify-center gap-2",children:f?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-5 h-5 animate-spin"}),"Signing in..."]}):"Sign In"})]}),e.jsx("div",{className:"mt-8 pt-6 border-t text-center",children:e.jsx("p",{className:`text-sm ${d==="light"?"text-gray-600":"text-gray-400"}`,children:"This is a secure area. Unauthorized access is prohibited."})})]})})},St=()=>{const[t,S]=i.useState("projects"),{theme:n}=z(),{isAuthenticated:r,isLoading:k}=se(),[v,m]=i.useState(!1);if(!r&&!k)return e.jsx(bt,{});if(k)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:e.jsx("div",{className:"w-16 h-16 border-4 border-purple-500/30 border-t-purple-500 rounded-full animate-spin"})});const o=()=>{switch(t){case"projects":return e.jsx(ye,{});case"merchandise":return e.jsx(dt,{});case"perks":return e.jsx(ut,{});case"media":return e.jsx(mt,{});case"users":return e.jsx(ht,{});case"settings":return e.jsx(pt,{});case"activity":return e.jsx(yt,{});default:return e.jsx(ye,{})}};return e.jsx(nt,{children:e.jsx("div",{className:`min-h-screen ${n==="light"?"bg-gray-100":"bg-gray-900"}`,children:e.jsxs("div",{className:"flex h-screen overflow-hidden",children:[e.jsx("div",{className:"hidden md:block",children:e.jsx(pe,{activePanel:t,setActivePanel:S})}),e.jsx(q,{children:v&&e.jsxs(R.div,{initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{duration:.3},className:"fixed inset-0 z-50 md:hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>m(!1)}),e.jsx("div",{className:"relative w-64 h-full",children:e.jsx(pe,{activePanel:t,setActivePanel:d=>{S(d),m(!1)}})})]})}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(it,{activePanel:t,onMenuClick:()=>m(!0)}),e.jsx("main",{className:`flex-1 overflow-y-auto p-6 ${n==="light"?"bg-gray-100":"bg-gray-900"}`,children:e.jsx(q,{mode:"wait",children:e.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"h-full",children:o()},t)})})]})]})})})};export{St as default};
