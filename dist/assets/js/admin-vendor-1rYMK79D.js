import{r as i,j as e,L as Me,A as fe,F as K,S as oe,G as je,I as J,U as Le,a as ve,b as ce,C as Ne,c as we,M as Ue,d as _,e as Fe,f as Ee,B as Re,g as Se,X as H,h as ee,i as G,k as de,l as le,m as Be,n as ze,o as Oe,p as He,q as Ze,P as Q,D as X,R as Y,s as te,t as ue,T as re,u as $e,v as ke,w as ge,x as V,y as Ce,z as Ve,E as _e,H as Ge,J as Xe,K as Ye,N as We,O as qe,Q as Ae,V as Te,W as Pe,Y as Qe,Z as Ke,_ as De,$ as Je,a0 as et,a1 as ie,a2 as tt,a3 as me,a4 as xe,a5 as he,a6 as ne,a7 as rt,a8 as st,a9 as at,aa as lt}from"./react-vendor-f7q2DVeY.js";import{m as R,A as q}from"./animation-vendor-BDFU84Ad.js";const it=i.createContext(void 0),z=()=>{const t=i.useContext(it);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},se=()=>{const[t,S]=i.useState(null),[n,a]=i.useState(!1),[$,f]=i.useState(!0),[c,u]=i.useState(null),d=i.useMemo(()=>({id:"admin-1",name:"Admin User",email:"admin@circles.com",role:"admin"}),[]);return i.useEffect(()=>{(async()=>{f(!0);try{localStorage.getItem("admin_token")&&(S(d),a(!0))}catch{u("Authentication failed")}finally{f(!1)}})()},[d]),{user:t,isAuthenticated:n,isLoading:$,error:c,login:async(j,v)=>{f(!0),u(null);try{if(await new Promise(N=>setTimeout(N,1e3)),j==="admin"&&v==="admin"){const N="mock_admin_token_"+Date.now();return localStorage.setItem("admin_token",N),S(d),a(!0),!0}else throw new Error("Invalid credentials")}catch(N){const D=N instanceof Error?N.message:"Login failed";return u(D),!1}finally{f(!1)}},logout:()=>{localStorage.removeItem("admin_token"),S(null),a(!1),window.location.href="/"}}},pe=({activePanel:t,setActivePanel:S})=>{const{theme:n}=z(),{logout:a,user:$}=se(),f=[{id:"projects",label:"Projects",icon:K},{id:"merchandise",label:"Merchandise",icon:oe},{id:"perks",label:"Perks & Rewards",icon:je},{id:"media",label:"Media Assets",icon:J},{id:"users",label:"Users",icon:Le},{id:"activity",label:"Activity Log",icon:ve},{id:"settings",label:"Settings",icon:ce}];return e.jsxs("div",{className:`w-64 h-full flex flex-col ${n==="light"?"bg-white border-r border-gray-200":"bg-gray-800 border-r border-gray-700"}`,children:[e.jsx("div",{className:`p-6 border-b ${n==="light"?"border-gray-200":"border-gray-700"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-purple-600 to-blue-600",children:e.jsx(Me,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:`font-bold text-xl ${n==="light"?"text-gray-900":"text-white"}`,children:"Circles Admin"}),e.jsx("p",{className:`text-xs ${n==="light"?"text-gray-600":"text-gray-400"}`,children:"Management Dashboard"})]})]})}),e.jsx("div",{className:"px-6 py-4",children:e.jsxs("button",{onClick:()=>window.location.href="/",className:`flex items-center gap-2 text-sm ${n==="light"?"text-gray-600 hover:text-gray-900":"text-gray-400 hover:text-white"} transition-colors`,children:[e.jsx(fe,{className:"w-4 h-4"}),"Back to main site"]})}),e.jsx("div",{className:"flex-1 py-6 overflow-y-auto",children:e.jsxs("div",{className:"px-4 mb-6",children:[e.jsx("p",{className:`text-xs font-medium uppercase tracking-wider mb-4 ${n==="light"?"text-gray-500":"text-gray-400"}`,children:"Main Navigation"}),e.jsx("nav",{className:"space-y-1",children:f.map(c=>e.jsxs("button",{onClick:()=>S(c.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t===c.id?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":n==="light"?"text-gray-700 hover:bg-gray-100":"text-gray-300 hover:bg-gray-700"}`,children:[e.jsx(c.icon,{className:"w-5 h-5"}),e.jsx("span",{children:c.label}),t===c.id&&e.jsx(R.div,{layoutId:"activeNavIndicator",className:"absolute left-0 w-1 h-8 bg-white rounded-r-full",transition:{type:"spring",bounce:.2,duration:.6}})]},c.id))})]})}),e.jsx("div",{className:`p-4 border-t ${n==="light"?"border-gray-200":"border-gray-700"}`,children:e.jsxs("div",{className:`p-4 rounded-xl ${n==="light"?"bg-gray-50":"bg-gray-700"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-purple-500/20 flex items-center justify-center",children:e.jsx(Ne,{className:"w-6 h-6 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${n==="light"?"text-gray-900":"text-white"}`,children:$?.name||"Admin User"}),e.jsx("p",{className:`text-xs ${n==="light"?"text-gray-600":"text-gray-400"}`,children:$?.email||"admin@circles.com"})]})]}),e.jsxs("button",{onClick:a,className:`w-full flex items-center justify-center gap-2 py-2 rounded-lg transition-colors ${n==="light"?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-gray-600 text-gray-200 hover:bg-gray-500"}`,children:[e.jsx(we,{className:"w-4 h-4"}),e.jsx("span",{children:"Sign Out"})]})]})})]})},nt=({activePanel:t,onMenuClick:S})=>{const{theme:n,toggleTheme:a}=z(),{user:$,logout:f}=se(),[c,u]=i.useState(!1),[d,k]=i.useState(!1),x=N=>{switch(N){case"projects":return"Projects Management";case"merchandise":return"Merchandise Inventory";case"perks":return"Perks & Rewards";case"media":return"Media Assets";case"users":return"User Management";case"settings":return"System Settings";case"activity":return"Activity Log";default:return"Dashboard"}},j=[{id:1,message:'New project "Pathaan 3" was added',time:"2 minutes ago",read:!1},{id:2,message:"User rahul@gmail.com updated their profile",time:"1 hour ago",read:!1},{id:3,message:"System backup completed successfully",time:"3 hours ago",read:!0},{id:4,message:"New merchandise item added to inventory",time:"5 hours ago",read:!0}],v=j.filter(N=>!N.read).length;return e.jsx("header",{className:`py-4 px-6 border-b ${n==="light"?"bg-white border-gray-200":"bg-gray-800 border-gray-700"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:S,className:"md:hidden p-2 rounded-lg text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(Ue,{className:"w-6 h-6"})}),e.jsx("h1",{className:`text-xl font-bold ${n==="light"?"text-gray-900":"text-white"}`,children:x(t)})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:`hidden md:flex items-center gap-2 px-3 py-2 rounded-lg ${n==="light"?"bg-gray-100":"bg-gray-700"}`,children:[e.jsx(_,{className:`w-4 h-4 ${n==="light"?"text-gray-500":"text-gray-400"}`}),e.jsx("input",{type:"text",placeholder:"Search...",className:`bg-transparent border-none focus:outline-none text-sm w-40 ${n==="light"?"text-gray-700 placeholder-gray-500":"text-gray-200 placeholder-gray-400"}`})]}),e.jsx("button",{onClick:a,className:`p-2 rounded-lg ${n==="light"?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:n==="light"?e.jsx(Fe,{className:"w-5 h-5"}):e.jsx(Ee,{className:"w-5 h-5"})}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>k(!d),className:`p-2 rounded-lg relative ${n==="light"?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[e.jsx(Re,{className:"w-5 h-5"}),v>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:v})]}),e.jsx(q,{children:d&&e.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:`absolute right-0 mt-2 w-80 rounded-xl border shadow-lg z-50 ${n==="light"?"bg-white border-gray-200":"bg-gray-800 border-gray-700"}`,children:[e.jsx("div",{className:`p-4 border-b ${n==="light"?"border-gray-200":"border-gray-700"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:`font-semibold ${n==="light"?"text-gray-900":"text-white"}`,children:"Notifications"}),e.jsx("button",{className:`text-xs ${n==="light"?"text-blue-600":"text-blue-400"}`,children:"Mark all as read"})]})}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:j.length>0?j.map(N=>e.jsx("div",{className:`p-4 border-b last:border-b-0 ${N.read?n==="light"?"bg-white border-gray-200":"bg-gray-800 border-gray-700":n==="light"?"bg-blue-50 border-gray-200":"bg-blue-900/20 border-gray-700"}`,children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${N.read?"bg-gray-300":"bg-blue-500"}`}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${n==="light"?"text-gray-800":"text-gray-200"}`,children:N.message}),e.jsx("p",{className:`text-xs mt-1 ${n==="light"?"text-gray-500":"text-gray-400"}`,children:N.time})]})]})},N.id)):e.jsx("div",{className:"p-4 text-center",children:e.jsx("p",{className:`text-sm ${n==="light"?"text-gray-500":"text-gray-400"}`,children:"No notifications"})})}),e.jsx("div",{className:`p-3 border-t ${n==="light"?"border-gray-200":"border-gray-700"}`,children:e.jsx("button",{className:`w-full text-center text-sm py-2 rounded-lg ${n==="light"?"text-blue-600 hover:bg-blue-50":"text-blue-400 hover:bg-blue-900/20"}`,children:"View all notifications"})})]})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>u(!c),className:`flex items-center gap-2 px-3 py-2 rounded-lg ${n==="light"?"hover:bg-gray-100":"hover:bg-gray-700"}`,children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-500/20 flex items-center justify-center",children:e.jsx(Ne,{className:"w-5 h-5 text-purple-400"})}),e.jsx("span",{className:`hidden md:block font-medium ${n==="light"?"text-gray-700":"text-gray-300"}`,children:$?.name||"Admin"}),e.jsx(Se,{className:`w-4 h-4 ${n==="light"?"text-gray-500":"text-gray-400"}`})]}),e.jsx(q,{children:c&&e.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:`absolute right-0 mt-2 w-48 rounded-xl border shadow-lg z-50 ${n==="light"?"bg-white border-gray-200":"bg-gray-800 border-gray-700"}`,children:[e.jsxs("div",{className:`p-3 border-b ${n==="light"?"border-gray-200":"border-gray-700"}`,children:[e.jsx("p",{className:`font-medium ${n==="light"?"text-gray-900":"text-white"}`,children:$?.name||"Admin User"}),e.jsx("p",{className:`text-xs ${n==="light"?"text-gray-600":"text-gray-400"}`,children:$?.email||"admin@circles.com"})]}),e.jsxs("div",{className:"p-2",children:[e.jsxs("button",{onClick:()=>u(!1),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left ${n==="light"?"hover:bg-gray-100 text-gray-700":"hover:bg-gray-700 text-gray-300"}`,children:[e.jsx(ce,{className:"w-4 h-4"}),"Settings"]}),e.jsxs("button",{onClick:f,className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left ${n==="light"?"hover:bg-gray-100 text-gray-700":"hover:bg-gray-700 text-gray-300"}`,children:[e.jsx(we,{className:"w-4 h-4"}),"Sign Out"]})]})]})})]})]})]})})},Ie=i.createContext(void 0),ot=({children:t})=>{const[S,n]=i.useState([{id:"1",title:"Pathaan 2",type:"film",category:"Bollywood",status:"active",fundedPercentage:85,targetAmount:15e6,raisedAmount:1275e4,createdAt:"2023-12-15T10:30:00Z",updatedAt:"2024-01-20T14:45:00Z",poster:"https://m.media-amazon.com/images/M/MV5BOGY4NWNlM2QtMzVjYy00OGY1LWI4N2UtZDNlYWE2ZThjYmRmXkEyXkFqcGdeQXVyMTUzNTgzNzM0._V1_FMjpg_UX1000_.jpg"},{id:"2",title:"A.R. Rahman: Symphony of India",type:"music",category:"Bollywood",status:"active",fundedPercentage:95,targetAmount:5e6,raisedAmount:475e4,createdAt:"2023-11-10T08:15:00Z",updatedAt:"2024-01-15T11:20:00Z",poster:"https://i.scdn.co/image/ab67616d0000b273f54b99bf27cda88f4a7403ac"},{id:"3",title:"Sacred Games 3",type:"webseries",category:"Indian",status:"pending",fundedPercentage:45,targetAmount:12e6,raisedAmount:54e5,createdAt:"2024-01-05T09:45:00Z",updatedAt:"2024-01-25T16:30:00Z",poster:"https://m.media-amazon.com/images/M/MV5BMzRjZWVmMzItNTdmYS00OWEzLTgyOGUtNThiNTU2ZThlYjY0XkEyXkFqcGdeQXVyOTAzMTc2MjA@._V1_FMjpg_UX1000_.jpg"},{id:"4",title:"RRR 2",type:"film",category:"Regional",status:"active",fundedPercentage:78,targetAmount:35e6,raisedAmount:273e5,createdAt:"2023-10-20T14:00:00Z",updatedAt:"2024-01-10T09:15:00Z",poster:"https://m.media-amazon.com/images/M/MV5BODUwNDNjYzctODUxNy00ZTA2LWIyYTEtMDc5Y2E5ZjBmNTMzXkEyXkFqcGdeQXVyODE5NzE3OTE@._V1_FMjpg_UX1000_.jpg"},{id:"5",title:"Jawan: The Return",type:"film",category:"Bollywood",status:"completed",fundedPercentage:100,targetAmount:18e6,raisedAmount:18e6,createdAt:"2023-09-15T11:30:00Z",updatedAt:"2023-12-20T15:45:00Z",poster:"https://m.media-amazon.com/images/M/MV5BYjFjMTQzY2EtZjQ5MC00NGUyLWJiYWMtZDI3MTQ1MGU4OGY2XkEyXkFqcGdeQXVyMTUzNTgzNzM0._V1_FMjpg_UX1000_.jpg"}]),[a,$]=i.useState([{id:"1",title:"Pathaan 2 Limited Edition T-Shirt",category:"apparel",price:1299,stockLevel:150,status:"in-stock",image:"https://images.pexels.com/photos/8532616/pexels-photo-8532616.jpeg?auto=compress&cs=tinysrgb&w=400",createdAt:"2023-12-20T10:30:00Z"},{id:"2",title:"RRR 2 Collector's Watch",category:"accessories",price:4999,stockLevel:25,status:"low-stock",image:"https://images.pexels.com/photos/190819/pexels-photo-190819.jpeg?auto=compress&cs=tinysrgb&w=400",createdAt:"2023-11-15T14:45:00Z"},{id:"3",title:"A.R. Rahman Symphony Vinyl Record",category:"collectibles",price:2499,stockLevel:0,status:"out-of-stock",image:"https://images.pexels.com/photos/1389429/pexels-photo-1389429.jpeg?auto=compress&cs=tinysrgb&w=400",createdAt:"2024-01-10T09:15:00Z"},{id:"4",title:"Sacred Games 3 Poster Set",category:"collectibles",price:999,stockLevel:75,status:"in-stock",image:"https://images.pexels.com/photos/1047540/pexels-photo-1047540.jpeg?auto=compress&cs=tinysrgb&w=400",createdAt:"2024-01-25T16:30:00Z"}]),[f,c]=i.useState([{id:"1",title:"Digital Poster Collection",description:"Exclusive digital posters from the film",projectId:"1",projectTitle:"Pathaan 2",tier:"supporter",minAmount:1e4,createdAt:"2023-12-15T11:30:00Z"},{id:"2",title:"Virtual Meet & Greet",description:"Online session with the cast",projectId:"1",projectTitle:"Pathaan 2",tier:"backer",minAmount:25e3,createdAt:"2023-12-16T14:45:00Z"},{id:"3",title:"Studio Recording Session",description:"Attend a live recording session",projectId:"2",projectTitle:"A.R. Rahman: Symphony of India",tier:"producer",minAmount:5e4,createdAt:"2023-11-12T09:30:00Z"},{id:"4",title:"Executive Producer Credit",description:"Your name in the opening credits",projectId:"3",projectTitle:"Sacred Games 3",tier:"executive",minAmount:1e5,createdAt:"2024-01-07T15:20:00Z"}]),[u,d]=i.useState([{id:"1",title:"Pathaan 2 Official Poster",type:"image",url:"https://m.media-amazon.com/images/M/MV5BOGY4NWNlM2QtMzVjYy00OGY1LWI4N2UtZDNlYWE2ZThjYmRmXkEyXkFqcGdeQXVyMTUzNTgzNzM0._V1_FMjpg_UX1000_.jpg",fileSize:2048576,dimensions:"1000x1500",projectId:"1",tags:["poster","official","marketing"],createdAt:"2023-12-10T10:15:00Z"},{id:"2",title:"A.R. Rahman Symphony Teaser",type:"audio",url:"https://example.com/audio/rahman-symphony-teaser.mp3",fileSize:5242880,projectId:"2",tags:["audio","teaser","promotional"],createdAt:"2023-11-05T14:30:00Z"},{id:"3",title:"Sacred Games 3 Trailer",type:"video",url:"https://example.com/videos/sacred-games-3-trailer.mp4",fileSize:52428800,dimensions:"1920x1080",projectId:"3",tags:["trailer","promotional","netflix"],createdAt:"2024-01-03T16:45:00Z"},{id:"4",title:"RRR 2 Concept Art",type:"image",url:"https://example.com/images/rrr-2-concept-art.jpg",fileSize:3145728,dimensions:"2000x1200",projectId:"4",tags:["concept-art","pre-production"],createdAt:"2023-10-18T11:20:00Z"}]),[k,x]=i.useState([{id:"1",name:"Rahul Krishnan",email:"rahul.investor@gmail.com",role:"user",status:"active",investmentCount:12,totalInvested:45e4,createdAt:"2023-01-15T08:30:00Z"},{id:"2",name:"Shreya Patel",email:"shreya.patel@gmail.com",role:"user",status:"active",investmentCount:8,totalInvested:32e4,createdAt:"2023-03-20T14:45:00Z"},{id:"3",name:"Dev Malhotra",email:"dev.malhotra@gmail.com",role:"user",status:"inactive",investmentCount:5,totalInvested:18e4,createdAt:"2023-05-10T11:15:00Z"},{id:"4",name:"Admin User",email:"admin@circles.com",role:"admin",status:"active",investmentCount:0,totalInvested:0,createdAt:"2023-01-01T00:00:00Z"}]),[j,v]=i.useState([{id:"1",action:"Project Created",userId:"4",userName:"Admin User",resourceType:"project",resourceId:"1",details:"Created new project: Pathaan 2",timestamp:"2023-12-15T10:30:00Z"},{id:"2",action:"User Login",userId:"4",userName:"Admin User",resourceType:"system",details:"Admin user logged in",timestamp:"2024-01-30T09:15:00Z"},{id:"3",action:"Merchandise Added",userId:"4",userName:"Admin User",resourceType:"merchandise",resourceId:"1",details:"Added new merchandise: Pathaan 2 Limited Edition T-Shirt",timestamp:"2023-12-20T10:30:00Z"},{id:"4",action:"Media Uploaded",userId:"4",userName:"Admin User",resourceType:"media",resourceId:"1",details:"Uploaded new media: Pathaan 2 Official Poster",timestamp:"2023-12-10T10:15:00Z"},{id:"5",action:"User Status Updated",userId:"4",userName:"Admin User",resourceType:"user",resourceId:"3",details:"Updated user status to inactive: Dev Malhotra",timestamp:"2024-01-15T16:30:00Z"}]),[N,D]=i.useState([{id:"1",name:"Full Backup - 2024-01-30",size:15728640,createdAt:"2024-01-30T00:00:00Z",status:"completed"},{id:"2",name:"Full Backup - 2024-01-23",size:14680064,createdAt:"2024-01-23T00:00:00Z",status:"completed"},{id:"3",name:"Full Backup - 2024-01-16",size:13631488,createdAt:"2024-01-16T00:00:00Z",status:"completed"}]),p=h=>{const w=new Date().toISOString(),C={...h,id:Date.now().toString(),createdAt:w,updatedAt:w};n(I=>[C,...I]),m({action:"Project Created",userId:"4",userName:"Admin User",resourceType:"project",resourceId:C.id,details:`Created new project: ${C.title}`})},s=(h,w)=>{n(C=>C.map(I=>I.id===h?{...I,...w,updatedAt:new Date().toISOString()}:I)),m({action:"Project Updated",userId:"4",userName:"Admin User",resourceType:"project",resourceId:h,details:`Updated project: ${w.title||h}`})},P=h=>{const w=S.find(C=>C.id===h);n(C=>C.filter(I=>I.id!==h)),w&&m({action:"Project Deleted",userId:"4",userName:"Admin User",resourceType:"project",resourceId:h,details:`Deleted project: ${w.title}`})},T=h=>{n(C=>C.map(I=>I.id===h?{...I,status:"archived",updatedAt:new Date().toISOString()}:I));const w=S.find(C=>C.id===h);w&&m({action:"Project Archived",userId:"4",userName:"Admin User",resourceType:"project",resourceId:h,details:`Archived project: ${w.title}`})},L=h=>{const w={...h,id:Date.now().toString(),createdAt:new Date().toISOString()};$(C=>[w,...C]),m({action:"Merchandise Added",userId:"4",userName:"Admin User",resourceType:"merchandise",resourceId:w.id,details:`Added new merchandise: ${w.title}`})},r=(h,w)=>{$(C=>C.map(I=>I.id===h?{...I,...w}:I)),m({action:"Merchandise Updated",userId:"4",userName:"Admin User",resourceType:"merchandise",resourceId:h,details:`Updated merchandise: ${w.title||h}`})},y=h=>{const w=a.find(C=>C.id===h);$(C=>C.filter(I=>I.id!==h)),w&&m({action:"Merchandise Deleted",userId:"4",userName:"Admin User",resourceType:"merchandise",resourceId:h,details:`Deleted merchandise: ${w.title}`})},A=h=>{const w={...h,id:Date.now().toString(),createdAt:new Date().toISOString()};c(C=>[w,...C]),m({action:"Perk Added",userId:"4",userName:"Admin User",resourceType:"perk",resourceId:w.id,details:`Added new perk: ${w.title}`})},M=(h,w)=>{c(C=>C.map(I=>I.id===h?{...I,...w}:I)),m({action:"Perk Updated",userId:"4",userName:"Admin User",resourceType:"perk",resourceId:h,details:`Updated perk: ${w.title||h}`})},E=h=>{const w=f.find(C=>C.id===h);c(C=>C.filter(I=>I.id!==h)),w&&m({action:"Perk Deleted",userId:"4",userName:"Admin User",resourceType:"perk",resourceId:h,details:`Deleted perk: ${w.title}`})},b=h=>{const w={...h,id:Date.now().toString(),createdAt:new Date().toISOString()};d(C=>[w,...C]),m({action:"Media Uploaded",userId:"4",userName:"Admin User",resourceType:"media",resourceId:w.id,details:`Uploaded new media: ${w.title}`})},l=(h,w)=>{d(C=>C.map(I=>I.id===h?{...I,...w}:I)),m({action:"Media Updated",userId:"4",userName:"Admin User",resourceType:"media",resourceId:h,details:`Updated media: ${w.title||h}`})},o=h=>{const w=u.find(C=>C.id===h);d(C=>C.filter(I=>I.id!==h)),w&&m({action:"Media Deleted",userId:"4",userName:"Admin User",resourceType:"media",resourceId:h,details:`Deleted media: ${w.title}`})},U=(h,w)=>{x(I=>I.map(ae=>ae.id===h?{...ae,status:w}:ae));const C=k.find(I=>I.id===h);C&&m({action:"User Status Updated",userId:"4",userName:"Admin User",resourceType:"user",resourceId:h,details:`Updated user status to ${w}: ${C.name}`})},m=h=>{const w={...h,id:Date.now().toString(),timestamp:new Date().toISOString()};v(C=>[w,...C])},g={projects:S,addProject:p,updateProject:s,deleteProject:P,archiveProject:T,merchandiseItems:a,addMerchandiseItem:L,updateMerchandiseItem:r,deleteMerchandiseItem:y,perks:f,addPerk:A,updatePerk:M,deletePerk:E,mediaAssets:u,addMediaAsset:b,updateMediaAsset:l,deleteMediaAsset:o,users:k,updateUserStatus:U,activityLogs:j,addActivityLog:m,backups:N,createBackup:async()=>{const h={id:Date.now().toString(),name:`Full Backup - ${new Date().toISOString().split("T")[0]}`,size:Math.floor(Math.random()*5e6)+1e7,createdAt:new Date().toISOString(),status:"in-progress"};D(w=>[h,...w]),m({action:"Backup Started",userId:"4",userName:"Admin User",resourceType:"system",details:`Started new backup: ${h.name}`}),await new Promise(w=>setTimeout(w,3e3)),D(w=>w.map(C=>C.id===h.id?{...C,status:"completed"}:C)),m({action:"Backup Completed",userId:"4",userName:"Admin User",resourceType:"system",details:`Completed backup: ${h.name}`})},restoreBackup:async h=>{const w=N.find(C=>C.id===h);w&&(m({action:"Backup Restore Started",userId:"4",userName:"Admin User",resourceType:"system",details:`Started restoring backup: ${w.name}`}),await new Promise(C=>setTimeout(C,5e3)),m({action:"Backup Restore Completed",userId:"4",userName:"Admin User",resourceType:"system",details:`Completed restoring backup: ${w.name}`}))}};return e.jsx(Ie.Provider,{value:g,children:t})},O=()=>{const t=i.useContext(Ie);if(t===void 0)throw new Error("useAdmin must be used within an AdminProvider");return t},ct=({project:t,isOpen:S,onClose:n})=>{const{theme:a}=z(),{addProject:$,updateProject:f}=O(),[c,u]=i.useState({title:"",type:"film",category:"",language:"",poster:"",fundedPercentage:0,targetAmount:0,raisedAmount:0,timeLeft:"",tags:[],description:"",director:"",artist:"",genre:"",perks:[],rating:void 0,investorCount:void 0,trailer:"",imageValidated:void 0,imageSource:"",status:"active",movie:"",keyPeople:[],actor:"",actress:"",productionHouse:"",targetAmountHuman:"",raisedAmountHuman:"",keyCommunityData:[],disabled:!1}),[d,k]=i.useState(!1),[x,j]=i.useState({}),[v,N]=i.useState(null),[D,p]=i.useState("");i.useEffect(()=>{t&&(u({title:t.title,type:t.type,category:t.category,language:t.language||"",poster:t.poster||"",fundedPercentage:t.fundedPercentage,targetAmount:t.targetAmount,raisedAmount:t.raisedAmount,timeLeft:t.timeLeft||"",tags:t.tags||[],description:t.description||"",director:t.director||"",artist:t.artist||"",genre:t.genre||"",perks:t.perks||[],rating:t.rating,investorCount:t.investorCount,trailer:t.trailer||"",imageValidated:t.imageValidated,imageSource:t.imageSource||"",status:t.status||"active",movie:t.movie||"",keyPeople:t.keyPeople||[],actor:t.actor||"",actress:t.actress||"",productionHouse:t.productionHouse||"",targetAmountHuman:t.targetAmountHuman||"",raisedAmountHuman:t.raisedAmountHuman||"",keyCommunityData:t.keyCommunityData||[],disabled:t.disabled??!1}),t.poster&&p(t.poster))},[t]);const s=(r,y)=>{u(A=>({...A,[r]:y})),x[r]&&j(A=>{const M={...A};return delete M[r],M})},P=r=>{const y=r.target.files?.[0];if(!y)return;N(y);const A=new FileReader;A.onloadend=()=>{p(A.result)},A.readAsDataURL(y)},T=()=>{const r={};return c.title.trim()||(r.title="Title is required"),c.category.trim()||(r.category="Category is required"),c.targetAmount<=0&&(r.targetAmount="Target amount must be greater than 0"),j(r),Object.keys(r).length===0},L=async r=>{if(r.preventDefault(),!!T()){k(!0);try{const y=v?D:c.poster;t?f(t.id,{...c,poster:y}):$({...c,poster:y}),n()}catch{}finally{k(!1)}}};return S?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:n}),e.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:`relative w-full max-w-3xl rounded-lg p-6 shadow-xl ${a==="light"?"bg-white":"bg-gray-800"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:`text-xl font-bold ${a==="light"?"text-gray-900":"text-white"}`,children:t?"Edit Project":"Add New Project"}),e.jsx("button",{onClick:n,className:`p-2 rounded-full ${a==="light"?"text-gray-400 hover:text-gray-600":"text-gray-500 hover:text-gray-300"}`,children:e.jsx(H,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:L,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Project Title"}),e.jsx("input",{type:"text",value:c.title,onChange:r=>s("title",r.target.value),className:`w-full px-4 py-2 rounded-lg border ${x.title?"border-red-500":a==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter project title"}),x.title&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Project Type"}),e.jsxs("select",{value:c.type,onChange:r=>s("type",r.target.value),className:`w-full px-4 py-2 rounded-lg border ${a==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"film",children:"Film"}),e.jsx("option",{value:"music",children:"Music"}),e.jsx("option",{value:"webseries",children:"Web Series"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Category"}),e.jsx("input",{type:"text",value:c.category,onChange:r=>s("category",r.target.value),className:`w-full px-4 py-2 rounded-lg border ${x.category?"border-red-500":a==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"e.g., Bollywood, Regional, Hollywood"}),x.category&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.category})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Status"}),e.jsxs("select",{value:c.status,onChange:r=>s("status",r.target.value),className:`w-full px-4 py-2 rounded-lg border ${a==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"archived",children:"Archived"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Target Amount (₹)"}),e.jsx("input",{type:"number",value:c.targetAmount,onChange:r=>s("targetAmount",Number(r.target.value)),className:`w-full px-4 py-2 rounded-lg border ${x.targetAmount?"border-red-500":a==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter target amount"}),x.targetAmount&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.targetAmount})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Raised Amount (₹)"}),e.jsx("input",{type:"number",value:c.raisedAmount,onChange:r=>{const y=Number(r.target.value);if(s("raisedAmount",y),c.targetAmount>0){const A=Math.min(100,Math.round(y/c.targetAmount*100));s("fundedPercentage",A)}},className:`w-full px-4 py-2 rounded-lg border ${a==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter raised amount"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Funded Percentage"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"number",value:c.fundedPercentage,onChange:r=>s("fundedPercentage",Math.min(100,Number(r.target.value))),className:`w-full px-4 py-2 rounded-lg border ${a==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter percentage",min:"0",max:"100"}),e.jsx("span",{className:a==="light"?"text-gray-700":"text-gray-300",children:"%"})]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:`w-full h-2 rounded-full ${a==="light"?"bg-gray-200":"bg-gray-700"}`,children:e.jsx("div",{className:`h-2 rounded-full ${c.type==="film"?"bg-purple-500":c.type==="music"?"bg-blue-500":"bg-green-500"}`,style:{width:`${c.fundedPercentage}%`}})})})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Poster Image"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`flex-1 border-2 border-dashed rounded-lg p-4 ${a==="light"?"border-gray-300":"border-gray-600"}`,children:e.jsx("div",{className:"flex items-center justify-center",children:D?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:D,alt:"Poster preview",className:"h-40 object-contain rounded"}),e.jsx("button",{type:"button",onClick:()=>{p(""),N(null),s("poster","")},className:"absolute top-2 right-2 p-1 rounded-full bg-black/50 text-white hover:bg-black/70",children:e.jsx(H,{className:"w-4 h-4"})})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center cursor-pointer",children:[e.jsx(ee,{className:`w-10 h-10 mb-2 ${a==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("span",{className:`text-sm ${a==="light"?"text-gray-600":"text-gray-400"}`,children:"Click to upload poster"}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:P})]})})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${a==="light"?"text-gray-600":"text-gray-400"}`,children:"Or enter URL:"}),e.jsx("input",{type:"text",value:c.poster,onChange:r=>{s("poster",r.target.value),r.target.value&&p(r.target.value)},className:`mt-2 w-full px-4 py-2 rounded-lg border ${a==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"https://example.com/poster.jpg"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:n,className:`px-4 py-2 rounded-lg border ${a==="light"?"border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-200 hover:bg-gray-600"}`,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700 transition-colors disabled:opacity-70 flex items-center gap-2",children:d?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Save Project"})]})]})]})]})}):null},Z=({isOpen:t,title:S,message:n,confirmLabel:a,cancelLabel:$="Cancel",confirmVariant:f="primary",onConfirm:c,onCancel:u,isLoading:d=!1})=>{const{theme:k}=z();if(!t)return null;const x=()=>{switch(f){case"danger":return"bg-red-600 hover:bg-red-700 focus:ring-red-500";case"warning":return"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500";case"success":return"bg-green-600 hover:bg-green-700 focus:ring-green-500";default:return"bg-purple-600 hover:bg-purple-700 focus:ring-purple-500"}};return e.jsx(q,{children:e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:u}),e.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:`relative w-full max-w-md rounded-lg p-6 text-left shadow-xl ${k==="light"?"bg-white":"bg-gray-800"}`,children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-2 rounded-full ${f==="danger"?"bg-red-100 text-red-600":f==="warning"?"bg-yellow-100 text-yellow-600":f==="success"?"bg-green-100 text-green-600":"bg-purple-100 text-purple-600"}`,children:e.jsx(de,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`text-lg font-medium ${k==="light"?"text-gray-900":"text-white"}`,children:S}),e.jsx("p",{className:`mt-2 ${k==="light"?"text-gray-600":"text-gray-300"}`,children:n})]}),e.jsx("button",{onClick:u,className:`p-1 rounded-full ${k==="light"?"text-gray-400 hover:text-gray-600":"text-gray-500 hover:text-gray-300"}`,children:e.jsx(H,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:u,className:`px-4 py-2 rounded-lg border ${k==="light"?"border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-200 hover:bg-gray-600"}`,children:$}),e.jsx("button",{type:"button",onClick:c,disabled:d,className:`px-4 py-2 rounded-lg text-white ${x()} flex items-center gap-2 disabled:opacity-70`,children:d?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):a})]})]})]})})})},W=({columns:t,data:S,onSort:n,sortField:a,sortDirection:$})=>{const{theme:f}=z(),{getTableProps:c,getTableBodyProps:u,headerGroups:d,prepareRow:k,page:x,canPreviousPage:j,canNextPage:v,pageCount:N,gotoPage:D,nextPage:p,previousPage:s,state:{pageIndex:P,pageSize:T}}=le.useTable({columns:t,data:S,initialState:{pageIndex:0,pageSize:10},manualSortBy:!!n,disableSortBy:!n},le.useSortBy,le.usePagination),L=r=>{n&&r.id&&n(r.id)};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("table",{...c(),className:"w-full",children:[e.jsx("thead",{className:`${f==="light"?"bg-gray-50":"bg-gray-800"}`,children:d.map(r=>e.jsx("tr",{...r.getHeaderGroupProps(),children:r.headers.map(y=>e.jsx("th",{...y.getHeaderProps(),className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${f==="light"?"text-gray-500":"text-gray-400"}`,onClick:()=>L(y),style:{cursor:n?"pointer":"default"},children:e.jsxs("div",{className:"flex items-center gap-2",children:[y.render("Header"),n&&a===y.id&&($==="asc"?e.jsx(Be,{className:"w-4 h-4"}):e.jsx(Se,{className:"w-4 h-4"}))]})}))}))}),e.jsx("tbody",{...u(),className:`${f==="light"?"bg-white divide-y divide-gray-200":"divide-y divide-gray-700"}`,children:x.map(r=>(k(r),e.jsx("tr",{...r.getRowProps(),className:`${f==="light"?"hover:bg-gray-50":"hover:bg-gray-700"}`,children:r.cells.map(y=>e.jsx("td",{...y.getCellProps(),className:"px-6 py-4 whitespace-nowrap",children:y.render("Cell")}))})))})]})}),e.jsxs("div",{className:`px-4 py-3 flex items-center justify-between border-t ${f==="light"?"bg-white border-gray-200":"bg-gray-800 border-gray-700"}`,children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>s(),disabled:!j,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md ${f==="light"?"border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-200 hover:bg-gray-600"} ${!j&&"opacity-50 cursor-not-allowed"}`,children:"Previous"}),e.jsx("button",{onClick:()=>p(),disabled:!v,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md ${f==="light"?"border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-200 hover:bg-gray-600"} ${!v&&"opacity-50 cursor-not-allowed"}`,children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:`text-sm ${f==="light"?"text-gray-700":"text-gray-300"}`,children:["Showing ",e.jsx("span",{className:"font-medium",children:P*T+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min((P+1)*T,S.length)})," ","of ",e.jsx("span",{className:"font-medium",children:S.length})," results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>D(0),disabled:!j,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border text-sm font-medium ${f==="light"?"border-gray-300 bg-white text-gray-500 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-300 hover:bg-gray-600"} ${!j&&"opacity-50 cursor-not-allowed"}`,children:[e.jsx("span",{className:"sr-only",children:"First"}),e.jsx(ze,{className:"h-5 w-5","aria-hidden":"true"})]}),e.jsxs("button",{onClick:()=>s(),disabled:!j,className:`relative inline-flex items-center px-2 py-2 border text-sm font-medium ${f==="light"?"border-gray-300 bg-white text-gray-500 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-300 hover:bg-gray-600"} ${!j&&"opacity-50 cursor-not-allowed"}`,children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx(Oe,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(Math.min(5,N))].map((r,y)=>{const A=P-2+y;return A>=0&&A<N?e.jsx("button",{onClick:()=>D(A),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${A===P?f==="light"?"z-10 bg-purple-50 border-purple-500 text-purple-600":"z-10 bg-purple-900 border-purple-500 text-purple-300":f==="light"?"bg-white border-gray-300 text-gray-500 hover:bg-gray-50":"bg-gray-700 border-gray-600 text-gray-300 hover:bg-gray-600"}`,children:A+1},A):null}),e.jsxs("button",{onClick:()=>p(),disabled:!v,className:`relative inline-flex items-center px-2 py-2 border text-sm font-medium ${f==="light"?"border-gray-300 bg-white text-gray-500 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-300 hover:bg-gray-600"} ${!v&&"opacity-50 cursor-not-allowed"}`,children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx(He,{className:"h-5 w-5","aria-hidden":"true"})]}),e.jsxs("button",{onClick:()=>D(N-1),disabled:!v,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border text-sm font-medium ${f==="light"?"border-gray-300 bg-white text-gray-500 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-300 hover:bg-gray-600"} ${!v&&"opacity-50 cursor-not-allowed"}`,children:[e.jsx("span",{className:"sr-only",children:"Last"}),e.jsx(Ze,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})};function ye(t){return typeof t=="string"&&t?t:"1970-01-01"}const be=()=>{const{theme:t}=z(),{projects:S,deleteProject:n,archiveProject:a}=O(),[$,f]=i.useState(!1),[c,u]=i.useState(null),[d,k]=i.useState(null),[x,j]=i.useState(null),[v,N]=i.useState(""),[D,p]=i.useState("all"),[s,P]=i.useState("all"),[T,L]=i.useState("all"),[r,y]=i.useState("createdAt"),[A,M]=i.useState("desc"),E=i.useMemo(()=>S.filter(g=>{const h=g.title.toLowerCase().includes(v.toLowerCase()),w=D==="all"||g.type===D,C=s==="all"||g.status===s,I=T==="all"||g.category===T;return h&&w&&C&&I}).sort((g,h)=>r==="createdAt"||r==="updatedAt"?A==="asc"?new Date(g[r]).getTime()-new Date(h[r]).getTime():new Date(h[r]).getTime()-new Date(g[r]).getTime():typeof g[r]=="number"&&typeof h[r]=="number"?A==="asc"?g[r]-h[r]:h[r]-g[r]:A==="asc"?String(g[r]).localeCompare(String(h[r])):String(h[r]).localeCompare(String(g[r]))),[S,v,D,s,T,r,A]),b=i.useMemo(()=>{const g=new Set(S.map(h=>h.category));return Array.from(g)},[S]),l=g=>{r===g?M(A==="asc"?"desc":"asc"):(y(g),M("asc"))},o=()=>{d&&(n(d),k(null))},U=()=>{x&&(a(x),j(null))},m=g=>{switch(g){case"active":return e.jsx(V,{className:"w-4 h-4 text-green-500"});case"pending":return e.jsx(Ce,{className:"w-4 h-4 text-yellow-500"});case"completed":return e.jsx(V,{className:"w-4 h-4 text-blue-500"});case"archived":return e.jsx(ue,{className:"w-4 h-4 text-gray-500"});default:return e.jsx(ge,{className:"w-4 h-4 text-red-500"})}},F=g=>{switch(g){case"film":return e.jsx(K,{className:"w-4 h-4 text-purple-500"});case"music":return e.jsx(ke,{className:"w-4 h-4 text-blue-500"});case"webseries":return e.jsx($e,{className:"w-4 h-4 text-green-500"});default:return null}},B=[{Header:"Title",accessor:"title",Cell:({row:g})=>e.jsxs("div",{className:"flex items-center gap-3",children:[g.original.poster?e.jsx("img",{src:g.original.poster,alt:g.original.title,className:"w-10 h-10 object-cover rounded"}):e.jsx("div",{className:`w-10 h-10 rounded flex items-center justify-center ${t==="light"?"bg-gray-200":"bg-gray-700"}`,children:F(g.original.type)}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:g.original.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-xs ${t==="light"?"text-gray-500":"text-gray-400"}`,children:g.original.category}),e.jsxs("span",{className:"flex items-center gap-1 text-xs",children:[F(g.original.type),e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-300",children:g.original.type})]})]})]})]})},{Header:"Status",accessor:"status",Cell:({value:g})=>e.jsxs("div",{className:"flex items-center gap-2",children:[m(g),e.jsx("span",{className:`capitalize ${g==="active"?"text-green-500":g==="pending"?"text-yellow-500":g==="completed"?"text-blue-500":"text-gray-500"}`,children:g})]})},{Header:"Funding",accessor:"fundedPercentage",Cell:({row:g})=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("span",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:[g.original.fundedPercentage,"%"]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["₹",(g.original.raisedAmount/1e5).toFixed(1),"L / ₹",(g.original.targetAmount/1e5).toFixed(1),"L"]})]}),e.jsx("div",{className:`w-full h-2 rounded-full ${t==="light"?"bg-gray-200":"bg-gray-700"}`,children:e.jsx("div",{className:`h-2 rounded-full ${g.original.type==="film"?"bg-purple-500":g.original.type==="music"?"bg-blue-500":"bg-green-500"}`,style:{width:`${g.original.fundedPercentage}%`}})})]})},{Header:"Created",accessor:g=>ye(g.createdAt),Cell:({value:g})=>{const h=g&&typeof g=="string"?g:"1970-01-01";return e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-400",children:new Date(h).toLocaleDateString()})}},{Header:"Updated",accessor:g=>ye(g.updatedAt),Cell:({value:g})=>{const h=g&&typeof g=="string"?g:"1970-01-01";return e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-400",children:new Date(h).toLocaleDateString()})}},{Header:"Actions",Cell:({row:g})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>u(g.original),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-700 text-gray-300"}`,title:"Edit",children:e.jsx(te,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>j(g.original.id),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-700 text-gray-300"}`,title:"Archive",children:e.jsx(ue,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>k(g.original.id),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-red-600":"hover:bg-gray-700 text-red-400"}`,title:"Delete",children:e.jsx(re,{className:"w-4 h-4"})})]})}];return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold mb-1 ${t==="light"?"text-gray-900":"text-white"}`,children:"Projects"}),e.jsx("p",{className:`${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Manage all your entertainment projects"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors",children:[e.jsx(Q,{className:"w-5 h-5"}),"Add Project"]}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(X,{className:"w-5 h-5"})}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(Y,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${t==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"text",placeholder:"Search projects...",value:v,onChange:g=>N(g.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("select",{value:D,onChange:g=>p(g.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"film",children:"Films"}),e.jsx("option",{value:"music",children:"Music"}),e.jsx("option",{value:"webseries",children:"Web Series"})]}),e.jsxs("select",{value:s,onChange:g=>P(g.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"archived",children:"Archived"})]}),e.jsxs("select",{value:T,onChange:g=>L(g.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Categories"}),b.map(g=>e.jsx("option",{value:g,children:g},g))]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(W,{columns:B,data:E,onSort:l,sortField:r,sortDirection:A})}),($||c)&&e.jsx(ct,{project:c,isOpen:$||!!c,onClose:()=>{f(!1),u(null)}}),e.jsx(Z,{isOpen:!!d,title:"Delete Project",message:"Are you sure you want to delete this project? This action cannot be undone.",confirmLabel:"Delete",confirmVariant:"danger",onConfirm:o,onCancel:()=>k(null)}),e.jsx(Z,{isOpen:!!x,title:"Archive Project",message:"Are you sure you want to archive this project? It will no longer be visible to users but can be restored later.",confirmLabel:"Archive",confirmVariant:"warning",onConfirm:U,onCancel:()=>j(null)})]})},dt=({item:t,isOpen:S,onClose:n})=>{const{theme:a}=z(),{addMerchandiseItem:$,updateMerchandiseItem:f}=O(),[c,u]=i.useState({title:"",category:"",price:0,stockLevel:0,status:"in-stock",image:""}),[d,k]=i.useState(!1),[x,j]=i.useState({}),[v,N]=i.useState(null),[D,p]=i.useState("");i.useEffect(()=>{t&&(u({title:t.title,category:t.category,price:t.price,stockLevel:t.stockLevel,status:t.status,image:t.image||""}),t.image&&p(t.image))},[t]);const s=(r,y)=>{if(u(A=>({...A,[r]:y})),x[r]&&j(A=>{const M={...A};return delete M[r],M}),r==="stockLevel"){const A=Number(y);let M="in-stock";A===0?M="out-of-stock":A<=10&&(M="low-stock"),u(E=>({...E,status:M}))}},P=r=>{const y=r.target.files?.[0];if(!y)return;N(y);const A=new FileReader;A.onloadend=()=>{p(A.result)},A.readAsDataURL(y)},T=()=>{const r={};return c.title.trim()||(r.title="Title is required"),c.category.trim()||(r.category="Category is required"),c.price<0&&(r.price="Price cannot be negative"),c.stockLevel<0&&(r.stockLevel="Stock level cannot be negative"),j(r),Object.keys(r).length===0},L=async r=>{if(r.preventDefault(),!!T()){k(!0);try{const y=v?D:c.image;t?f(t.id,{...c,image:y}):$({...c,image:y}),n()}catch{}finally{k(!1)}}};return S?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:n}),e.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:`relative w-full max-w-2xl rounded-lg p-6 shadow-xl ${a==="light"?"bg-white":"bg-gray-800"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:`text-xl font-bold ${a==="light"?"text-gray-900":"text-white"}`,children:t?"Edit Merchandise Item":"Add New Merchandise Item"}),e.jsx("button",{onClick:n,className:`p-2 rounded-full ${a==="light"?"text-gray-400 hover:text-gray-600":"text-gray-500 hover:text-gray-300"}`,children:e.jsx(H,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:L,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Item Title"}),e.jsx("input",{type:"text",value:c.title,onChange:r=>s("title",r.target.value),className:`w-full px-4 py-2 rounded-lg border ${x.title?"border-red-500":a==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter merchandise title"}),x.title&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Category"}),e.jsxs("select",{value:c.category,onChange:r=>s("category",r.target.value),className:`w-full px-4 py-2 rounded-lg border ${x.category?"border-red-500":a==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"",children:"Select Category"}),e.jsx("option",{value:"apparel",children:"Apparel"}),e.jsx("option",{value:"accessories",children:"Accessories"}),e.jsx("option",{value:"collectibles",children:"Collectibles"}),e.jsx("option",{value:"limited-editions",children:"Limited Editions"})]}),x.category&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.category})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Price (₹)"}),e.jsx("input",{type:"number",value:c.price,onChange:r=>s("price",Number(r.target.value)),className:`w-full px-4 py-2 rounded-lg border ${x.price?"border-red-500":a==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter price"}),x.price&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.price})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Stock Level"}),e.jsx("input",{type:"number",value:c.stockLevel,onChange:r=>s("stockLevel",Number(r.target.value)),className:`w-full px-4 py-2 rounded-lg border ${x.stockLevel?"border-red-500":a==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter stock level"}),x.stockLevel&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.stockLevel})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Status"}),e.jsxs("select",{value:c.status,onChange:r=>s("status",r.target.value),className:`w-full px-4 py-2 rounded-lg border ${a==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"in-stock",children:"In Stock"}),e.jsx("option",{value:"low-stock",children:"Low Stock"}),e.jsx("option",{value:"out-of-stock",children:"Out of Stock"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Item Image"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`flex-1 border-2 border-dashed rounded-lg p-4 ${a==="light"?"border-gray-300":"border-gray-600"}`,children:e.jsx("div",{className:"flex items-center justify-center",children:D?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:D,alt:"Item preview",className:"h-40 object-contain rounded"}),e.jsx("button",{type:"button",onClick:()=>{p(""),N(null),s("image","")},className:"absolute top-2 right-2 p-1 rounded-full bg-black/50 text-white hover:bg-black/70",children:e.jsx(H,{className:"w-4 h-4"})})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center cursor-pointer",children:[e.jsx(ee,{className:`w-10 h-10 mb-2 ${a==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("span",{className:`text-sm ${a==="light"?"text-gray-600":"text-gray-400"}`,children:"Click to upload image"}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:P})]})})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${a==="light"?"text-gray-600":"text-gray-400"}`,children:"Or enter URL:"}),e.jsx("input",{type:"text",value:c.image,onChange:r=>{s("image",r.target.value),r.target.value&&p(r.target.value)},className:`mt-2 w-full px-4 py-2 rounded-lg border ${a==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"https://example.com/image.jpg"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:n,className:`px-4 py-2 rounded-lg border ${a==="light"?"border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-200 hover:bg-gray-600"}`,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700 transition-colors disabled:opacity-70 flex items-center gap-2",children:d?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Save Item"})]})]})]})]})}):null},gt=()=>{const{theme:t}=z(),{merchandiseItems:S,deleteMerchandiseItem:n}=O(),[a,$]=i.useState(!1),[f,c]=i.useState(null),[u,d]=i.useState(null),[k,x]=i.useState(""),[j,v]=i.useState("all"),[N,D]=i.useState("all"),[p,s]=i.useState("createdAt"),[P,T]=i.useState("desc"),L=i.useMemo(()=>S.filter(b=>{const l=b.title.toLowerCase().includes(k.toLowerCase()),o=j==="all"||b.category===j,U=N==="all"||b.status===N;return l&&o&&U}).sort((b,l)=>p==="createdAt"?P==="asc"?new Date(b[p]).getTime()-new Date(l[p]).getTime():new Date(l[p]).getTime()-new Date(b[p]).getTime():typeof b[p]=="number"&&typeof l[p]=="number"?P==="asc"?b[p]-l[p]:l[p]-b[p]:P==="asc"?String(b[p]).localeCompare(String(l[p])):String(l[p]).localeCompare(String(b[p]))),[S,k,j,N,p,P]),r=i.useMemo(()=>{const b=new Set(S.map(l=>l.category));return Array.from(b)},[S]),y=b=>{p===b?T(P==="asc"?"desc":"asc"):(s(b),T("asc"))},A=()=>{u&&(n(u),d(null))},M=b=>{switch(b){case"in-stock":return e.jsx(V,{className:"w-4 h-4 text-green-500"});case"low-stock":return e.jsx(_e,{className:"w-4 h-4 text-yellow-500"});case"out-of-stock":return e.jsx(ge,{className:"w-4 h-4 text-red-500"});default:return null}},E=[{Header:"Item",accessor:"title",Cell:({row:b})=>e.jsxs("div",{className:"flex items-center gap-3",children:[b.original.image?e.jsx("img",{src:b.original.image,alt:b.original.title,className:"w-10 h-10 object-cover rounded"}):e.jsx("div",{className:`w-10 h-10 rounded flex items-center justify-center ${t==="light"?"bg-gray-200":"bg-gray-700"}`,children:e.jsx(oe,{className:"w-5 h-5 text-gray-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:b.original.title}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"flex items-center gap-1 text-xs",children:[e.jsx(Ve,{className:`w-3 h-3 ${t==="light"?"text-gray-500":"text-gray-400"}`}),e.jsx("span",{className:`capitalize ${t==="light"?"text-gray-600":"text-gray-300"}`,children:b.original.category})]})})]})]})},{Header:"Price",accessor:"price",Cell:({value:b})=>e.jsxs("span",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:["₹",b.toLocaleString()]})},{Header:"Stock",accessor:"stockLevel",Cell:({row:b})=>e.jsxs("div",{className:"flex items-center gap-2",children:[M(b.original.status),e.jsx("span",{className:`${b.original.status==="in-stock"?"text-green-500":b.original.status==="low-stock"?"text-yellow-500":"text-red-500"}`,children:b.original.stockLevel})]})},{Header:"Status",accessor:"status",Cell:({value:b})=>e.jsx("span",{className:`capitalize ${b==="in-stock"?"text-green-500":b==="low-stock"?"text-yellow-500":"text-red-500"}`,children:b.replace("-"," ")})},{Header:"Created",accessor:"createdAt",Cell:({value:b})=>e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-400",children:new Date(b).toLocaleDateString()})},{Header:"Actions",Cell:({row:b})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>c(b.original),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-700 text-gray-300"}`,title:"Edit",children:e.jsx(te,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>d(b.original.id),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-red-600":"hover:bg-gray-700 text-red-400"}`,title:"Delete",children:e.jsx(re,{className:"w-4 h-4"})})]})}];return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold mb-1 ${t==="light"?"text-gray-900":"text-white"}`,children:"Merchandise"}),e.jsx("p",{className:`${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Manage your merchandise inventory"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>$(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors",children:[e.jsx(Q,{className:"w-5 h-5"}),"Add Item"]}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(X,{className:"w-5 h-5"})}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(Y,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${t==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"text",placeholder:"Search merchandise...",value:k,onChange:b=>x(b.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("select",{value:j,onChange:b=>v(b.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Categories"}),r.map(b=>e.jsx("option",{value:b,children:b},b))]}),e.jsxs("select",{value:N,onChange:b=>D(b.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"in-stock",children:"In Stock"}),e.jsx("option",{value:"low-stock",children:"Low Stock"}),e.jsx("option",{value:"out-of-stock",children:"Out of Stock"})]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(W,{columns:E,data:L,onSort:y,sortField:p,sortDirection:P})}),(a||f)&&e.jsx(dt,{item:f,isOpen:a||!!f,onClose:()=>{$(!1),c(null)}}),e.jsx(Z,{isOpen:!!u,title:"Delete Merchandise Item",message:"Are you sure you want to delete this merchandise item? This action cannot be undone.",confirmLabel:"Delete",confirmVariant:"danger",onConfirm:A,onCancel:()=>d(null)})]})},ut=({perk:t,isOpen:S,onClose:n})=>{const{theme:a}=z(),{addPerk:$,updatePerk:f,projects:c}=O(),[u,d]=i.useState({title:"",description:"",projectId:"",projectTitle:"",tier:"supporter",minAmount:1e4}),[k,x]=i.useState(!1),[j,v]=i.useState({});i.useEffect(()=>{t&&d({title:t.title,description:t.description,projectId:t.projectId||"",projectTitle:t.projectTitle||"",tier:t.tier,minAmount:t.minAmount})},[t]);const N=(s,P)=>{if(d(T=>({...T,[s]:P})),j[s]&&v(T=>{const L={...T};return delete L[s],L}),s==="projectId"&&P){const T=c.find(L=>L.id===P);T&&d(L=>({...L,projectTitle:T.title}))}},D=()=>{const s={};return u.title.trim()||(s.title="Title is required"),u.description.trim()||(s.description="Description is required"),u.minAmount<=0&&(s.minAmount="Minimum amount must be greater than 0"),v(s),Object.keys(s).length===0},p=async s=>{if(s.preventDefault(),!!D()){x(!0);try{t?f(t.id,u):$(u),n()}catch{}finally{x(!1)}}};return S?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:n}),e.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:`relative w-full max-w-2xl rounded-lg p-6 shadow-xl ${a==="light"?"bg-white":"bg-gray-800"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:`text-xl font-bold ${a==="light"?"text-gray-900":"text-white"}`,children:t?"Edit Perk":"Add New Perk"}),e.jsx("button",{onClick:n,className:`p-2 rounded-full ${a==="light"?"text-gray-400 hover:text-gray-600":"text-gray-500 hover:text-gray-300"}`,children:e.jsx(H,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Perk Title"}),e.jsx("input",{type:"text",value:u.title,onChange:s=>N("title",s.target.value),className:`w-full px-4 py-2 rounded-lg border ${j.title?"border-red-500":a==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter perk title"}),j.title&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:j.title})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Description"}),e.jsx("textarea",{value:u.description,onChange:s=>N("description",s.target.value),rows:3,className:`w-full px-4 py-2 rounded-lg border ${j.description?"border-red-500":a==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Describe the perk"}),j.description&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:j.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Project"}),e.jsxs("select",{value:u.projectId,onChange:s=>N("projectId",s.target.value),className:`w-full px-4 py-2 rounded-lg border ${a==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"",children:"Select Project (Optional)"}),c.map(s=>e.jsx("option",{value:s.id,children:s.title},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Tier"}),e.jsxs("select",{value:u.tier,onChange:s=>N("tier",s.target.value),className:`w-full px-4 py-2 rounded-lg border ${a==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"supporter",children:"Supporter"}),e.jsx("option",{value:"backer",children:"Backer"}),e.jsx("option",{value:"producer",children:"Producer"}),e.jsx("option",{value:"executive",children:"Executive"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Minimum Amount (₹)"}),e.jsx("input",{type:"number",value:u.minAmount,onChange:s=>N("minAmount",Number(s.target.value)),className:`w-full px-4 py-2 rounded-lg border ${j.minAmount?"border-red-500":a==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter minimum amount"}),j.minAmount&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:j.minAmount})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:n,className:`px-4 py-2 rounded-lg border ${a==="light"?"border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-200 hover:bg-gray-600"}`,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:k,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700 transition-colors disabled:opacity-70 flex items-center gap-2",children:k?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Save Perk"})]})]})]})]})}):null},mt=()=>{const{theme:t}=z(),{perks:S,deletePerk:n,projects:a}=O(),[$,f]=i.useState(!1),[c,u]=i.useState(null),[d,k]=i.useState(null),[x,j]=i.useState(""),[v,N]=i.useState("all"),[D,p]=i.useState("all"),[s,P]=i.useState("createdAt"),[T,L]=i.useState("desc"),r=i.useMemo(()=>S.filter(l=>{const o=l.title.toLowerCase().includes(x.toLowerCase())||l.description.toLowerCase().includes(x.toLowerCase()),U=v==="all"||l.tier===v,m=D==="all"||l.projectId===D;return o&&U&&m}).sort((l,o)=>s==="createdAt"?T==="asc"?new Date(l[s]).getTime()-new Date(o[s]).getTime():new Date(o[s]).getTime()-new Date(l[s]).getTime():typeof l[s]=="number"&&typeof o[s]=="number"?T==="asc"?l[s]-o[s]:o[s]-l[s]:T==="asc"?String(l[s]).localeCompare(String(o[s])):String(o[s]).localeCompare(String(l[s]))),[S,x,v,D,s,T]),y=l=>{s===l?L(T==="asc"?"desc":"asc"):(P(l),L("asc"))},A=()=>{d&&(n(d),k(null))},M=l=>{switch(l){case"supporter":return e.jsx(We,{className:`w-4 h-4 ${t==="light"?"text-gray-700":"text-gray-200"}`});case"backer":return e.jsx(Ye,{className:`w-4 h-4 ${t==="light"?"text-gray-700":"text-gray-200"}`});case"producer":return e.jsx(Xe,{className:`w-4 h-4 ${t==="light"?"text-gray-700":"text-gray-200"}`});case"executive":return e.jsx(Ge,{className:`w-4 h-4 ${t==="light"?"text-gray-700":"text-gray-200"}`});default:return null}},E=l=>{if(!l)return null;const o=a.find(U=>U.id===l);if(!o)return null;switch(o.type){case"film":return e.jsx(K,{className:"w-4 h-4 text-purple-400"});case"music":return e.jsx(ke,{className:"w-4 h-4 text-blue-400"});case"webseries":return e.jsx($e,{className:"w-4 h-4 text-green-400"});default:return null}},b=[{Header:"Perk",accessor:"title",Cell:({row:l})=>e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:l.original.title}),e.jsx("p",{className:`text-sm truncate max-w-xs ${t==="light"?"text-gray-600":"text-gray-400"}`,children:l.original.description})]})},{Header:"Project",accessor:"projectTitle",Cell:({row:l})=>e.jsxs("div",{className:"flex items-center gap-2",children:[E(l.original.projectId),e.jsx("span",{className:t==="light"?"text-gray-900":"text-white",children:l.original.projectTitle||"N/A"})]})},{Header:"Tier",accessor:"tier",Cell:({row:l})=>e.jsxs("div",{className:"flex items-center gap-2",children:[M(l.original.tier),e.jsx("span",{className:`capitalize ${l.original.tier==="supporter"?"text-gray-500":l.original.tier==="backer"?"text-blue-500":l.original.tier==="producer"?"text-purple-500":"text-yellow-500"}`,children:l.original.tier})]})},{Header:"Min. Amount",accessor:"minAmount",Cell:({value:l})=>e.jsxs("span",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:["₹",l.toLocaleString()]})},{Header:"Created",accessor:"createdAt",Cell:({value:l})=>e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-400",children:new Date(l).toLocaleDateString()})},{Header:"Actions",Cell:({row:l})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>u(l.original),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-700 text-gray-300"}`,title:"Edit",children:e.jsx(te,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>k(l.original.id),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-red-600":"hover:bg-gray-700 text-red-400"}`,title:"Delete",children:e.jsx(re,{className:"w-4 h-4"})})]})}];return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold mb-1 ${t==="light"?"text-gray-900":"text-white"}`,children:"Perks & Rewards"}),e.jsx("p",{className:`${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Manage investor perks and rewards"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors",children:[e.jsx(Q,{className:"w-5 h-5"}),"Add Perk"]}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(X,{className:"w-5 h-5"})}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(Y,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${t==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"text",placeholder:"Search perks...",value:x,onChange:l=>j(l.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("select",{value:v,onChange:l=>N(l.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Tiers"}),e.jsx("option",{value:"supporter",children:"Supporter"}),e.jsx("option",{value:"backer",children:"Backer"}),e.jsx("option",{value:"producer",children:"Producer"}),e.jsx("option",{value:"executive",children:"Executive"})]}),e.jsxs("select",{value:D,onChange:l=>p(l.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Projects"}),a.map(l=>e.jsx("option",{value:l.id,children:l.title},l.id))]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(W,{columns:b,data:r,onSort:y,sortField:s,sortDirection:T})}),($||c)&&e.jsx(ut,{perk:c,isOpen:$||!!c,onClose:()=>{f(!1),u(null)}}),e.jsx(Z,{isOpen:!!d,title:"Delete Perk",message:"Are you sure you want to delete this perk? This action cannot be undone.",confirmLabel:"Delete",confirmVariant:"danger",onConfirm:A,onCancel:()=>k(null)})]})},xt=({asset:t,isOpen:S,onClose:n})=>{const{theme:a}=z(),{addMediaAsset:$,updateMediaAsset:f,projects:c}=O(),[u,d]=i.useState({title:"",type:"image",url:"",fileSize:0,dimensions:"",projectId:"",tags:[]}),[k,x]=i.useState(!1),[j,v]=i.useState({}),[N,D]=i.useState(null),[p,s]=i.useState(""),[P,T]=i.useState("");i.useEffect(()=>{t&&(d({title:t.title,type:t.type,url:t.url,fileSize:t.fileSize,dimensions:t.dimensions||"",projectId:t.projectId||"",tags:[...t.tags]}),t.type==="image"&&t.url&&s(t.url))},[t]);const L=i.useCallback(m=>{if(m.length===0)return;const F=m[0];D(F);let B="document";if(F.type.startsWith("image/")?B="image":F.type.startsWith("video/")?B="video":F.type.startsWith("audio/")&&(B="audio"),B==="image"){const g=new FileReader;g.onloadend=()=>{s(g.result)},g.readAsDataURL(F)}if(B==="image"){const g=new window.Image;g.onload=()=>{d(h=>({...h,dimensions:`${g.width}x${g.height}`}))},g.src=URL.createObjectURL(F)}d(g=>({...g,type:B,fileSize:F.size,title:F.name}))},[]),{getRootProps:r,getInputProps:y,isDragActive:A}=qe({onDrop:L,accept:{"image/*":[],"video/*":[],"audio/*":[],"application/pdf":[],"application/msword":[],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[]}}),M=(m,F)=>{d(B=>({...B,[m]:F})),j[m]&&v(B=>{const g={...B};return delete g[m],g})},E=()=>{P.trim()&&!u.tags.includes(P.trim())&&(d(m=>({...m,tags:[...m.tags,P.trim()]})),T(""))},b=m=>{d(F=>({...F,tags:F.tags.filter(B=>B!==m)}))},l=()=>{const m={};return u.title.trim()||(m.title="Title is required"),!u.url&&!N&&(m.url="Please provide a file or URL"),v(m),Object.keys(m).length===0},o=async m=>{if(m.preventDefault(),!!l()){x(!0);try{const F=N&&p||u.url;t?f(t.id,{...u,url:F}):$({...u,url:F}),n()}catch{}finally{x(!1)}}},U=m=>{switch(m){case"image":return e.jsx(J,{className:"w-6 h-6 text-blue-500"});case"video":return e.jsx(Pe,{className:"w-6 h-6 text-red-500"});case"audio":return e.jsx(Te,{className:"w-6 h-6 text-green-500"});case"document":return e.jsx(Ae,{className:"w-6 h-6 text-yellow-500"});default:return null}};return S?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:n}),e.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:`relative w-full max-w-2xl rounded-lg p-6 shadow-xl ${a==="light"?"bg-white":"bg-gray-800"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:`text-xl font-bold ${a==="light"?"text-gray-900":"text-white"}`,children:t?"Edit Media Asset":"Add New Media Asset"}),e.jsx("button",{onClick:n,className:`p-2 rounded-full ${a==="light"?"text-gray-400 hover:text-gray-600":"text-gray-500 hover:text-gray-300"}`,children:e.jsx(H,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:o,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Media Title"}),e.jsx("input",{type:"text",value:u.title,onChange:m=>M("title",m.target.value),className:`w-full px-4 py-2 rounded-lg border ${j.title?"border-red-500":a==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter media title"}),j.title&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:j.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Media Type"}),e.jsxs("div",{className:"flex items-center gap-2",children:[U(u.type),e.jsxs("select",{value:u.type,onChange:m=>M("type",m.target.value),className:`w-full px-4 py-2 rounded-lg border ${a==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"image",children:"Image"}),e.jsx("option",{value:"video",children:"Video"}),e.jsx("option",{value:"audio",children:"Audio"}),e.jsx("option",{value:"document",children:"Document"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Project"}),e.jsxs("select",{value:u.projectId,onChange:m=>M("projectId",m.target.value),className:`w-full px-4 py-2 rounded-lg border ${a==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"",children:"Select Project (Optional)"}),c.map(m=>e.jsx("option",{value:m.id,children:m.title},m.id))]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Media File"}),e.jsxs("div",{...r(),className:`border-2 border-dashed rounded-lg p-6 ${A?a==="light"?"border-purple-400 bg-purple-50":"border-purple-500 bg-purple-900/20":a==="light"?"border-gray-300":"border-gray-600"}`,children:[e.jsx("input",{...y()}),e.jsx("div",{className:"flex flex-col items-center justify-center text-center",children:p&&u.type==="image"?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:p,alt:"Media preview",className:"h-40 object-contain rounded"}),e.jsx("button",{type:"button",onClick:m=>{m.stopPropagation(),s(""),D(null),M("url","")},className:"absolute top-2 right-2 p-1 rounded-full bg-black/50 text-white hover:bg-black/70",children:e.jsx(H,{className:"w-4 h-4"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(ee,{className:`w-12 h-12 mb-2 ${a==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("p",{className:`text-sm font-medium ${a==="light"?"text-gray-700":"text-gray-300"}`,children:A?"Drop the file here":"Drag & drop a file here, or click to select"}),e.jsx("p",{className:`text-xs mt-2 ${a==="light"?"text-gray-500":"text-gray-400"}`,children:"Supports images, videos, audio, and documents"}),u.fileSize>0&&e.jsxs("p",{className:`text-xs mt-2 ${a==="light"?"text-gray-600":"text-gray-300"}`,children:["File size: ",(u.fileSize/(1024*1024)).toFixed(2)," MB"]})]})})]}),j.url&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:j.url})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Media URL"}),e.jsx("input",{type:"text",value:u.url,onChange:m=>{M("url",m.target.value),m.target.value&&u.type==="image"&&s(m.target.value)},className:`w-full px-4 py-2 rounded-lg border ${j.url?"border-red-500":a==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"https://example.com/media.jpg"}),e.jsx("p",{className:`mt-1 text-xs ${a==="light"?"text-gray-500":"text-gray-400"}`,children:"Enter URL directly or upload a file above"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:u.tags.map((m,F)=>e.jsxs("div",{className:`flex items-center gap-1 px-3 py-1 rounded-full ${a==="light"?"bg-gray-100 text-gray-700":"bg-gray-700 text-gray-300"}`,children:[e.jsx("span",{children:m}),e.jsx("button",{type:"button",onClick:()=>b(m),className:"p-0.5 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600",children:e.jsx(H,{className:"w-3 h-3"})})]},F))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:P,onChange:m=>T(m.target.value),onKeyDown:m=>{m.key==="Enter"&&(m.preventDefault(),E())},className:`flex-1 px-4 py-2 rounded-lg border ${a==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Add a tag"}),e.jsx("button",{type:"button",onClick:E,className:`px-4 py-2 rounded-lg ${a==="light"?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gray-700 text-gray-200 hover:bg-gray-600"}`,children:e.jsx(Q,{className:"w-5 h-5"})})]}),e.jsx("p",{className:`mt-1 text-xs ${a==="light"?"text-gray-500":"text-gray-400"}`,children:"Press Enter to add a tag"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:n,className:`px-4 py-2 rounded-lg border ${a==="light"?"border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-200 hover:bg-gray-600"}`,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:k,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700 transition-colors disabled:opacity-70 flex items-center gap-2",children:k?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Save Media"})]})]})]})]})}):null},ht=()=>{const{theme:t}=z(),{mediaAssets:S,deleteMediaAsset:n,projects:a}=O(),[$,f]=i.useState(!1),[c,u]=i.useState(null),[d,k]=i.useState(null),[x,j]=i.useState(""),[v,N]=i.useState("all"),[D,p]=i.useState("all"),[s,P]=i.useState("createdAt"),[T,L]=i.useState("desc"),r=i.useMemo(()=>S.filter(o=>{const U=o.title.toLowerCase().includes(x.toLowerCase())||o.tags.some(B=>B.toLowerCase().includes(x.toLowerCase())),m=v==="all"||o.type===v,F=D==="all"||o.projectId===D;return U&&m&&F}).sort((o,U)=>s==="createdAt"?T==="asc"?new Date(o[s]).getTime()-new Date(U[s]).getTime():new Date(U[s]).getTime()-new Date(o[s]).getTime():typeof o[s]=="number"&&typeof U[s]=="number"?T==="asc"?o[s]-U[s]:U[s]-o[s]:T==="asc"?String(o[s]).localeCompare(String(U[s])):String(U[s]).localeCompare(String(o[s]))),[S,x,v,D,s,T]),y=o=>{s===o?L(T==="asc"?"desc":"asc"):(P(o),L("asc"))},A=()=>{d&&(n(d),k(null))},M=o=>{switch(o){case"image":return e.jsx(J,{className:"w-4 h-4 text-blue-500"});case"video":return e.jsx(Pe,{className:"w-4 h-4 text-red-500"});case"audio":return e.jsx(Te,{className:"w-4 h-4 text-green-500"});case"document":return e.jsx(Ae,{className:"w-4 h-4 text-yellow-500"});default:return null}},E=o=>o<1024?o+" B":o<1024*1024?(o/1024).toFixed(1)+" KB":o<1024*1024*1024?(o/(1024*1024)).toFixed(1)+" MB":(o/(1024*1024*1024)).toFixed(1)+" GB",b=o=>{navigator.clipboard.writeText(o)},l=[{Header:"Asset",accessor:"title",Cell:({row:o})=>e.jsxs("div",{className:"flex items-center gap-3",children:[o.original.type==="image"&&o.original.url?e.jsx("img",{src:o.original.url,alt:o.original.title,className:"w-10 h-10 object-cover rounded"}):e.jsx("div",{className:`w-10 h-10 rounded flex items-center justify-center ${t==="light"?"bg-gray-200":"bg-gray-700"}`,children:M(o.original.type)}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:o.original.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"flex items-center gap-1 text-xs",children:[M(o.original.type),e.jsx("span",{className:`capitalize ${t==="light"?"text-gray-600":"text-gray-300"}`,children:o.original.type})]}),o.original.dimensions&&e.jsx("span",{className:`text-xs ${t==="light"?"text-gray-500":"text-gray-400"}`,children:o.original.dimensions})]})]})]})},{Header:"Project",accessor:"projectId",Cell:({row:o})=>{const U=a.find(m=>m.id===o.original.projectId);return e.jsx("span",{className:t==="light"?"text-gray-900":"text-white",children:U?.title||"N/A"})}},{Header:"Tags",accessor:"tags",Cell:({value:o})=>e.jsxs("div",{className:"flex flex-wrap gap-1",children:[o.slice(0,2).map((U,m)=>e.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${t==="light"?"bg-gray-100 text-gray-700":"bg-gray-700 text-gray-300"}`,children:U},m)),o.length>2&&e.jsxs("span",{className:`text-xs ${t==="light"?"text-gray-500":"text-gray-400"}`,children:["+",o.length-2," more"]})]})},{Header:"Size",accessor:"fileSize",Cell:({value:o})=>e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-400",children:E(o)})},{Header:"Created",accessor:"createdAt",Cell:({value:o})=>e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-400",children:new Date(o).toLocaleDateString()})},{Header:"Actions",Cell:({row:o})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>window.open(o.original.url,"_blank"),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-700 text-gray-300"}`,title:"Open",children:e.jsx(Qe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>b(o.original.url),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-700 text-gray-300"}`,title:"Copy URL",children:e.jsx(Ke,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>u(o.original),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-700 text-gray-300"}`,title:"Edit",children:e.jsx(te,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>k(o.original.id),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-red-600":"hover:bg-gray-700 text-red-400"}`,title:"Delete",children:e.jsx(re,{className:"w-4 h-4"})})]})}];return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold mb-1 ${t==="light"?"text-gray-900":"text-white"}`,children:"Media Assets"}),e.jsx("p",{className:`${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Manage your media files and assets"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors",children:[e.jsx(Q,{className:"w-5 h-5"}),"Add Media"]}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(X,{className:"w-5 h-5"})}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(Y,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${t==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"text",placeholder:"Search media assets...",value:x,onChange:o=>j(o.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("select",{value:v,onChange:o=>N(o.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"image",children:"Images"}),e.jsx("option",{value:"video",children:"Videos"}),e.jsx("option",{value:"audio",children:"Audio"}),e.jsx("option",{value:"document",children:"Documents"})]}),e.jsxs("select",{value:D,onChange:o=>p(o.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Projects"}),a.map(o=>e.jsx("option",{value:o.id,children:o.title},o.id))]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(W,{columns:l,data:r,onSort:y,sortField:s,sortDirection:T})}),($||c)&&e.jsx(xt,{asset:c,isOpen:$||!!c,onClose:()=>{f(!1),u(null)}}),e.jsx(Z,{isOpen:!!d,title:"Delete Media Asset",message:"Are you sure you want to delete this media asset? This action cannot be undone.",confirmLabel:"Delete",confirmVariant:"danger",onConfirm:A,onCancel:()=>k(null)})]})},pt=()=>{const{theme:t}=z(),{users:S,updateUserStatus:n}=O(),[a,$]=i.useState(null),[f,c]=i.useState(null),[u,d]=i.useState(null),[k,x]=i.useState(""),[j,v]=i.useState("all"),[N,D]=i.useState("all"),[p,s]=i.useState("createdAt"),[P,T]=i.useState("desc"),L=i.useMemo(()=>S.filter(l=>{const o=l.name.toLowerCase().includes(k.toLowerCase())||l.email.toLowerCase().includes(k.toLowerCase()),U=j==="all"||l.status===j,m=N==="all"||l.role===N;return o&&U&&m}).sort((l,o)=>p==="createdAt"?P==="asc"?new Date(l[p]).getTime()-new Date(o[p]).getTime():new Date(o[p]).getTime()-new Date(l[p]).getTime():typeof l[p]=="number"&&typeof o[p]=="number"?P==="asc"?l[p]-o[p]:o[p]-l[p]:P==="asc"?String(l[p]).localeCompare(String(o[p])):String(o[p]).localeCompare(String(l[p]))),[S,k,j,N,p,P]),r=l=>{p===l?T(P==="asc"?"desc":"asc"):(s(l),T("asc"))},y=()=>{a&&(n(a,"active"),$(null))},A=()=>{f&&(n(f,"inactive"),c(null))},M=()=>{u&&(n(u,"banned"),d(null))},E=l=>{switch(l){case"active":return e.jsx(V,{className:"w-4 h-4 text-green-500"});case"inactive":return e.jsx(de,{className:"w-4 h-4 text-yellow-500"});case"banned":return e.jsx(ge,{className:"w-4 h-4 text-red-500"});default:return null}},b=[{Header:"User",accessor:"name",Cell:({row:l})=>e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:l.original.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(De,{className:`w-3 h-3 ${t==="light"?"text-gray-500":"text-gray-400"}`}),e.jsx("span",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:l.original.email})]})]})},{Header:"Role",accessor:"role",Cell:({value:l})=>e.jsx("span",{className:`capitalize px-2 py-1 rounded-full text-xs ${l==="admin"?t==="light"?"bg-purple-100 text-purple-700":"bg-purple-900/30 text-purple-400":t==="light"?"bg-blue-100 text-blue-700":"bg-blue-900/30 text-blue-400"}`,children:l})},{Header:"Status",accessor:"status",Cell:({value:l})=>e.jsxs("div",{className:"flex items-center gap-2",children:[E(l),e.jsx("span",{className:`capitalize ${l==="active"?"text-green-500":l==="inactive"?"text-yellow-500":"text-red-500"}`,children:l})]})},{Header:"Investments",accessor:"investmentCount",Cell:({row:l})=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Je,{className:`w-4 h-4 ${t==="light"?"text-gray-500":"text-gray-400"}`}),e.jsx("span",{className:t==="light"?"text-gray-900":"text-white",children:l.original.investmentCount})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(et,{className:`w-4 h-4 ${t==="light"?"text-gray-500":"text-gray-400"}`}),e.jsxs("span",{className:t==="light"?"text-gray-900":"text-white",children:["₹",l.original.totalInvested.toLocaleString()]})]})]})},{Header:"Joined",accessor:"createdAt",Cell:({value:l})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:`w-4 h-4 ${t==="light"?"text-gray-500":"text-gray-400"}`}),e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-400",children:new Date(l).toLocaleDateString()})]})},{Header:"Actions",Cell:({row:l})=>e.jsxs("div",{className:"flex items-center gap-2",children:[l.original.status!=="active"&&e.jsx("button",{onClick:()=>$(l.original.id),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-green-600":"hover:bg-gray-700 text-green-400"}`,title:"Activate",children:e.jsx(tt,{className:"w-4 h-4"})}),l.original.status==="active"&&e.jsx("button",{onClick:()=>c(l.original.id),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-yellow-600":"hover:bg-gray-700 text-yellow-400"}`,title:"Deactivate",children:e.jsx(me,{className:"w-4 h-4"})}),l.original.status!=="banned"&&e.jsx("button",{onClick:()=>d(l.original.id),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-red-600":"hover:bg-gray-700 text-red-400"}`,title:"Ban",children:e.jsx(me,{className:"w-4 h-4"})})]})}];return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold mb-1 ${t==="light"?"text-gray-900":"text-white"}`,children:"Users"}),e.jsx("p",{className:`${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Manage user accounts and permissions"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(X,{className:"w-5 h-5"})}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(Y,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${t==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"text",placeholder:"Search users...",value:k,onChange:l=>x(l.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("select",{value:j,onChange:l=>v(l.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"banned",children:"Banned"})]}),e.jsxs("select",{value:N,onChange:l=>D(l.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"user",children:"User"}),e.jsx("option",{value:"admin",children:"Admin"})]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(W,{columns:b,data:L,onSort:r,sortField:p,sortDirection:P})}),e.jsx(Z,{isOpen:!!a,title:"Activate User",message:"Are you sure you want to activate this user? They will regain full access to the platform.",confirmLabel:"Activate",confirmVariant:"success",onConfirm:y,onCancel:()=>$(null)}),e.jsx(Z,{isOpen:!!f,title:"Deactivate User",message:"Are you sure you want to deactivate this user? They will temporarily lose access to the platform.",confirmLabel:"Deactivate",confirmVariant:"warning",onConfirm:A,onCancel:()=>c(null)}),e.jsx(Z,{isOpen:!!u,title:"Ban User",message:"Are you sure you want to ban this user? This will permanently restrict their access to the platform.",confirmLabel:"Ban User",confirmVariant:"danger",onConfirm:M,onCancel:()=>d(null)})]})},yt=()=>{const{theme:t}=z(),{backups:S,createBackup:n,restoreBackup:a}=O(),[$,f]=i.useState(!1),[c,u]=i.useState(null),[d,k]=i.useState(!1),[x,j]=i.useState({emailNotifications:!0,autoBackup:!0,autoBackupInterval:"7",securityLevel:"high",maintenanceMode:!1,debugMode:!1}),v=(s,P)=>{j(T=>({...T,[s]:P}))},N=async()=>{f(!0);try{await n()}finally{f(!1)}},D=async()=>{if(c){k(!0);try{await a(c)}finally{k(!1),u(null)}}},p=s=>s<1024?s+" B":s<1024*1024?(s/1024).toFixed(1)+" KB":s<1024*1024*1024?(s/(1024*1024)).toFixed(1)+" MB":(s/(1024*1024*1024)).toFixed(1)+" GB";return e.jsxs("div",{className:"h-full",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold mb-1 ${t==="light"?"text-gray-900":"text-white"}`,children:"Settings"}),e.jsx("p",{className:`${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Configure system settings and manage backups"})]}),e.jsxs("button",{onClick:()=>{},className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors",children:[e.jsx(xe,{className:"w-5 h-5"}),"Save Changes"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:`p-6 rounded-xl ${t==="light"?"bg-white shadow-sm":"bg-gray-800 border border-gray-700"}`,children:[e.jsx("h2",{className:`text-xl font-bold mb-6 ${t==="light"?"text-gray-900":"text-white"}`,children:"General Settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:"Email Notifications"}),e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Send email notifications for system events"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.emailNotifications,onChange:s=>v("emailNotifications",s.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:"Maintenance Mode"}),e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Put the system in maintenance mode"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.maintenanceMode,onChange:s=>v("maintenanceMode",s.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:"Debug Mode"}),e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Enable detailed error logging"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.debugMode,onChange:s=>v("debugMode",s.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium mb-2 ${t==="light"?"text-gray-900":"text-white"}`,children:"Security Level"}),e.jsxs("select",{value:x.securityLevel,onChange:s=>v("securityLevel",s.target.value),className:`w-full px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]})]})]})]}),e.jsxs("div",{className:`p-6 rounded-xl ${t==="light"?"bg-white shadow-sm":"bg-gray-800 border border-gray-700"}`,children:[e.jsx("h2",{className:`text-xl font-bold mb-6 ${t==="light"?"text-gray-900":"text-white"}`,children:"Backup & Restore"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:"Automatic Backups"}),e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Create backups automatically"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.autoBackup,onChange:s=>v("autoBackup",s.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium mb-2 ${t==="light"?"text-gray-900":"text-white"}`,children:"Backup Interval"}),e.jsxs("select",{value:x.autoBackupInterval,onChange:s=>v("autoBackupInterval",s.target.value),disabled:!x.autoBackup,className:`w-full px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20 disabled:opacity-50`,children:[e.jsx("option",{value:"1",children:"Daily"}),e.jsx("option",{value:"7",children:"Weekly"}),e.jsx("option",{value:"30",children:"Monthly"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:N,disabled:$,className:"flex-1 flex items-center justify-center gap-2 py-2 px-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors disabled:opacity-70",children:$?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-5 h-5 animate-spin"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"w-5 h-5"}),"Create Backup"]})}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium mb-4 ${t==="light"?"text-gray-900":"text-white"}`,children:"Backup History"}),e.jsxs("div",{className:`border rounded-lg overflow-hidden ${t==="light"?"border-gray-200":"border-gray-700"}`,children:[e.jsx("div",{className:`px-4 py-3 ${t==="light"?"bg-gray-50 border-b border-gray-200":"bg-gray-700 border-b border-gray-600"}`,children:e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsx("div",{className:`font-medium ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"Name"}),e.jsx("div",{className:`font-medium ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"Size"}),e.jsx("div",{className:`font-medium ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"Date"}),e.jsx("div",{className:`font-medium ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"Actions"})]})}),e.jsx("div",{className:`divide-y ${t==="light"?"divide-gray-200":"divide-gray-700"}`,children:S.map(s=>e.jsx("div",{className:"px-4 py-3",children:e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:`w-4 h-4 ${t==="light"?"text-gray-500":"text-gray-400"}`}),e.jsx("span",{className:t==="light"?"text-gray-900":"text-white",children:s.name})]}),e.jsx("div",{className:t==="light"?"text-gray-600":"text-gray-400",children:p(s.size)}),e.jsx("div",{className:t==="light"?"text-gray-600":"text-gray-400",children:new Date(s.createdAt).toLocaleDateString()}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>u(s.id),disabled:d,className:`p-1 rounded ${t==="light"?"hover:bg-gray-100 text-blue-600":"hover:bg-gray-700 text-blue-400"} disabled:opacity-50`,children:e.jsx(Y,{className:"w-4 h-4"})}),e.jsx("button",{className:`p-1 rounded ${t==="light"?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-700 text-gray-300"}`,children:e.jsx(X,{className:"w-4 h-4"})})]})]})},s.id))})]})]})]})]}),e.jsxs("div",{className:`p-6 rounded-xl ${t==="light"?"bg-white shadow-sm":"bg-gray-800 border border-gray-700"}`,children:[e.jsx("h2",{className:`text-xl font-bold mb-6 ${t==="light"?"text-gray-900":"text-white"}`,children:"System Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Version"}),e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:"Circles Admin v1.0.0"})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Last Updated"}),e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:new Date().toLocaleDateString()})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Database Status"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4 text-green-500"}),e.jsx("p",{className:"font-medium text-green-500",children:"Connected"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Storage"}),e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:"1.2 GB / 10 GB"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"API Status"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4 text-green-500"}),e.jsx("p",{className:"font-medium text-green-500",children:"Operational"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Cache Status"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4 text-green-500"}),e.jsx("p",{className:"font-medium text-green-500",children:"Enabled"})]})]})]})]})]}),e.jsxs("div",{className:`p-6 rounded-xl ${t==="light"?"bg-white shadow-sm":"bg-gray-800 border border-gray-700"}`,children:[e.jsx("h2",{className:`text-xl font-bold mb-6 ${t==="light"?"text-gray-900":"text-white"}`,children:"Email Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"SMTP Server"}),e.jsx("input",{type:"text",value:"smtp.circles.com",className:`w-full px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"SMTP Port"}),e.jsx("input",{type:"text",value:"587",className:`w-full px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"Encryption"}),e.jsxs("select",{className:`w-full px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{children:"TLS"}),e.jsx("option",{children:"SSL"}),e.jsx("option",{children:"None"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"Sender Email"}),e.jsx("input",{type:"email",value:"noreply@circles.com",className:`w-full px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors",children:[e.jsx(xe,{className:"w-5 h-5"}),"Save Email Settings"]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors",style:{borderColor:t==="light"?"#e2e8f0":"#4b5563",color:t==="light"?"#4b5563":"#e2e8f0",backgroundColor:t==="light"?"white":"#1f2937"},children:[e.jsx(De,{className:"w-5 h-5"}),"Test Connection"]})]})]})]})]}),e.jsx(Z,{isOpen:!!c,title:"Restore Backup",message:"Are you sure you want to restore this backup? This will replace all current data with the backup data.",confirmLabel:"Restore",confirmVariant:"warning",onConfirm:D,onCancel:()=>u(null),isLoading:d})]})},bt=()=>{const{theme:t}=z(),{activityLogs:S}=O(),[n,a]=i.useState(""),[$,f]=i.useState("all"),[c,u]=i.useState("all"),[d,k]=i.useState("timestamp"),[x,j]=i.useState("desc"),[v,N]=i.useState({start:"",end:""}),D=i.useMemo(()=>{const r=new Map;return S.forEach(y=>{y.userId&&y.userName&&r.set(y.userId,y.userName)}),Array.from(r.entries()).map(([y,A])=>({id:y,name:A}))},[S]),p=i.useMemo(()=>S.filter(r=>{const y=r.action.toLowerCase().includes(n.toLowerCase())||r.details&&r.details.toLowerCase().includes(n.toLowerCase())||r.userName&&r.userName.toLowerCase().includes(n.toLowerCase()),A=$==="all"||r.resourceType===$,M=c==="all"||r.userId===c;let E=!0;if(v.start){const b=new Date(v.start),l=new Date(r.timestamp);E=E&&l>=b}if(v.end){const b=new Date(v.end);b.setHours(23,59,59,999);const l=new Date(r.timestamp);E=E&&l<=b}return y&&A&&M&&E}).sort((r,y)=>d==="timestamp"?x==="asc"?new Date(r[d]).getTime()-new Date(y[d]).getTime():new Date(y[d]).getTime()-new Date(r[d]).getTime():x==="asc"?String(r[d]).localeCompare(String(y[d])):String(y[d]).localeCompare(String(r[d]))),[S,n,$,c,v,d,x]),s=r=>{d===r?j(x==="asc"?"desc":"asc"):(k(r),j("asc"))},P=r=>{switch(r){case"project":return e.jsx(K,{className:"w-4 h-4 text-purple-500"});case"merchandise":return e.jsx(oe,{className:"w-4 h-4 text-blue-500"});case"perk":return e.jsx(je,{className:"w-4 h-4 text-yellow-500"});case"media":return e.jsx(J,{className:"w-4 h-4 text-green-500"});case"user":return e.jsx(ne,{className:"w-4 h-4 text-orange-500"});case"system":return e.jsx(ce,{className:"w-4 h-4 text-gray-500"});default:return e.jsx(ve,{className:"w-4 h-4 text-gray-500"})}},T=r=>{const y=new Date(r);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(y)},L=[{Header:"Action",accessor:"action",Cell:({row:r})=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100":"bg-gray-700"}`,children:P(r.original.resourceType)}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:r.original.action}),r.original.details&&e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:r.original.details})]})]})},{Header:"User",accessor:"userName",Cell:({value:r})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:`w-4 h-4 ${t==="light"?"text-gray-500":"text-gray-400"}`}),e.jsx("span",{className:t==="light"?"text-gray-900":"text-white",children:r||"System"})]})},{Header:"Resource Type",accessor:"resourceType",Cell:({value:r})=>e.jsxs("div",{className:"flex items-center gap-2",children:[P(r),e.jsx("span",{className:`capitalize ${t==="light"?"text-gray-900":"text-white"}`,children:r})]})},{Header:"Timestamp",accessor:"timestamp",Cell:({value:r})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:`w-4 h-4 ${t==="light"?"text-gray-500":"text-gray-400"}`}),e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-400",children:T(r)})]})}];return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold mb-1 ${t==="light"?"text-gray-900":"text-white"}`,children:"Activity Log"}),e.jsx("p",{className:`${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Track all system activities and changes"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(X,{className:"w-5 h-5"})}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(Y,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${t==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"text",placeholder:"Search activities...",value:n,onChange:r=>a(r.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("select",{value:$,onChange:r=>f(r.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Resource Types"}),e.jsx("option",{value:"project",children:"Projects"}),e.jsx("option",{value:"merchandise",children:"Merchandise"}),e.jsx("option",{value:"perk",children:"Perks"}),e.jsx("option",{value:"media",children:"Media"}),e.jsx("option",{value:"user",children:"Users"}),e.jsx("option",{value:"system",children:"System"})]}),e.jsxs("select",{value:c,onChange:r=>u(r.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Users"}),D.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ie,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${t==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"date",value:v.start,onChange:r=>N(y=>({...y,start:r.target.value})),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsx("span",{className:t==="light"?"text-gray-500":"text-gray-400",children:"to"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ie,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${t==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"date",value:v.end,onChange:r=>N(y=>({...y,end:r.target.value})),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]})]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(W,{columns:L,data:p,onSort:s,sortField:d,sortDirection:x})})]})},ft=()=>{const[t,S]=i.useState(""),[n,a]=i.useState(""),[$,f]=i.useState(!1),[c,u]=i.useState(""),{theme:d}=z(),{login:k,isLoading:x}=se(),j=async v=>{if(v.preventDefault(),!t||!n){u("Please enter both username and password");return}await k(t,n)||u("Invalid username or password")};return e.jsx("div",{className:`min-h-screen flex items-center justify-center ${d==="light"?"bg-gray-100":"bg-gray-900"}`,children:e.jsxs(R.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:`w-full max-w-md p-8 rounded-2xl shadow-xl ${d==="light"?"bg-white":"bg-gray-800 border border-gray-700"}`,children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-r from-purple-600 to-blue-600",children:e.jsx(rt,{className:"w-8 h-8 text-white"})})}),e.jsx("h1",{className:`text-2xl font-bold mb-2 ${d==="light"?"text-gray-900":"text-white"}`,children:"Admin Dashboard"}),e.jsx("p",{className:`${d==="light"?"text-gray-600":"text-gray-400"}`,children:"Sign in to access the admin panel"})]}),e.jsxs("button",{onClick:()=>window.location.href="/",className:`flex items-center gap-2 mb-6 ${d==="light"?"text-gray-600 hover:text-gray-900":"text-gray-400 hover:text-white"} transition-colors`,children:[e.jsx(fe,{className:"w-4 h-4"}),"Back to home"]}),c&&e.jsxs(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-lg bg-red-500/10 border border-red-500/20 flex items-center gap-3",children:[e.jsx(de,{className:"w-5 h-5 text-red-500"}),e.jsx("span",{className:`text-sm ${d==="light"?"text-red-600":"text-red-400"}`,children:c})]}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${d==="light"?"text-gray-700":"text-gray-300"}`,children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx(ne,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${d==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"text",value:t,onChange:v=>S(v.target.value),className:`w-full pl-10 pr-4 py-3 rounded-lg border ${d==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter your username"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${d==="light"?"text-gray-700":"text-gray-300"}`,children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(st,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${d==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:$?"text":"password",value:n,onChange:v=>a(v.target.value),className:`w-full pl-10 pr-12 py-3 rounded-lg border ${d==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:()=>f(!$),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${d==="light"?"text-gray-400 hover:text-gray-600":"text-gray-500 hover:text-gray-300"}`,children:$?e.jsx(at,{className:"w-5 h-5"}):e.jsx(lt,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:`p-4 rounded-lg ${d==="light"?"bg-blue-50 border border-blue-100":"bg-blue-900/20 border border-blue-800/30"}`,children:[e.jsx("p",{className:`text-sm font-medium mb-2 ${d==="light"?"text-blue-700":"text-blue-400"}`,children:"Demo Credentials:"}),e.jsxs("p",{className:`text-xs ${d==="light"?"text-blue-600":"text-blue-300"}`,children:["Username: ",e.jsx("span",{className:"font-mono",children:"admin"}),e.jsx("br",{}),"Password: ",e.jsx("span",{className:"font-mono",children:"admin"})]})]}),e.jsx(R.button,{type:"submit",disabled:x,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold disabled:opacity-70 flex items-center justify-center gap-2",children:x?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-5 h-5 animate-spin"}),"Signing in..."]}):"Sign In"})]}),e.jsx("div",{className:"mt-8 pt-6 border-t text-center",children:e.jsx("p",{className:`text-sm ${d==="light"?"text-gray-600":"text-gray-400"}`,children:"This is a secure area. Unauthorized access is prohibited."})})]})})},jt=()=>{const[t,S]=i.useState("projects"),{theme:n}=z(),{isAuthenticated:a,isLoading:$}=se(),[f,c]=i.useState(!1);if(!a&&!$)return e.jsx(ft,{});if($)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:e.jsx("div",{className:"w-16 h-16 border-4 border-purple-500/30 border-t-purple-500 rounded-full animate-spin"})});const u=()=>{switch(t){case"projects":return e.jsx(be,{});case"merchandise":return e.jsx(gt,{});case"perks":return e.jsx(mt,{});case"media":return e.jsx(ht,{});case"users":return e.jsx(pt,{});case"settings":return e.jsx(yt,{});case"activity":return e.jsx(bt,{});default:return e.jsx(be,{})}};return e.jsx(ot,{children:e.jsx("div",{className:`min-h-screen ${n==="light"?"bg-gray-100":"bg-gray-900"}`,children:e.jsxs("div",{className:"flex h-screen overflow-hidden",children:[e.jsx("div",{className:"hidden md:block",children:e.jsx(pe,{activePanel:t,setActivePanel:S})}),e.jsx(q,{children:f&&e.jsxs(R.div,{initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{duration:.3},className:"fixed inset-0 z-50 md:hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>c(!1)}),e.jsx("div",{className:"relative w-64 h-full",children:e.jsx(pe,{activePanel:t,setActivePanel:d=>{S(d),c(!1)}})})]})}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(nt,{activePanel:t,onMenuClick:()=>c(!0)}),e.jsx("main",{className:`flex-1 overflow-y-auto p-6 ${n==="light"?"bg-gray-100":"bg-gray-900"}`,children:e.jsx(q,{mode:"wait",children:e.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"h-full",children:u()},t)})})]})]})})})},wt=Object.freeze(Object.defineProperty({__proto__:null,default:jt},Symbol.toStringTag,{value:"Module"}));export{wt as A,it as T,z as u};
