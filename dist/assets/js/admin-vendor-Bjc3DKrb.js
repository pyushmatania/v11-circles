import{r as l,j as e,L as Me,A as fe,F as Q,S as oe,G as je,I as J,U as Le,a as ve,b as ce,C as Ne,c as we,M as Ue,d as q,e as Ee,f as Fe,B as Re,g as Se,X as O,h as ee,i as G,k as de,l as ie,m as Ve,n as He,o as Be,p as Oe,q as ze,P as X,D as _,R as K,s as te,t as ue,T as re,u as $e,v as Ce,w as ge,x as Z,y as ke,z as Ze,E as qe,H as Ge,J as _e,K as Ke,N as We,O as Ye,Q as Ae,V as Te,W as Pe,Y as Xe,Z as Qe,_ as De,$ as Je,a0 as et,a1 as le,a2 as tt,a3 as me,a4 as xe,a5 as he,a6 as ne,a7 as rt,a8 as at,a9 as st,aa as it}from"./react-vendor-DGPHE02_.js";import{m as R,A as Y}from"./animation-vendor-DiCpbvDN.js";const lt=l.createContext(void 0),H=()=>{const t=l.useContext(lt);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},ae=()=>{const[t,S]=l.useState(null),[n,s]=l.useState(!1),[$,j]=l.useState(!0),[c,d]=l.useState(null),g=l.useMemo(()=>({id:"admin-1",name:"Admin User",email:"admin@circles.com",role:"admin"}),[]);return l.useEffect(()=>{(async()=>{j(!0);try{localStorage.getItem("admin_token")&&(S(g),s(!0))}catch{d("Authentication failed")}finally{j(!1)}})()},[g]),{user:t,isAuthenticated:n,isLoading:$,error:c,login:async(v,N)=>{j(!0),d(null);try{if(await new Promise(p=>setTimeout(p,1e3)),v==="admin"&&N==="admin"){const p="mock_admin_token_"+Date.now();return localStorage.setItem("admin_token",p),S(g),s(!0),!0}else throw new Error("Invalid credentials")}catch(p){const D=p instanceof Error?p.message:"Login failed";return d(D),!1}finally{j(!1)}},logout:()=>{localStorage.removeItem("admin_token"),S(null),s(!1),window.location.href="/"}}},pe=({activePanel:t,setActivePanel:S})=>{const{theme:n}=H(),{logout:s,user:$}=ae(),j=[{id:"projects",label:"Projects",icon:Q},{id:"merchandise",label:"Merchandise",icon:oe},{id:"perks",label:"Perks & Rewards",icon:je},{id:"media",label:"Media Assets",icon:J},{id:"users",label:"Users",icon:Le},{id:"activity",label:"Activity Log",icon:ve},{id:"settings",label:"Settings",icon:ce}];return e.jsxs("div",{className:`w-64 h-full flex flex-col ${n==="light"?"bg-white border-r border-gray-200":"bg-gray-800 border-r border-gray-700"}`,children:[e.jsx("div",{className:`p-6 border-b ${n==="light"?"border-gray-200":"border-gray-700"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-purple-600 to-blue-600",children:e.jsx(Me,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:`font-bold text-xl ${n==="light"?"text-gray-900":"text-white"}`,children:"Circles Admin"}),e.jsx("p",{className:`text-xs ${n==="light"?"text-gray-600":"text-gray-400"}`,children:"Management Dashboard"})]})]})}),e.jsx("div",{className:"px-6 py-4",children:e.jsxs("button",{onClick:()=>window.location.href="/",className:`flex items-center gap-2 text-sm ${n==="light"?"text-gray-600 hover:text-gray-900":"text-gray-400 hover:text-white"} transition-colors`,children:[e.jsx(fe,{className:"w-4 h-4"}),"Back to main site"]})}),e.jsx("div",{className:"flex-1 py-6 overflow-y-auto",children:e.jsxs("div",{className:"px-4 mb-6",children:[e.jsx("p",{className:`text-xs font-medium uppercase tracking-wider mb-4 ${n==="light"?"text-gray-500":"text-gray-400"}`,children:"Main Navigation"}),e.jsx("nav",{className:"space-y-1",children:j.map(c=>e.jsxs("button",{onClick:()=>S(c.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t===c.id?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":n==="light"?"text-gray-700 hover:bg-gray-100":"text-gray-300 hover:bg-gray-700"}`,children:[e.jsx(c.icon,{className:"w-5 h-5"}),e.jsx("span",{children:c.label}),t===c.id&&e.jsx(R.div,{layoutId:"activeNavIndicator",className:"absolute left-0 w-1 h-8 bg-white rounded-r-full",transition:{type:"spring",bounce:.2,duration:.6}})]},c.id))})]})}),e.jsx("div",{className:`p-4 border-t ${n==="light"?"border-gray-200":"border-gray-700"}`,children:e.jsxs("div",{className:`p-4 rounded-xl ${n==="light"?"bg-gray-50":"bg-gray-700"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-purple-500/20 flex items-center justify-center",children:e.jsx(Ne,{className:"w-6 h-6 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${n==="light"?"text-gray-900":"text-white"}`,children:$?.name||"Admin User"}),e.jsx("p",{className:`text-xs ${n==="light"?"text-gray-600":"text-gray-400"}`,children:$?.email||"admin@circles.com"})]})]}),e.jsxs("button",{onClick:s,className:`w-full flex items-center justify-center gap-2 py-2 rounded-lg transition-colors ${n==="light"?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-gray-600 text-gray-200 hover:bg-gray-500"}`,children:[e.jsx(we,{className:"w-4 h-4"}),e.jsx("span",{children:"Sign Out"})]})]})})]})},nt=({activePanel:t,onMenuClick:S})=>{const{theme:n,toggleTheme:s}=H(),{user:$,logout:j}=ae(),[c,d]=l.useState(!1),[g,C]=l.useState(!1),x=p=>{switch(p){case"projects":return"Projects Management";case"merchandise":return"Merchandise Inventory";case"perks":return"Perks & Rewards";case"media":return"Media Assets";case"users":return"User Management";case"settings":return"System Settings";case"activity":return"Activity Log";default:return"Dashboard"}},v=[{id:1,message:'New project "Pathaan 3" was added',time:"2 minutes ago",read:!1},{id:2,message:"User rahul@gmail.com updated their profile",time:"1 hour ago",read:!1},{id:3,message:"System backup completed successfully",time:"3 hours ago",read:!0},{id:4,message:"New merchandise item added to inventory",time:"5 hours ago",read:!0}],N=v.filter(p=>!p.read).length;return e.jsx("header",{className:`py-4 px-6 border-b ${n==="light"?"bg-white border-gray-200":"bg-gray-800 border-gray-700"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:S,className:"md:hidden p-2 rounded-lg text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(Ue,{className:"w-6 h-6"})}),e.jsx("h1",{className:`text-xl font-bold ${n==="light"?"text-gray-900":"text-white"}`,children:x(t)})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:`hidden md:flex items-center gap-2 px-3 py-2 rounded-lg ${n==="light"?"bg-gray-100":"bg-gray-700"}`,children:[e.jsx(q,{className:`w-4 h-4 ${n==="light"?"text-gray-500":"text-gray-400"}`}),e.jsx("input",{type:"text",placeholder:"Search...",className:`bg-transparent border-none focus:outline-none text-sm w-40 ${n==="light"?"text-gray-700 placeholder-gray-500":"text-gray-200 placeholder-gray-400"}`})]}),e.jsx("button",{onClick:s,className:`p-2 rounded-lg ${n==="light"?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:n==="light"?e.jsx(Ee,{className:"w-5 h-5"}):e.jsx(Fe,{className:"w-5 h-5"})}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>C(!g),className:`p-2 rounded-lg relative ${n==="light"?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[e.jsx(Re,{className:"w-5 h-5"}),N>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:N})]}),e.jsx(Y,{children:g&&e.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:`absolute right-0 mt-2 w-80 rounded-xl border shadow-lg z-50 ${n==="light"?"bg-white border-gray-200":"bg-gray-800 border-gray-700"}`,children:[e.jsx("div",{className:`p-4 border-b ${n==="light"?"border-gray-200":"border-gray-700"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:`font-semibold ${n==="light"?"text-gray-900":"text-white"}`,children:"Notifications"}),e.jsx("button",{className:`text-xs ${n==="light"?"text-blue-600":"text-blue-400"}`,children:"Mark all as read"})]})}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:v.length>0?v.map(p=>e.jsx("div",{className:`p-4 border-b last:border-b-0 ${p.read?n==="light"?"bg-white border-gray-200":"bg-gray-800 border-gray-700":n==="light"?"bg-blue-50 border-gray-200":"bg-blue-900/20 border-gray-700"}`,children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${p.read?"bg-gray-300":"bg-blue-500"}`}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${n==="light"?"text-gray-800":"text-gray-200"}`,children:p.message}),e.jsx("p",{className:`text-xs mt-1 ${n==="light"?"text-gray-500":"text-gray-400"}`,children:p.time})]})]})},p.id)):e.jsx("div",{className:"p-4 text-center",children:e.jsx("p",{className:`text-sm ${n==="light"?"text-gray-500":"text-gray-400"}`,children:"No notifications"})})}),e.jsx("div",{className:`p-3 border-t ${n==="light"?"border-gray-200":"border-gray-700"}`,children:e.jsx("button",{className:`w-full text-center text-sm py-2 rounded-lg ${n==="light"?"text-blue-600 hover:bg-blue-50":"text-blue-400 hover:bg-blue-900/20"}`,children:"View all notifications"})})]})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>d(!c),className:`flex items-center gap-2 px-3 py-2 rounded-lg ${n==="light"?"hover:bg-gray-100":"hover:bg-gray-700"}`,children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-500/20 flex items-center justify-center",children:e.jsx(Ne,{className:"w-5 h-5 text-purple-400"})}),e.jsx("span",{className:`hidden md:block font-medium ${n==="light"?"text-gray-700":"text-gray-300"}`,children:$?.name||"Admin"}),e.jsx(Se,{className:`w-4 h-4 ${n==="light"?"text-gray-500":"text-gray-400"}`})]}),e.jsx(Y,{children:c&&e.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:`absolute right-0 mt-2 w-48 rounded-xl border shadow-lg z-50 ${n==="light"?"bg-white border-gray-200":"bg-gray-800 border-gray-700"}`,children:[e.jsxs("div",{className:`p-3 border-b ${n==="light"?"border-gray-200":"border-gray-700"}`,children:[e.jsx("p",{className:`font-medium ${n==="light"?"text-gray-900":"text-white"}`,children:$?.name||"Admin User"}),e.jsx("p",{className:`text-xs ${n==="light"?"text-gray-600":"text-gray-400"}`,children:$?.email||"admin@circles.com"})]}),e.jsxs("div",{className:"p-2",children:[e.jsxs("button",{onClick:()=>d(!1),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left ${n==="light"?"hover:bg-gray-100 text-gray-700":"hover:bg-gray-700 text-gray-300"}`,children:[e.jsx(ce,{className:"w-4 h-4"}),"Settings"]}),e.jsxs("button",{onClick:j,className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left ${n==="light"?"hover:bg-gray-100 text-gray-700":"hover:bg-gray-700 text-gray-300"}`,children:[e.jsx(we,{className:"w-4 h-4"}),"Sign Out"]})]})]})})]})]})]})})},Ie=l.createContext(void 0),ot=({children:t})=>{const[S,n]=l.useState([{id:"1",title:"Pathaan 2",type:"film",category:"Bollywood",language:"Hindi",status:"active",fundedPercentage:75,targetAmount:5e7,raisedAmount:375e5,createdAt:"2023-12-01T10:00:00Z",updatedAt:"2024-01-15T14:30:00Z",poster:"https://images.pexels.com/photos/7991579/pexels-photo-7991579.jpeg?auto=compress&cs=tinysrgb&w=1080",description:"The sequel to the blockbuster Pathaan, featuring high-octane action sequences and international espionage.",director:"Siddharth Anand",genre:"Action, Thriller",tags:["Action","Thriller","Espionage"],perks:["Digital Certificate","Community Vote","Set Visit","Executive Credit"],rating:4.5,investorCount:1250,trailer:"https://www.youtube.com/watch?v=example1",imageValidated:!0,imageSource:"pexels",movie:"Pathaan 2",keyPeople:["Shah Rukh Khan","Deepika Padukone","John Abraham"],actor:"Shah Rukh Khan",actress:"Deepika Padukone",productionHouse:"Yash Raj Films",targetAmountHuman:"₹5 Crore",raisedAmountHuman:"₹3.75 Crore",keyCommunityData:[],disabled:!1},{id:"2",title:"A.R. Rahman: Symphony of India",type:"music",category:"Classical",language:"Multilingual",status:"active",fundedPercentage:60,targetAmount:2e7,raisedAmount:12e6,createdAt:"2023-11-15T09:00:00Z",updatedAt:"2024-01-10T11:20:00Z",poster:"https://images.pexels.com/photos/1763075/pexels-photo-1763075.jpeg?auto=compress&cs=tinysrgb&w=1080",description:"A groundbreaking classical fusion album featuring traditional Indian instruments with modern orchestration.",artist:"A.R. Rahman",genre:"Classical, Fusion",tags:["Classical","Fusion","Instrumental"],perks:["Digital Certificate","Studio Session","VIP Concert","Executive Credit"],rating:4.8,investorCount:850,trailer:"https://www.youtube.com/watch?v=example2",imageValidated:!0,imageSource:"pexels",movie:"A.R. Rahman: Symphony of India",keyPeople:["A.R. Rahman"],actor:"",actress:"",productionHouse:"A.R. Rahman Productions",targetAmountHuman:"₹2 Crore",raisedAmountHuman:"₹1.2 Crore",keyCommunityData:[],disabled:!1},{id:"3",title:"Sacred Games 3",type:"webseries",category:"Crime Drama",language:"Hindi",status:"active",fundedPercentage:90,targetAmount:8e7,raisedAmount:72e6,createdAt:"2023-10-20T08:00:00Z",updatedAt:"2024-01-12T16:45:00Z",poster:"https://images.pexels.com/photos/7991579/pexels-photo-7991579.jpeg?auto=compress&cs=tinysrgb&w=1080",description:"The third season of the critically acclaimed crime drama series exploring Mumbai's underworld.",director:"Anurag Kashyap",genre:"Crime, Drama, Thriller",tags:["Crime","Drama","Thriller","Mumbai"],perks:["Digital Certificate","Community Vote","Set Visit","Executive Credit"],rating:4.7,investorCount:2100,trailer:"https://www.youtube.com/watch?v=example3",imageValidated:!0,imageSource:"pexels",movie:"Sacred Games 3",keyPeople:["Saif Ali Khan","Nawazuddin Siddiqui","Pankaj Tripathi"],actor:"Saif Ali Khan",actress:"Kalki Koechlin",productionHouse:"Netflix India",targetAmountHuman:"₹8 Crore",raisedAmountHuman:"₹7.2 Crore",keyCommunityData:[],disabled:!1},{id:"4",title:"The Last Village",type:"film",category:"Regional",language:"Tamil",status:"active",fundedPercentage:45,targetAmount:3e7,raisedAmount:135e5,createdAt:"2023-12-10T12:00:00Z",updatedAt:"2024-01-08T13:15:00Z",poster:"https://images.pexels.com/photos/7991579/pexels-photo-7991579.jpeg?auto=compress&cs=tinysrgb&w=1080",description:"A poignant tale of a village fighting to preserve its traditions in the face of modernization.",director:"Mani Ratnam",genre:"Drama, Social",tags:["Drama","Social","Village","Traditions"],perks:["Digital Certificate","Community Vote","Set Visit","Executive Credit"],rating:4.3,investorCount:650,trailer:"https://www.youtube.com/watch?v=example4",imageValidated:!0,imageSource:"pexels",movie:"The Last Village",keyPeople:["Vikram","Aishwarya Rai","Mani Ratnam"],actor:"Vikram",actress:"Aishwarya Rai",productionHouse:"Madras Talkies",targetAmountHuman:"₹3 Crore",raisedAmountHuman:"₹1.35 Crore",keyCommunityData:[],disabled:!1},{id:"5",title:"Monsoon Melodies",type:"music",category:"Indie",language:"English",status:"active",fundedPercentage:80,targetAmount:15e6,raisedAmount:12e6,createdAt:"2023-11-25T15:00:00Z",updatedAt:"2024-01-14T10:30:00Z",poster:"https://images.pexels.com/photos/1763075/pexels-photo-1763075.jpeg?auto=compress&cs=tinysrgb&w=1080",description:"An indie album capturing the essence of monsoon through contemporary folk and electronic music.",artist:"The Monsoon Collective",genre:"Indie, Folk, Electronic",tags:["Indie","Folk","Electronic","Monsoon"],perks:["Digital Certificate","Studio Session","VIP Concert","Executive Credit"],rating:4.6,investorCount:950,trailer:"https://www.youtube.com/watch?v=example5",imageValidated:!0,imageSource:"pexels",movie:"Monsoon Melodies",keyPeople:["The Monsoon Collective"],actor:"",actress:"",productionHouse:"Indie Records",targetAmountHuman:"₹1.5 Crore",raisedAmountHuman:"₹1.2 Crore",keyCommunityData:[],disabled:!1}]),[s,$]=l.useState([{id:"1",title:"Pathaan 2 Limited Edition T-Shirt",category:"apparel",price:1299,stockLevel:150,status:"in-stock",image:"https://images.pexels.com/photos/8532616/pexels-photo-8532616.jpeg?auto=compress&cs=tinysrgb&w=400",createdAt:"2023-12-20T10:30:00Z"},{id:"2",title:"RRR 2 Collector's Watch",category:"accessories",price:4999,stockLevel:25,status:"low-stock",image:"https://images.pexels.com/photos/190819/pexels-photo-190819.jpeg?auto=compress&cs=tinysrgb&w=400",createdAt:"2023-11-15T14:45:00Z"},{id:"3",title:"A.R. Rahman Symphony Vinyl Record",category:"collectibles",price:2499,stockLevel:0,status:"out-of-stock",image:"https://images.pexels.com/photos/1389429/pexels-photo-1389429.jpeg?auto=compress&cs=tinysrgb&w=400",createdAt:"2024-01-10T09:15:00Z"},{id:"4",title:"Sacred Games 3 Poster Set",category:"collectibles",price:999,stockLevel:75,status:"in-stock",image:"https://images.pexels.com/photos/1047540/pexels-photo-1047540.jpeg?auto=compress&cs=tinysrgb&w=400",createdAt:"2024-01-25T16:30:00Z"}]),[j,c]=l.useState([{id:"1",title:"Digital Certificate of Investment",description:"Official digital certificate recognizing your investment",projectId:"1",projectTitle:"Pathaan 2",tier:"supporter",minAmount:1e4,createdAt:"2023-12-15T11:30:00Z",type:"free",status:"active",virtual:!0,requiresVerification:!1,estimatedValue:2500,tags:["digital","certificate","recognition"]},{id:"2",title:"Community Casting Vote",description:"Vote on cast members for upcoming projects",projectId:"1",projectTitle:"Pathaan 2",tier:"backer",minAmount:25e3,createdAt:"2023-12-16T14:45:00Z",type:"voting",status:"upcoming",startDate:"2024-02-01T00:00:00Z",endDate:"2024-02-15T23:59:59Z",virtual:!0,requiresVerification:!0,estimatedValue:5e3,tags:["voting","casting","community"]},{id:"3",title:"VIP Set Visit Experience",description:"Exclusive set visit with crew interaction",projectId:"2",projectTitle:"A.R. Rahman: Symphony of India",tier:"producer",minAmount:75e3,createdAt:"2023-11-12T09:30:00Z",type:"exclusive",status:"upcoming",startDate:"2024-03-15T09:00:00Z",endDate:"2024-03-15T17:00:00Z",location:"Mumbai Film City",maxParticipants:20,currentParticipants:8,virtual:!1,requiresVerification:!0,estimatedValue:15e3,tags:["set-visit","exclusive","crew-interaction"]},{id:"4",title:"Executive Producer Credit",description:"Your name in opening credits as Executive Producer",projectId:"3",projectTitle:"Sacred Games 3",tier:"executive",minAmount:15e4,createdAt:"2024-01-07T15:20:00Z",type:"exclusive",status:"active",virtual:!1,requiresVerification:!0,estimatedValue:35e3,tags:["credits","executive-producer","recognition"]},{id:"5",title:"Fan Voting Board Access",description:"Vote on posters, trailers, and key scenes",projectId:"1",projectTitle:"Pathaan 2",tier:"backer",minAmount:25e3,createdAt:"2024-01-10T10:15:00Z",type:"voting",status:"active",startDate:"2024-01-15T00:00:00Z",endDate:"2024-02-28T23:59:59Z",virtual:!0,requiresVerification:!1,estimatedValue:3e3,tags:["voting","fan-engagement","creative-input"]},{id:"6",title:"Trip with the Stars",description:"Paid tier access to travel with cast and crew",projectId:"3",projectTitle:"Sacred Games 3",tier:"executive",minAmount:15e4,createdAt:"2024-01-15T16:30:00Z",type:"paid",status:"upcoming",startDate:"2024-04-10T00:00:00Z",endDate:"2024-04-15T23:59:59Z",location:"Goa, India",maxParticipants:10,currentParticipants:3,virtual:!1,requiresVerification:!0,estimatedValue:5e4,tags:["travel","stars","exclusive","paid"]},{id:"7",title:"Limited Edition Signed Poster Auction",description:"Bid on exclusive signed posters from the film",projectId:"1",projectTitle:"Pathaan 2",tier:"producer",minAmount:75e3,createdAt:"2024-01-20T12:00:00Z",type:"bidding",status:"upcoming",startDate:"2024-03-01T00:00:00Z",endDate:"2024-03-07T23:59:59Z",virtual:!0,requiresVerification:!0,estimatedValue:25e3,tags:["auction","signed","limited-edition","poster"]},{id:"8",title:"Virtual Q&A with Director",description:"Exclusive online Q&A session with the director",projectId:"2",projectTitle:"A.R. Rahman: Symphony of India",tier:"backer",minAmount:25e3,createdAt:"2024-01-25T14:30:00Z",type:"exclusive",status:"upcoming",startDate:"2024-02-20T19:00:00Z",endDate:"2024-02-20T21:00:00Z",maxParticipants:50,currentParticipants:25,virtual:!0,requiresVerification:!0,estimatedValue:8e3,tags:["q&a","director","virtual","exclusive"]}]),[d,g]=l.useState([{id:"1",title:"Pathaan 2 Official Poster",type:"image",url:"https://m.media-amazon.com/images/M/MV5BOGY4NWNlM2QtMzVjYy00OGY1LWI4N2UtZDNlYWE2ZThjYmRmXkEyXkFqcGdeQXVyMTUzNTgzNzM0._V1_FMjpg_UX1000_.jpg",fileSize:2048576,dimensions:"1000x1500",projectId:"1",tags:["poster","official","marketing"],createdAt:"2023-12-10T10:15:00Z"},{id:"2",title:"A.R. Rahman Symphony Teaser",type:"audio",url:"https://example.com/audio/rahman-symphony-teaser.mp3",fileSize:5242880,projectId:"2",tags:["audio","teaser","promotional"],createdAt:"2023-11-05T14:30:00Z"},{id:"3",title:"Sacred Games 3 Trailer",type:"video",url:"https://example.com/videos/sacred-games-3-trailer.mp4",fileSize:52428800,dimensions:"1920x1080",projectId:"3",tags:["trailer","promotional","netflix"],createdAt:"2024-01-03T16:45:00Z"},{id:"4",title:"RRR 2 Concept Art",type:"image",url:"https://example.com/images/rrr-2-concept-art.jpg",fileSize:3145728,dimensions:"2000x1200",projectId:"4",tags:["concept-art","pre-production"],createdAt:"2023-10-18T11:20:00Z"}]),[C,x]=l.useState([{id:"1",name:"Rahul Krishnan",email:"rahul.investor@gmail.com",role:"user",status:"active",investmentCount:12,totalInvested:45e4,createdAt:"2023-01-15T08:30:00Z"},{id:"2",name:"Shreya Patel",email:"shreya.patel@gmail.com",role:"user",status:"active",investmentCount:8,totalInvested:32e4,createdAt:"2023-03-20T14:45:00Z"},{id:"3",name:"Dev Malhotra",email:"dev.malhotra@gmail.com",role:"user",status:"inactive",investmentCount:5,totalInvested:18e4,createdAt:"2023-05-10T11:15:00Z"},{id:"4",name:"Admin User",email:"admin@circles.com",role:"admin",status:"active",investmentCount:0,totalInvested:0,createdAt:"2023-01-01T00:00:00Z"}]),[v,N]=l.useState([{id:"1",action:"Project Created",userId:"4",userName:"Admin User",resourceType:"project",resourceId:"1",details:"Created new project: Pathaan 2",timestamp:"2023-12-15T10:30:00Z"},{id:"2",action:"User Login",userId:"4",userName:"Admin User",resourceType:"system",details:"Admin user logged in",timestamp:"2024-01-30T09:15:00Z"},{id:"3",action:"Merchandise Added",userId:"4",userName:"Admin User",resourceType:"merchandise",resourceId:"1",details:"Added new merchandise: Pathaan 2 Limited Edition T-Shirt",timestamp:"2023-12-20T10:30:00Z"},{id:"4",action:"Media Uploaded",userId:"4",userName:"Admin User",resourceType:"media",resourceId:"1",details:"Uploaded new media: Pathaan 2 Official Poster",timestamp:"2023-12-10T10:15:00Z"},{id:"5",action:"User Status Updated",userId:"4",userName:"Admin User",resourceType:"user",resourceId:"3",details:"Updated user status to inactive: Dev Malhotra",timestamp:"2024-01-15T16:30:00Z"}]),[p,D]=l.useState([{id:"1",name:"Full Backup - 2024-01-30",size:15728640,createdAt:"2024-01-30T00:00:00Z",status:"completed"},{id:"2",name:"Full Backup - 2024-01-23",size:14680064,createdAt:"2024-01-23T00:00:00Z",status:"completed"},{id:"3",name:"Full Backup - 2024-01-16",size:13631488,createdAt:"2024-01-16T00:00:00Z",status:"completed"}]),y=h=>{const w=new Date().toISOString(),k={...h,id:Date.now().toString(),createdAt:w,updatedAt:w};n(I=>[k,...I]),m({action:"Project Created",userId:"4",userName:"Admin User",resourceType:"project",resourceId:k.id,details:`Created new project: ${k.title}`})},a=(h,w)=>{n(k=>k.map(I=>I.id===h?{...I,...w,updatedAt:new Date().toISOString()}:I)),m({action:"Project Updated",userId:"4",userName:"Admin User",resourceType:"project",resourceId:h,details:`Updated project: ${w.title||h}`})},P=h=>{const w=S.find(k=>k.id===h);n(k=>k.filter(I=>I.id!==h)),w&&m({action:"Project Deleted",userId:"4",userName:"Admin User",resourceType:"project",resourceId:h,details:`Deleted project: ${w.title}`})},T=h=>{n(k=>k.map(I=>I.id===h?{...I,status:"archived",updatedAt:new Date().toISOString()}:I));const w=S.find(k=>k.id===h);w&&m({action:"Project Archived",userId:"4",userName:"Admin User",resourceType:"project",resourceId:h,details:`Archived project: ${w.title}`})},L=h=>{const w={...h,id:Date.now().toString(),createdAt:new Date().toISOString()};$(k=>[w,...k]),m({action:"Merchandise Added",userId:"4",userName:"Admin User",resourceType:"merchandise",resourceId:w.id,details:`Added new merchandise: ${w.title}`})},r=(h,w)=>{$(k=>k.map(I=>I.id===h?{...I,...w}:I)),m({action:"Merchandise Updated",userId:"4",userName:"Admin User",resourceType:"merchandise",resourceId:h,details:`Updated merchandise: ${w.title||h}`})},b=h=>{const w=s.find(k=>k.id===h);$(k=>k.filter(I=>I.id!==h)),w&&m({action:"Merchandise Deleted",userId:"4",userName:"Admin User",resourceType:"merchandise",resourceId:h,details:`Deleted merchandise: ${w.title}`})},A=h=>{const w={...h,id:Date.now().toString(),createdAt:new Date().toISOString()};c(k=>[w,...k]),m({action:"Perk Added",userId:"4",userName:"Admin User",resourceType:"perk",resourceId:w.id,details:`Added new perk: ${w.title}`})},M=(h,w)=>{c(k=>k.map(I=>I.id===h?{...I,...w}:I)),m({action:"Perk Updated",userId:"4",userName:"Admin User",resourceType:"perk",resourceId:h,details:`Updated perk: ${w.title||h}`})},F=h=>{const w=j.find(k=>k.id===h);c(k=>k.filter(I=>I.id!==h)),w&&m({action:"Perk Deleted",userId:"4",userName:"Admin User",resourceType:"perk",resourceId:h,details:`Deleted perk: ${w.title}`})},f=h=>{const w={...h,id:Date.now().toString(),createdAt:new Date().toISOString()};g(k=>[w,...k]),m({action:"Media Uploaded",userId:"4",userName:"Admin User",resourceType:"media",resourceId:w.id,details:`Uploaded new media: ${w.title}`})},i=(h,w)=>{g(k=>k.map(I=>I.id===h?{...I,...w}:I)),m({action:"Media Updated",userId:"4",userName:"Admin User",resourceType:"media",resourceId:h,details:`Updated media: ${w.title||h}`})},o=h=>{const w=d.find(k=>k.id===h);g(k=>k.filter(I=>I.id!==h)),w&&m({action:"Media Deleted",userId:"4",userName:"Admin User",resourceType:"media",resourceId:h,details:`Deleted media: ${w.title}`})},U=(h,w)=>{x(I=>I.map(se=>se.id===h?{...se,status:w}:se));const k=C.find(I=>I.id===h);k&&m({action:"User Status Updated",userId:"4",userName:"Admin User",resourceType:"user",resourceId:h,details:`Updated user status to ${w}: ${k.name}`})},m=h=>{const w={...h,id:Date.now().toString(),timestamp:new Date().toISOString()};N(k=>[w,...k])},u={projects:S,addProject:y,updateProject:a,deleteProject:P,archiveProject:T,merchandiseItems:s,addMerchandiseItem:L,updateMerchandiseItem:r,deleteMerchandiseItem:b,perks:j,addPerk:A,updatePerk:M,deletePerk:F,mediaAssets:d,addMediaAsset:f,updateMediaAsset:i,deleteMediaAsset:o,users:C,updateUserStatus:U,activityLogs:v,addActivityLog:m,backups:p,createBackup:async()=>{const h={id:Date.now().toString(),name:`Full Backup - ${new Date().toISOString().split("T")[0]}`,size:Math.floor(Math.random()*5e6)+1e7,createdAt:new Date().toISOString(),status:"in-progress"};D(w=>[h,...w]),m({action:"Backup Started",userId:"4",userName:"Admin User",resourceType:"system",details:`Started new backup: ${h.name}`}),await new Promise(w=>setTimeout(w,3e3)),D(w=>w.map(k=>k.id===h.id?{...k,status:"completed"}:k)),m({action:"Backup Completed",userId:"4",userName:"Admin User",resourceType:"system",details:`Completed backup: ${h.name}`})},restoreBackup:async h=>{const w=p.find(k=>k.id===h);w&&(m({action:"Backup Restore Started",userId:"4",userName:"Admin User",resourceType:"system",details:`Started restoring backup: ${w.name}`}),await new Promise(k=>setTimeout(k,5e3)),m({action:"Backup Restore Completed",userId:"4",userName:"Admin User",resourceType:"system",details:`Completed restoring backup: ${w.name}`}))}};return e.jsx(Ie.Provider,{value:u,children:t})},B=()=>{const t=l.useContext(Ie);if(t===void 0)throw new Error("useAdmin must be used within an AdminProvider");return t},ct=({project:t,isOpen:S,onClose:n})=>{const{theme:s}=H(),{addProject:$,updateProject:j}=B(),[c,d]=l.useState({title:"",type:"film",category:"",language:"",poster:"",fundedPercentage:0,targetAmount:0,raisedAmount:0,timeLeft:"",tags:[],description:"",director:"",artist:"",genre:"",perks:[],rating:void 0,investorCount:void 0,trailer:"",imageValidated:void 0,imageSource:"",status:"active",movie:"",keyPeople:[],actor:"",actress:"",productionHouse:"",targetAmountHuman:"",raisedAmountHuman:"",keyCommunityData:[],disabled:!1}),[g,C]=l.useState(!1),[x,v]=l.useState({}),[N,p]=l.useState(null),[D,y]=l.useState("");l.useEffect(()=>{t&&(d({title:t.title,type:t.type,category:t.category,language:t.language||"",poster:t.poster||"",fundedPercentage:t.fundedPercentage,targetAmount:t.targetAmount,raisedAmount:t.raisedAmount,timeLeft:t.timeLeft||"",tags:t.tags||[],description:t.description||"",director:t.director||"",artist:t.artist||"",genre:t.genre||"",perks:t.perks||[],rating:t.rating,investorCount:t.investorCount,trailer:t.trailer||"",imageValidated:t.imageValidated,imageSource:t.imageSource||"",status:t.status||"active",movie:t.movie||"",keyPeople:t.keyPeople||[],actor:t.actor||"",actress:t.actress||"",productionHouse:t.productionHouse||"",targetAmountHuman:t.targetAmountHuman||"",raisedAmountHuman:t.raisedAmountHuman||"",keyCommunityData:t.keyCommunityData||[],disabled:t.disabled??!1}),t.poster&&y(t.poster))},[t]);const a=(r,b)=>{d(A=>({...A,[r]:b})),x[r]&&v(A=>{const M={...A};return delete M[r],M})},P=r=>{const b=r.target.files?.[0];if(!b)return;p(b);const A=new FileReader;A.onloadend=()=>{y(A.result)},A.readAsDataURL(b)},T=()=>{const r={};return c.title.trim()||(r.title="Title is required"),c.category.trim()||(r.category="Category is required"),c.targetAmount<=0&&(r.targetAmount="Target amount must be greater than 0"),v(r),Object.keys(r).length===0},L=async r=>{if(r.preventDefault(),!!T()){C(!0);try{const b=N?D:c.poster;t?j(t.id,{...c,poster:b}):$({...c,poster:b}),n()}catch{}finally{C(!1)}}};return S?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:n}),e.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:`relative w-full max-w-3xl rounded-lg p-6 shadow-xl ${s==="light"?"bg-white":"bg-gray-800"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:`text-xl font-bold ${s==="light"?"text-gray-900":"text-white"}`,children:t?"Edit Project":"Add New Project"}),e.jsx("button",{onClick:n,className:`p-2 rounded-full ${s==="light"?"text-gray-400 hover:text-gray-600":"text-gray-500 hover:text-gray-300"}`,children:e.jsx(O,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:L,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Project Title"}),e.jsx("input",{type:"text",value:c.title,onChange:r=>a("title",r.target.value),className:`w-full px-4 py-2 rounded-lg border ${x.title?"border-red-500":s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter project title"}),x.title&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Project Type"}),e.jsxs("select",{value:c.type,onChange:r=>a("type",r.target.value),className:`w-full px-4 py-2 rounded-lg border ${s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"film",children:"Film"}),e.jsx("option",{value:"music",children:"Music"}),e.jsx("option",{value:"webseries",children:"Web Series"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Category"}),e.jsx("input",{type:"text",value:c.category,onChange:r=>a("category",r.target.value),className:`w-full px-4 py-2 rounded-lg border ${x.category?"border-red-500":s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"e.g., Bollywood, Regional, Hollywood"}),x.category&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.category})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Status"}),e.jsxs("select",{value:c.status,onChange:r=>a("status",r.target.value),className:`w-full px-4 py-2 rounded-lg border ${s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"archived",children:"Archived"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Target Amount (₹)"}),e.jsx("input",{type:"number",value:c.targetAmount,onChange:r=>a("targetAmount",Number(r.target.value)),className:`w-full px-4 py-2 rounded-lg border ${x.targetAmount?"border-red-500":s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter target amount"}),x.targetAmount&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.targetAmount})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Raised Amount (₹)"}),e.jsx("input",{type:"number",value:c.raisedAmount,onChange:r=>{const b=Number(r.target.value);if(a("raisedAmount",b),c.targetAmount>0){const A=Math.min(100,Math.round(b/c.targetAmount*100));a("fundedPercentage",A)}},className:`w-full px-4 py-2 rounded-lg border ${s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter raised amount"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Funded Percentage"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"number",value:c.fundedPercentage,onChange:r=>a("fundedPercentage",Math.min(100,Number(r.target.value))),className:`w-full px-4 py-2 rounded-lg border ${s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter percentage",min:"0",max:"100"}),e.jsx("span",{className:s==="light"?"text-gray-700":"text-gray-300",children:"%"})]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:`w-full h-2 rounded-full ${s==="light"?"bg-gray-200":"bg-gray-700"}`,children:e.jsx("div",{className:`h-2 rounded-full ${c.type==="film"?"bg-purple-500":c.type==="music"?"bg-blue-500":"bg-green-500"}`,style:{width:`${c.fundedPercentage}%`}})})})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Poster Image"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`flex-1 border-2 border-dashed rounded-lg p-4 ${s==="light"?"border-gray-300":"border-gray-600"}`,children:e.jsx("div",{className:"flex items-center justify-center",children:D?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:D,alt:"Poster preview",className:"h-40 object-contain rounded"}),e.jsx("button",{type:"button",onClick:()=>{y(""),p(null),a("poster","")},className:"absolute top-2 right-2 p-1 rounded-full bg-black/50 text-white hover:bg-black/70",children:e.jsx(O,{className:"w-4 h-4"})})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center cursor-pointer",children:[e.jsx(ee,{className:`w-10 h-10 mb-2 ${s==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("span",{className:`text-sm ${s==="light"?"text-gray-600":"text-gray-400"}`,children:"Click to upload poster"}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:P})]})})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s==="light"?"text-gray-600":"text-gray-400"}`,children:"Or enter URL:"}),e.jsx("input",{type:"text",value:c.poster,onChange:r=>{a("poster",r.target.value),r.target.value&&y(r.target.value)},className:`mt-2 w-full px-4 py-2 rounded-lg border ${s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"https://example.com/poster.jpg"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:n,className:`px-4 py-2 rounded-lg border ${s==="light"?"border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-200 hover:bg-gray-600"}`,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700 transition-colors disabled:opacity-70 flex items-center gap-2",children:g?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Save Project"})]})]})]})]})}):null},z=({isOpen:t,title:S,message:n,confirmLabel:s,cancelLabel:$="Cancel",confirmVariant:j="primary",onConfirm:c,onCancel:d,isLoading:g=!1})=>{const{theme:C}=H();if(!t)return null;const x=()=>{switch(j){case"danger":return"bg-red-600 hover:bg-red-700 focus:ring-red-500";case"warning":return"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500";case"success":return"bg-green-600 hover:bg-green-700 focus:ring-green-500";default:return"bg-purple-600 hover:bg-purple-700 focus:ring-purple-500"}};return e.jsx(Y,{children:e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:d}),e.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:`relative w-full max-w-md rounded-lg p-6 text-left shadow-xl ${C==="light"?"bg-white":"bg-gray-800"}`,children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-2 rounded-full ${j==="danger"?"bg-red-100 text-red-600":j==="warning"?"bg-yellow-100 text-yellow-600":j==="success"?"bg-green-100 text-green-600":"bg-purple-100 text-purple-600"}`,children:e.jsx(de,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`text-lg font-medium ${C==="light"?"text-gray-900":"text-white"}`,children:S}),e.jsx("p",{className:`mt-2 ${C==="light"?"text-gray-600":"text-gray-300"}`,children:n})]}),e.jsx("button",{onClick:d,className:`p-1 rounded-full ${C==="light"?"text-gray-400 hover:text-gray-600":"text-gray-500 hover:text-gray-300"}`,children:e.jsx(O,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:d,className:`px-4 py-2 rounded-lg border ${C==="light"?"border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-200 hover:bg-gray-600"}`,children:$}),e.jsx("button",{type:"button",onClick:c,disabled:g,className:`px-4 py-2 rounded-lg text-white ${x()} flex items-center gap-2 disabled:opacity-70`,children:g?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):s})]})]})]})})})},W=({columns:t,data:S,onSort:n,sortField:s,sortDirection:$})=>{const{theme:j}=H(),{getTableProps:c,getTableBodyProps:d,headerGroups:g,prepareRow:C,page:x,canPreviousPage:v,canNextPage:N,pageCount:p,gotoPage:D,nextPage:y,previousPage:a,state:{pageIndex:P,pageSize:T}}=ie.useTable({columns:t,data:S,initialState:{pageIndex:0,pageSize:10},manualSortBy:!!n,disableSortBy:!n},ie.useSortBy,ie.usePagination),L=r=>{n&&r.id&&n(r.id)};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("table",{...c(),className:"w-full",children:[e.jsx("thead",{className:`${j==="light"?"bg-gray-50":"bg-gray-800"}`,children:g.map(r=>e.jsx("tr",{...r.getHeaderGroupProps(),children:r.headers.map(b=>e.jsx("th",{...b.getHeaderProps(),className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${j==="light"?"text-gray-500":"text-gray-400"}`,onClick:()=>L(b),style:{cursor:n?"pointer":"default"},children:e.jsxs("div",{className:"flex items-center gap-2",children:[b.render("Header"),n&&s===b.id&&($==="asc"?e.jsx(Ve,{className:"w-4 h-4"}):e.jsx(Se,{className:"w-4 h-4"}))]})}))}))}),e.jsx("tbody",{...d(),className:`${j==="light"?"bg-white divide-y divide-gray-200":"divide-y divide-gray-700"}`,children:x.map(r=>(C(r),e.jsx("tr",{...r.getRowProps(),className:`${j==="light"?"hover:bg-gray-50":"hover:bg-gray-700"}`,children:r.cells.map(b=>e.jsx("td",{...b.getCellProps(),className:"px-6 py-4 whitespace-nowrap",children:b.render("Cell")}))})))})]})}),e.jsxs("div",{className:`px-4 py-3 flex items-center justify-between border-t ${j==="light"?"bg-white border-gray-200":"bg-gray-800 border-gray-700"}`,children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>a(),disabled:!v,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md ${j==="light"?"border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-200 hover:bg-gray-600"} ${!v&&"opacity-50 cursor-not-allowed"}`,children:"Previous"}),e.jsx("button",{onClick:()=>y(),disabled:!N,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md ${j==="light"?"border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-200 hover:bg-gray-600"} ${!N&&"opacity-50 cursor-not-allowed"}`,children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:`text-sm ${j==="light"?"text-gray-700":"text-gray-300"}`,children:["Showing ",e.jsx("span",{className:"font-medium",children:P*T+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min((P+1)*T,S.length)})," ","of ",e.jsx("span",{className:"font-medium",children:S.length})," results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>D(0),disabled:!v,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border text-sm font-medium ${j==="light"?"border-gray-300 bg-white text-gray-500 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-300 hover:bg-gray-600"} ${!v&&"opacity-50 cursor-not-allowed"}`,children:[e.jsx("span",{className:"sr-only",children:"First"}),e.jsx(He,{className:"h-5 w-5","aria-hidden":"true"})]}),e.jsxs("button",{onClick:()=>a(),disabled:!v,className:`relative inline-flex items-center px-2 py-2 border text-sm font-medium ${j==="light"?"border-gray-300 bg-white text-gray-500 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-300 hover:bg-gray-600"} ${!v&&"opacity-50 cursor-not-allowed"}`,children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx(Be,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(Math.min(5,p))].map((r,b)=>{const A=P-2+b;return A>=0&&A<p?e.jsx("button",{onClick:()=>D(A),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${A===P?j==="light"?"z-10 bg-purple-50 border-purple-500 text-purple-600":"z-10 bg-purple-900 border-purple-500 text-purple-300":j==="light"?"bg-white border-gray-300 text-gray-500 hover:bg-gray-50":"bg-gray-700 border-gray-600 text-gray-300 hover:bg-gray-600"}`,children:A+1},A):null}),e.jsxs("button",{onClick:()=>y(),disabled:!N,className:`relative inline-flex items-center px-2 py-2 border text-sm font-medium ${j==="light"?"border-gray-300 bg-white text-gray-500 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-300 hover:bg-gray-600"} ${!N&&"opacity-50 cursor-not-allowed"}`,children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx(Oe,{className:"h-5 w-5","aria-hidden":"true"})]}),e.jsxs("button",{onClick:()=>D(p-1),disabled:!N,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border text-sm font-medium ${j==="light"?"border-gray-300 bg-white text-gray-500 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-300 hover:bg-gray-600"} ${!N&&"opacity-50 cursor-not-allowed"}`,children:[e.jsx("span",{className:"sr-only",children:"Last"}),e.jsx(ze,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})};function ye(t){return typeof t=="string"&&t?t:"1970-01-01"}const be=()=>{const{theme:t}=H(),{projects:S,deleteProject:n,archiveProject:s}=B(),[$,j]=l.useState(!1),[c,d]=l.useState(null),[g,C]=l.useState(null),[x,v]=l.useState(null),[N,p]=l.useState(""),[D,y]=l.useState("all"),[a,P]=l.useState("all"),[T,L]=l.useState("all"),[r,b]=l.useState("createdAt"),[A,M]=l.useState("desc"),F=l.useMemo(()=>S.filter(u=>{const h=u.title.toLowerCase().includes(N.toLowerCase()),w=D==="all"||u.type===D,k=a==="all"||u.status===a,I=T==="all"||u.category===T;return h&&w&&k&&I}).sort((u,h)=>r==="createdAt"||r==="updatedAt"?A==="asc"?new Date(u[r]).getTime()-new Date(h[r]).getTime():new Date(h[r]).getTime()-new Date(u[r]).getTime():typeof u[r]=="number"&&typeof h[r]=="number"?A==="asc"?u[r]-h[r]:h[r]-u[r]:A==="asc"?String(u[r]).localeCompare(String(h[r])):String(h[r]).localeCompare(String(u[r]))),[S,N,D,a,T,r,A]),f=l.useMemo(()=>{const u=new Set(S.map(h=>h.category));return Array.from(u)},[S]),i=u=>{r===u?M(A==="asc"?"desc":"asc"):(b(u),M("asc"))},o=()=>{g&&(n(g),C(null))},U=()=>{x&&(s(x),v(null))},m=u=>{switch(u){case"active":return e.jsx(Z,{className:"w-4 h-4 text-green-500"});case"pending":return e.jsx(ke,{className:"w-4 h-4 text-yellow-500"});case"completed":return e.jsx(Z,{className:"w-4 h-4 text-blue-500"});case"archived":return e.jsx(ue,{className:"w-4 h-4 text-gray-500"});default:return e.jsx(ge,{className:"w-4 h-4 text-red-500"})}},E=u=>{switch(u){case"film":return e.jsx(Q,{className:"w-4 h-4 text-purple-500"});case"music":return e.jsx(Ce,{className:"w-4 h-4 text-blue-500"});case"webseries":return e.jsx($e,{className:"w-4 h-4 text-green-500"});default:return null}},V=[{Header:"Title",accessor:"title",Cell:({row:u})=>e.jsxs("div",{className:"flex items-center gap-3",children:[u.original.poster?e.jsx("img",{src:u.original.poster,alt:u.original.title,className:"w-10 h-10 object-cover rounded"}):e.jsx("div",{className:`w-10 h-10 rounded flex items-center justify-center ${t==="light"?"bg-gray-200":"bg-gray-700"}`,children:E(u.original.type)}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:u.original.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-xs ${t==="light"?"text-gray-500":"text-gray-400"}`,children:u.original.category}),e.jsxs("span",{className:"flex items-center gap-1 text-xs",children:[E(u.original.type),e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-300",children:u.original.type})]})]})]})]})},{Header:"Status",accessor:"status",Cell:({value:u})=>e.jsxs("div",{className:"flex items-center gap-2",children:[m(u),e.jsx("span",{className:`capitalize ${u==="active"?"text-green-500":u==="pending"?"text-yellow-500":u==="completed"?"text-blue-500":"text-gray-500"}`,children:u})]})},{Header:"Funding",accessor:"fundedPercentage",Cell:({row:u})=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("span",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:[u.original.fundedPercentage,"%"]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["₹",(u.original.raisedAmount/1e5).toFixed(1),"L / ₹",(u.original.targetAmount/1e5).toFixed(1),"L"]})]}),e.jsx("div",{className:`w-full h-2 rounded-full ${t==="light"?"bg-gray-200":"bg-gray-700"}`,children:e.jsx("div",{className:`h-2 rounded-full ${u.original.type==="film"?"bg-purple-500":u.original.type==="music"?"bg-blue-500":"bg-green-500"}`,style:{width:`${u.original.fundedPercentage}%`}})})]})},{Header:"Created",accessor:u=>ye(u.createdAt),Cell:({value:u})=>{const h=u&&typeof u=="string"?u:"1970-01-01";return e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-400",children:new Date(h).toLocaleDateString()})}},{Header:"Updated",accessor:u=>ye(u.updatedAt),Cell:({value:u})=>{const h=u&&typeof u=="string"?u:"1970-01-01";return e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-400",children:new Date(h).toLocaleDateString()})}},{Header:"Actions",Cell:({row:u})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d(u.original),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-700 text-gray-300"}`,title:"Edit",children:e.jsx(te,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>v(u.original.id),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-700 text-gray-300"}`,title:"Archive",children:e.jsx(ue,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>C(u.original.id),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-red-600":"hover:bg-gray-700 text-red-400"}`,title:"Delete",children:e.jsx(re,{className:"w-4 h-4"})})]})}];return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold mb-1 ${t==="light"?"text-gray-900":"text-white"}`,children:"Projects"}),e.jsx("p",{className:`${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Manage all your entertainment projects"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>j(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors",children:[e.jsx(X,{className:"w-5 h-5"}),"Add Project"]}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(_,{className:"w-5 h-5"})}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(K,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${t==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"text",placeholder:"Search projects...",value:N,onChange:u=>p(u.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("select",{value:D,onChange:u=>y(u.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"film",children:"Films"}),e.jsx("option",{value:"music",children:"Music"}),e.jsx("option",{value:"webseries",children:"Web Series"})]}),e.jsxs("select",{value:a,onChange:u=>P(u.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"archived",children:"Archived"})]}),e.jsxs("select",{value:T,onChange:u=>L(u.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Categories"}),f.map(u=>e.jsx("option",{value:u,children:u},u))]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(W,{columns:V,data:F,onSort:i,sortField:r,sortDirection:A})}),($||c)&&e.jsx(ct,{project:c,isOpen:$||!!c,onClose:()=>{j(!1),d(null)}}),e.jsx(z,{isOpen:!!g,title:"Delete Project",message:"Are you sure you want to delete this project? This action cannot be undone.",confirmLabel:"Delete",confirmVariant:"danger",onConfirm:o,onCancel:()=>C(null)}),e.jsx(z,{isOpen:!!x,title:"Archive Project",message:"Are you sure you want to archive this project? It will no longer be visible to users but can be restored later.",confirmLabel:"Archive",confirmVariant:"warning",onConfirm:U,onCancel:()=>v(null)})]})},dt=({item:t,isOpen:S,onClose:n})=>{const{theme:s}=H(),{addMerchandiseItem:$,updateMerchandiseItem:j}=B(),[c,d]=l.useState({title:"",category:"",price:0,stockLevel:0,status:"in-stock",image:""}),[g,C]=l.useState(!1),[x,v]=l.useState({}),[N,p]=l.useState(null),[D,y]=l.useState("");l.useEffect(()=>{t&&(d({title:t.title,category:t.category,price:t.price,stockLevel:t.stockLevel,status:t.status,image:t.image||""}),t.image&&y(t.image))},[t]);const a=(r,b)=>{if(d(A=>({...A,[r]:b})),x[r]&&v(A=>{const M={...A};return delete M[r],M}),r==="stockLevel"){const A=Number(b);let M="in-stock";A===0?M="out-of-stock":A<=10&&(M="low-stock"),d(F=>({...F,status:M}))}},P=r=>{const b=r.target.files?.[0];if(!b)return;p(b);const A=new FileReader;A.onloadend=()=>{y(A.result)},A.readAsDataURL(b)},T=()=>{const r={};return c.title.trim()||(r.title="Title is required"),c.category.trim()||(r.category="Category is required"),c.price<0&&(r.price="Price cannot be negative"),c.stockLevel<0&&(r.stockLevel="Stock level cannot be negative"),v(r),Object.keys(r).length===0},L=async r=>{if(r.preventDefault(),!!T()){C(!0);try{const b=N?D:c.image;t?j(t.id,{...c,image:b}):$({...c,image:b}),n()}catch{}finally{C(!1)}}};return S?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:n}),e.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:`relative w-full max-w-2xl rounded-lg p-6 shadow-xl ${s==="light"?"bg-white":"bg-gray-800"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:`text-xl font-bold ${s==="light"?"text-gray-900":"text-white"}`,children:t?"Edit Merchandise Item":"Add New Merchandise Item"}),e.jsx("button",{onClick:n,className:`p-2 rounded-full ${s==="light"?"text-gray-400 hover:text-gray-600":"text-gray-500 hover:text-gray-300"}`,children:e.jsx(O,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:L,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Item Title"}),e.jsx("input",{type:"text",value:c.title,onChange:r=>a("title",r.target.value),className:`w-full px-4 py-2 rounded-lg border ${x.title?"border-red-500":s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter merchandise title"}),x.title&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Category"}),e.jsxs("select",{value:c.category,onChange:r=>a("category",r.target.value),className:`w-full px-4 py-2 rounded-lg border ${x.category?"border-red-500":s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"",children:"Select Category"}),e.jsx("option",{value:"apparel",children:"Apparel"}),e.jsx("option",{value:"accessories",children:"Accessories"}),e.jsx("option",{value:"collectibles",children:"Collectibles"}),e.jsx("option",{value:"limited-editions",children:"Limited Editions"})]}),x.category&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.category})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Price (₹)"}),e.jsx("input",{type:"number",value:c.price,onChange:r=>a("price",Number(r.target.value)),className:`w-full px-4 py-2 rounded-lg border ${x.price?"border-red-500":s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter price"}),x.price&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.price})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Stock Level"}),e.jsx("input",{type:"number",value:c.stockLevel,onChange:r=>a("stockLevel",Number(r.target.value)),className:`w-full px-4 py-2 rounded-lg border ${x.stockLevel?"border-red-500":s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter stock level"}),x.stockLevel&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.stockLevel})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Status"}),e.jsxs("select",{value:c.status,onChange:r=>a("status",r.target.value),className:`w-full px-4 py-2 rounded-lg border ${s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"in-stock",children:"In Stock"}),e.jsx("option",{value:"low-stock",children:"Low Stock"}),e.jsx("option",{value:"out-of-stock",children:"Out of Stock"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Item Image"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`flex-1 border-2 border-dashed rounded-lg p-4 ${s==="light"?"border-gray-300":"border-gray-600"}`,children:e.jsx("div",{className:"flex items-center justify-center",children:D?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:D,alt:"Item preview",className:"h-40 object-contain rounded"}),e.jsx("button",{type:"button",onClick:()=>{y(""),p(null),a("image","")},className:"absolute top-2 right-2 p-1 rounded-full bg-black/50 text-white hover:bg-black/70",children:e.jsx(O,{className:"w-4 h-4"})})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center cursor-pointer",children:[e.jsx(ee,{className:`w-10 h-10 mb-2 ${s==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("span",{className:`text-sm ${s==="light"?"text-gray-600":"text-gray-400"}`,children:"Click to upload image"}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:P})]})})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s==="light"?"text-gray-600":"text-gray-400"}`,children:"Or enter URL:"}),e.jsx("input",{type:"text",value:c.image,onChange:r=>{a("image",r.target.value),r.target.value&&y(r.target.value)},className:`mt-2 w-full px-4 py-2 rounded-lg border ${s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"https://example.com/image.jpg"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:n,className:`px-4 py-2 rounded-lg border ${s==="light"?"border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-200 hover:bg-gray-600"}`,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700 transition-colors disabled:opacity-70 flex items-center gap-2",children:g?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Save Item"})]})]})]})]})}):null},gt=()=>{const{theme:t}=H(),{merchandiseItems:S,deleteMerchandiseItem:n}=B(),[s,$]=l.useState(!1),[j,c]=l.useState(null),[d,g]=l.useState(null),[C,x]=l.useState(""),[v,N]=l.useState("all"),[p,D]=l.useState("all"),[y,a]=l.useState("createdAt"),[P,T]=l.useState("desc"),L=l.useMemo(()=>S.filter(f=>{const i=f.title.toLowerCase().includes(C.toLowerCase()),o=v==="all"||f.category===v,U=p==="all"||f.status===p;return i&&o&&U}).sort((f,i)=>y==="createdAt"?P==="asc"?new Date(f[y]).getTime()-new Date(i[y]).getTime():new Date(i[y]).getTime()-new Date(f[y]).getTime():typeof f[y]=="number"&&typeof i[y]=="number"?P==="asc"?f[y]-i[y]:i[y]-f[y]:P==="asc"?String(f[y]).localeCompare(String(i[y])):String(i[y]).localeCompare(String(f[y]))),[S,C,v,p,y,P]),r=l.useMemo(()=>{const f=new Set(S.map(i=>i.category));return Array.from(f)},[S]),b=f=>{y===f?T(P==="asc"?"desc":"asc"):(a(f),T("asc"))},A=()=>{d&&(n(d),g(null))},M=f=>{switch(f){case"in-stock":return e.jsx(Z,{className:"w-4 h-4 text-green-500"});case"low-stock":return e.jsx(qe,{className:"w-4 h-4 text-yellow-500"});case"out-of-stock":return e.jsx(ge,{className:"w-4 h-4 text-red-500"});default:return null}},F=[{Header:"Item",accessor:"title",Cell:({row:f})=>e.jsxs("div",{className:"flex items-center gap-3",children:[f.original.image?e.jsx("img",{src:f.original.image,alt:f.original.title,className:"w-10 h-10 object-cover rounded"}):e.jsx("div",{className:`w-10 h-10 rounded flex items-center justify-center ${t==="light"?"bg-gray-200":"bg-gray-700"}`,children:e.jsx(oe,{className:"w-5 h-5 text-gray-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:f.original.title}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"flex items-center gap-1 text-xs",children:[e.jsx(Ze,{className:`w-3 h-3 ${t==="light"?"text-gray-500":"text-gray-400"}`}),e.jsx("span",{className:`capitalize ${t==="light"?"text-gray-600":"text-gray-300"}`,children:f.original.category})]})})]})]})},{Header:"Price",accessor:"price",Cell:({value:f})=>e.jsxs("span",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:["₹",f.toLocaleString()]})},{Header:"Stock",accessor:"stockLevel",Cell:({row:f})=>e.jsxs("div",{className:"flex items-center gap-2",children:[M(f.original.status),e.jsx("span",{className:`${f.original.status==="in-stock"?"text-green-500":f.original.status==="low-stock"?"text-yellow-500":"text-red-500"}`,children:f.original.stockLevel})]})},{Header:"Status",accessor:"status",Cell:({value:f})=>e.jsx("span",{className:`capitalize ${f==="in-stock"?"text-green-500":f==="low-stock"?"text-yellow-500":"text-red-500"}`,children:f.replace("-"," ")})},{Header:"Created",accessor:"createdAt",Cell:({value:f})=>e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-400",children:new Date(f).toLocaleDateString()})},{Header:"Actions",Cell:({row:f})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>c(f.original),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-700 text-gray-300"}`,title:"Edit",children:e.jsx(te,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>g(f.original.id),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-red-600":"hover:bg-gray-700 text-red-400"}`,title:"Delete",children:e.jsx(re,{className:"w-4 h-4"})})]})}];return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold mb-1 ${t==="light"?"text-gray-900":"text-white"}`,children:"Merchandise"}),e.jsx("p",{className:`${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Manage your merchandise inventory"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>$(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors",children:[e.jsx(X,{className:"w-5 h-5"}),"Add Item"]}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(_,{className:"w-5 h-5"})}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(K,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${t==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"text",placeholder:"Search merchandise...",value:C,onChange:f=>x(f.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("select",{value:v,onChange:f=>N(f.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Categories"}),r.map(f=>e.jsx("option",{value:f,children:f},f))]}),e.jsxs("select",{value:p,onChange:f=>D(f.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"in-stock",children:"In Stock"}),e.jsx("option",{value:"low-stock",children:"Low Stock"}),e.jsx("option",{value:"out-of-stock",children:"Out of Stock"})]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(W,{columns:F,data:L,onSort:b,sortField:y,sortDirection:P})}),(s||j)&&e.jsx(dt,{item:j,isOpen:s||!!j,onClose:()=>{$(!1),c(null)}}),e.jsx(z,{isOpen:!!d,title:"Delete Merchandise Item",message:"Are you sure you want to delete this merchandise item? This action cannot be undone.",confirmLabel:"Delete",confirmVariant:"danger",onConfirm:A,onCancel:()=>g(null)})]})},ut=({perk:t,isOpen:S,onClose:n})=>{const{theme:s}=H(),{addPerk:$,updatePerk:j,projects:c}=B(),[d,g]=l.useState({title:"",description:"",projectId:"",projectTitle:"",tier:"supporter",minAmount:1e4,type:"free",status:"active",maxParticipants:void 0,currentParticipants:void 0,startDate:"",endDate:"",location:"",virtual:!1,requiresVerification:!1,estimatedValue:0,tags:[]}),[C,x]=l.useState(!1),[v,N]=l.useState({});l.useEffect(()=>{t&&g({title:t.title,description:t.description,projectId:t.projectId||"",projectTitle:t.projectTitle||"",tier:t.tier,minAmount:t.minAmount,type:t.type,status:t.status,maxParticipants:t.maxParticipants,currentParticipants:t.currentParticipants,startDate:t.startDate||"",endDate:t.endDate||"",location:t.location||"",virtual:t.virtual,requiresVerification:t.requiresVerification,estimatedValue:t.estimatedValue,tags:t.tags||[]})},[t]);const p=(a,P)=>{if(g(T=>({...T,[a]:P})),v[a]&&N(T=>{const L={...T};return delete L[a],L}),a==="projectId"&&P){const T=c.find(L=>L.id===P);T&&g(L=>({...L,projectTitle:T.title}))}},D=()=>{const a={};return d.title.trim()||(a.title="Title is required"),d.description.trim()||(a.description="Description is required"),d.minAmount<=0&&(a.minAmount="Minimum amount must be greater than 0"),N(a),Object.keys(a).length===0},y=async a=>{if(a.preventDefault(),!!D()){x(!0);try{t?j(t.id,d):$(d),n()}catch{}finally{x(!1)}}};return S?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:n}),e.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:`relative w-full max-w-2xl rounded-lg p-6 shadow-xl ${s==="light"?"bg-white":"bg-gray-800"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:`text-xl font-bold ${s==="light"?"text-gray-900":"text-white"}`,children:t?"Edit Perk":"Add New Perk"}),e.jsx("button",{onClick:n,className:`p-2 rounded-full ${s==="light"?"text-gray-400 hover:text-gray-600":"text-gray-500 hover:text-gray-300"}`,children:e.jsx(O,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:y,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Perk Title"}),e.jsx("input",{type:"text",value:d.title,onChange:a=>p("title",a.target.value),className:`w-full px-4 py-2 rounded-lg border ${v.title?"border-red-500":s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter perk title"}),v.title&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:v.title})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Description"}),e.jsx("textarea",{value:d.description,onChange:a=>p("description",a.target.value),rows:3,className:`w-full px-4 py-2 rounded-lg border ${v.description?"border-red-500":s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Describe the perk"}),v.description&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:v.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Project"}),e.jsxs("select",{value:d.projectId,onChange:a=>p("projectId",a.target.value),className:`w-full px-4 py-2 rounded-lg border ${s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"",children:"Select Project (Optional)"}),c.map(a=>e.jsx("option",{value:a.id,children:a.title},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Tier"}),e.jsxs("select",{value:d.tier,onChange:a=>p("tier",a.target.value),className:`w-full px-4 py-2 rounded-lg border ${s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"supporter",children:"Supporter"}),e.jsx("option",{value:"backer",children:"Backer"}),e.jsx("option",{value:"producer",children:"Producer"}),e.jsx("option",{value:"executive",children:"Executive"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Minimum Amount (₹)"}),e.jsx("input",{type:"number",value:d.minAmount,onChange:a=>p("minAmount",Number(a.target.value)),className:`w-full px-4 py-2 rounded-lg border ${v.minAmount?"border-red-500":s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter minimum amount"}),v.minAmount&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:v.minAmount})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Perk Type"}),e.jsxs("select",{value:d.type,onChange:a=>p("type",a.target.value),className:`w-full px-4 py-2 rounded-lg border ${s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"free",children:"Free"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"voting",children:"Voting"}),e.jsx("option",{value:"bidding",children:"Bidding"}),e.jsx("option",{value:"exclusive",children:"Exclusive"}),e.jsx("option",{value:"limited",children:"Limited"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Status"}),e.jsxs("select",{value:d.status,onChange:a=>p("status",a.target.value),className:`w-full px-4 py-2 rounded-lg border ${s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"upcoming",children:"Upcoming"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"expired",children:"Expired"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Estimated Value (₹)"}),e.jsx("input",{type:"number",value:d.estimatedValue,onChange:a=>p("estimatedValue",Number(a.target.value)),className:`w-full px-4 py-2 rounded-lg border ${s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter estimated value"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Max Participants"}),e.jsx("input",{type:"number",value:d.maxParticipants||"",onChange:a=>p("maxParticipants",a.target.value?Number(a.target.value):void 0),className:`w-full px-4 py-2 rounded-lg border ${s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Leave empty for unlimited"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Location"}),e.jsx("input",{type:"text",value:d.location||"",onChange:a=>p("location",a.target.value),className:`w-full px-4 py-2 rounded-lg border ${s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter location (optional)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Start Date"}),e.jsx("input",{type:"datetime-local",value:d.startDate||"",onChange:a=>p("startDate",a.target.value),className:`w-full px-4 py-2 rounded-lg border ${s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"End Date"}),e.jsx("input",{type:"datetime-local",value:d.endDate||"",onChange:a=>p("endDate",a.target.value),className:`w-full px-4 py-2 rounded-lg border ${s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:d.virtual,onChange:a=>p("virtual",a.target.checked),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:`text-sm ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Virtual Event"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:d.requiresVerification,onChange:a=>p("requiresVerification",a.target.checked),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:`text-sm ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Requires Verification"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:n,className:`px-4 py-2 rounded-lg border ${s==="light"?"border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-200 hover:bg-gray-600"}`,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:C,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700 transition-colors disabled:opacity-70 flex items-center gap-2",children:C?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Save Perk"})]})]})]})]})}):null},mt=()=>{const{theme:t}=H(),{perks:S,deletePerk:n,projects:s}=B(),[$,j]=l.useState(!1),[c,d]=l.useState(null),[g,C]=l.useState(null),[x,v]=l.useState(""),[N,p]=l.useState("all"),[D,y]=l.useState("all"),[a,P]=l.useState("createdAt"),[T,L]=l.useState("desc"),r=l.useMemo(()=>S.filter(i=>{const o=i.title.toLowerCase().includes(x.toLowerCase())||i.description.toLowerCase().includes(x.toLowerCase()),U=N==="all"||i.tier===N,m=D==="all"||i.projectId===D;return o&&U&&m}).sort((i,o)=>a==="createdAt"?T==="asc"?new Date(i[a]).getTime()-new Date(o[a]).getTime():new Date(o[a]).getTime()-new Date(i[a]).getTime():typeof i[a]=="number"&&typeof o[a]=="number"?T==="asc"?i[a]-o[a]:o[a]-i[a]:T==="asc"?String(i[a]).localeCompare(String(o[a])):String(o[a]).localeCompare(String(i[a]))),[S,x,N,D,a,T]),b=i=>{a===i?L(T==="asc"?"desc":"asc"):(P(i),L("asc"))},A=()=>{g&&(n(g),C(null))},M=i=>{switch(i){case"supporter":return e.jsx(We,{className:`w-4 h-4 ${t==="light"?"text-gray-700":"text-gray-200"}`});case"backer":return e.jsx(Ke,{className:`w-4 h-4 ${t==="light"?"text-gray-700":"text-gray-200"}`});case"producer":return e.jsx(_e,{className:`w-4 h-4 ${t==="light"?"text-gray-700":"text-gray-200"}`});case"executive":return e.jsx(Ge,{className:`w-4 h-4 ${t==="light"?"text-gray-700":"text-gray-200"}`});default:return null}},F=i=>{if(!i)return null;const o=s.find(U=>U.id===i);if(!o)return null;switch(o.type){case"film":return e.jsx(Q,{className:"w-4 h-4 text-purple-400"});case"music":return e.jsx(Ce,{className:"w-4 h-4 text-blue-400"});case"webseries":return e.jsx($e,{className:"w-4 h-4 text-green-400"});default:return null}},f=[{Header:"Perk",accessor:"title",Cell:({row:i})=>e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:i.original.title}),e.jsx("p",{className:`text-sm truncate max-w-xs ${t==="light"?"text-gray-600":"text-gray-400"}`,children:i.original.description})]})},{Header:"Project",accessor:"projectTitle",Cell:({row:i})=>e.jsxs("div",{className:"flex items-center gap-2",children:[F(i.original.projectId),e.jsx("span",{className:t==="light"?"text-gray-900":"text-white",children:i.original.projectTitle||"N/A"})]})},{Header:"Tier",accessor:"tier",Cell:({row:i})=>e.jsxs("div",{className:"flex items-center gap-2",children:[M(i.original.tier),e.jsx("span",{className:`capitalize ${i.original.tier==="supporter"?"text-gray-500":i.original.tier==="backer"?"text-blue-500":i.original.tier==="producer"?"text-purple-500":"text-yellow-500"}`,children:i.original.tier})]})},{Header:"Type",accessor:"type",Cell:({row:i})=>e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i.original.type==="free"?"bg-green-100 text-green-700":i.original.type==="paid"?"bg-blue-100 text-blue-700":i.original.type==="voting"?"bg-purple-100 text-purple-700":i.original.type==="bidding"?"bg-orange-100 text-orange-700":i.original.type==="exclusive"?"bg-pink-100 text-pink-700":"bg-gray-100 text-gray-700"}`,children:i.original.type})},{Header:"Status",accessor:"status",Cell:({row:i})=>e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i.original.status==="active"?"bg-green-100 text-green-700":i.original.status==="upcoming"?"bg-blue-100 text-blue-700":i.original.status==="completed"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:i.original.status})},{Header:"Participants",accessor:"participants",Cell:({row:i})=>e.jsx("div",{className:"text-sm",children:i.original.maxParticipants?e.jsxs("span",{className:t==="light"?"text-gray-700":"text-gray-300",children:[i.original.currentParticipants||0,"/",i.original.maxParticipants]}):e.jsx("span",{className:t==="light"?"text-gray-500":"text-gray-400",children:"Unlimited"})})},{Header:"Min. Amount",accessor:"minAmount",Cell:({value:i})=>e.jsxs("span",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:["₹",i.toLocaleString()]})},{Header:"Est. Value",accessor:"estimatedValue",Cell:({row:i})=>e.jsxs("span",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:["₹",i.original.estimatedValue?.toLocaleString()||"N/A"]})},{Header:"Actions",accessor:"actions",Cell:({row:i})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d(i.original),className:`p-2 rounded-lg ${t==="light"?"text-gray-600 hover:text-gray-800 hover:bg-gray-100":"text-gray-400 hover:text-gray-200 hover:bg-gray-700"}`,children:e.jsx(te,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>C(i.original.id),className:"p-2 rounded-lg text-red-500 hover:text-red-700 hover:bg-red-50",children:e.jsx(re,{className:"w-4 h-4"})})]})}];return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold mb-1 ${t==="light"?"text-gray-900":"text-white"}`,children:"Perks & Rewards"}),e.jsx("p",{className:`${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Manage investor perks and rewards"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>j(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors",children:[e.jsx(X,{className:"w-5 h-5"}),"Add Perk"]}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(_,{className:"w-5 h-5"})}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(K,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${t==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"text",placeholder:"Search perks...",value:x,onChange:i=>v(i.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("select",{value:N,onChange:i=>p(i.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Tiers"}),e.jsx("option",{value:"supporter",children:"Supporter"}),e.jsx("option",{value:"backer",children:"Backer"}),e.jsx("option",{value:"producer",children:"Producer"}),e.jsx("option",{value:"executive",children:"Executive"})]}),e.jsxs("select",{value:D,onChange:i=>y(i.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Projects"}),s.map(i=>e.jsx("option",{value:i.id,children:i.title},i.id))]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(W,{columns:f,data:r,onSort:b,sortField:a,sortDirection:T})}),($||c)&&e.jsx(ut,{perk:c,isOpen:$||!!c,onClose:()=>{j(!1),d(null)}}),e.jsx(z,{isOpen:!!g,title:"Delete Perk",message:"Are you sure you want to delete this perk? This action cannot be undone.",confirmLabel:"Delete",confirmVariant:"danger",onConfirm:A,onCancel:()=>C(null)})]})},xt=({asset:t,isOpen:S,onClose:n})=>{const{theme:s}=H(),{addMediaAsset:$,updateMediaAsset:j,projects:c}=B(),[d,g]=l.useState({title:"",type:"image",url:"",fileSize:0,dimensions:"",projectId:"",tags:[]}),[C,x]=l.useState(!1),[v,N]=l.useState({}),[p,D]=l.useState(null),[y,a]=l.useState(""),[P,T]=l.useState("");l.useEffect(()=>{t&&(g({title:t.title,type:t.type,url:t.url,fileSize:t.fileSize,dimensions:t.dimensions||"",projectId:t.projectId||"",tags:[...t.tags]}),t.type==="image"&&t.url&&a(t.url))},[t]);const L=l.useCallback(m=>{if(m.length===0)return;const E=m[0];D(E);let V="document";if(E.type.startsWith("image/")?V="image":E.type.startsWith("video/")?V="video":E.type.startsWith("audio/")&&(V="audio"),V==="image"){const u=new FileReader;u.onloadend=()=>{a(u.result)},u.readAsDataURL(E)}if(V==="image"){const u=new window.Image;u.onload=()=>{g(h=>({...h,dimensions:`${u.width}x${u.height}`}))},u.src=URL.createObjectURL(E)}g(u=>({...u,type:V,fileSize:E.size,title:E.name}))},[]),{getRootProps:r,getInputProps:b,isDragActive:A}=Ye({onDrop:L,accept:{"image/*":[],"video/*":[],"audio/*":[],"application/pdf":[],"application/msword":[],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[]}}),M=(m,E)=>{g(V=>({...V,[m]:E})),v[m]&&N(V=>{const u={...V};return delete u[m],u})},F=()=>{P.trim()&&!d.tags.includes(P.trim())&&(g(m=>({...m,tags:[...m.tags,P.trim()]})),T(""))},f=m=>{g(E=>({...E,tags:E.tags.filter(V=>V!==m)}))},i=()=>{const m={};return d.title.trim()||(m.title="Title is required"),!d.url&&!p&&(m.url="Please provide a file or URL"),N(m),Object.keys(m).length===0},o=async m=>{if(m.preventDefault(),!!i()){x(!0);try{const E=p&&y||d.url;t?j(t.id,{...d,url:E}):$({...d,url:E}),n()}catch{}finally{x(!1)}}},U=m=>{switch(m){case"image":return e.jsx(J,{className:"w-6 h-6 text-blue-500"});case"video":return e.jsx(Pe,{className:"w-6 h-6 text-red-500"});case"audio":return e.jsx(Te,{className:"w-6 h-6 text-green-500"});case"document":return e.jsx(Ae,{className:"w-6 h-6 text-yellow-500"});default:return null}};return S?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:n}),e.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:`relative w-full max-w-2xl rounded-lg p-6 shadow-xl ${s==="light"?"bg-white":"bg-gray-800"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:`text-xl font-bold ${s==="light"?"text-gray-900":"text-white"}`,children:t?"Edit Media Asset":"Add New Media Asset"}),e.jsx("button",{onClick:n,className:`p-2 rounded-full ${s==="light"?"text-gray-400 hover:text-gray-600":"text-gray-500 hover:text-gray-300"}`,children:e.jsx(O,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:o,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Media Title"}),e.jsx("input",{type:"text",value:d.title,onChange:m=>M("title",m.target.value),className:`w-full px-4 py-2 rounded-lg border ${v.title?"border-red-500":s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter media title"}),v.title&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:v.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Media Type"}),e.jsxs("div",{className:"flex items-center gap-2",children:[U(d.type),e.jsxs("select",{value:d.type,onChange:m=>M("type",m.target.value),className:`w-full px-4 py-2 rounded-lg border ${s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"image",children:"Image"}),e.jsx("option",{value:"video",children:"Video"}),e.jsx("option",{value:"audio",children:"Audio"}),e.jsx("option",{value:"document",children:"Document"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Project"}),e.jsxs("select",{value:d.projectId,onChange:m=>M("projectId",m.target.value),className:`w-full px-4 py-2 rounded-lg border ${s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"",children:"Select Project (Optional)"}),c.map(m=>e.jsx("option",{value:m.id,children:m.title},m.id))]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Media File"}),e.jsxs("div",{...r(),className:`border-2 border-dashed rounded-lg p-6 ${A?s==="light"?"border-purple-400 bg-purple-50":"border-purple-500 bg-purple-900/20":s==="light"?"border-gray-300":"border-gray-600"}`,children:[e.jsx("input",{...b()}),e.jsx("div",{className:"flex flex-col items-center justify-center text-center",children:y&&d.type==="image"?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:y,alt:"Media preview",className:"h-40 object-contain rounded"}),e.jsx("button",{type:"button",onClick:m=>{m.stopPropagation(),a(""),D(null),M("url","")},className:"absolute top-2 right-2 p-1 rounded-full bg-black/50 text-white hover:bg-black/70",children:e.jsx(O,{className:"w-4 h-4"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(ee,{className:`w-12 h-12 mb-2 ${s==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("p",{className:`text-sm font-medium ${s==="light"?"text-gray-700":"text-gray-300"}`,children:A?"Drop the file here":"Drag & drop a file here, or click to select"}),e.jsx("p",{className:`text-xs mt-2 ${s==="light"?"text-gray-500":"text-gray-400"}`,children:"Supports images, videos, audio, and documents"}),d.fileSize>0&&e.jsxs("p",{className:`text-xs mt-2 ${s==="light"?"text-gray-600":"text-gray-300"}`,children:["File size: ",(d.fileSize/(1024*1024)).toFixed(2)," MB"]})]})})]}),v.url&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:v.url})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Media URL"}),e.jsx("input",{type:"text",value:d.url,onChange:m=>{M("url",m.target.value),m.target.value&&d.type==="image"&&a(m.target.value)},className:`w-full px-4 py-2 rounded-lg border ${v.url?"border-red-500":s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"https://example.com/media.jpg"}),e.jsx("p",{className:`mt-1 text-xs ${s==="light"?"text-gray-500":"text-gray-400"}`,children:"Enter URL directly or upload a file above"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s==="light"?"text-gray-700":"text-gray-300"}`,children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:d.tags.map((m,E)=>e.jsxs("div",{className:`flex items-center gap-1 px-3 py-1 rounded-full ${s==="light"?"bg-gray-100 text-gray-700":"bg-gray-700 text-gray-300"}`,children:[e.jsx("span",{children:m}),e.jsx("button",{type:"button",onClick:()=>f(m),className:"p-0.5 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600",children:e.jsx(O,{className:"w-3 h-3"})})]},E))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:P,onChange:m=>T(m.target.value),onKeyDown:m=>{m.key==="Enter"&&(m.preventDefault(),F())},className:`flex-1 px-4 py-2 rounded-lg border ${s==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Add a tag"}),e.jsx("button",{type:"button",onClick:F,className:`px-4 py-2 rounded-lg ${s==="light"?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gray-700 text-gray-200 hover:bg-gray-600"}`,children:e.jsx(X,{className:"w-5 h-5"})})]}),e.jsx("p",{className:`mt-1 text-xs ${s==="light"?"text-gray-500":"text-gray-400"}`,children:"Press Enter to add a tag"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:n,className:`px-4 py-2 rounded-lg border ${s==="light"?"border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"border-gray-600 bg-gray-700 text-gray-200 hover:bg-gray-600"}`,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:C,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700 transition-colors disabled:opacity-70 flex items-center gap-2",children:C?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Save Media"})]})]})]})]})}):null},ht=()=>{const{theme:t}=H(),{mediaAssets:S,deleteMediaAsset:n,projects:s}=B(),[$,j]=l.useState(!1),[c,d]=l.useState(null),[g,C]=l.useState(null),[x,v]=l.useState(""),[N,p]=l.useState("all"),[D,y]=l.useState("all"),[a,P]=l.useState("createdAt"),[T,L]=l.useState("desc"),r=l.useMemo(()=>S.filter(o=>{const U=o.title.toLowerCase().includes(x.toLowerCase())||o.tags.some(V=>V.toLowerCase().includes(x.toLowerCase())),m=N==="all"||o.type===N,E=D==="all"||o.projectId===D;return U&&m&&E}).sort((o,U)=>a==="createdAt"?T==="asc"?new Date(o[a]).getTime()-new Date(U[a]).getTime():new Date(U[a]).getTime()-new Date(o[a]).getTime():typeof o[a]=="number"&&typeof U[a]=="number"?T==="asc"?o[a]-U[a]:U[a]-o[a]:T==="asc"?String(o[a]).localeCompare(String(U[a])):String(U[a]).localeCompare(String(o[a]))),[S,x,N,D,a,T]),b=o=>{a===o?L(T==="asc"?"desc":"asc"):(P(o),L("asc"))},A=()=>{g&&(n(g),C(null))},M=o=>{switch(o){case"image":return e.jsx(J,{className:"w-4 h-4 text-blue-500"});case"video":return e.jsx(Pe,{className:"w-4 h-4 text-red-500"});case"audio":return e.jsx(Te,{className:"w-4 h-4 text-green-500"});case"document":return e.jsx(Ae,{className:"w-4 h-4 text-yellow-500"});default:return null}},F=o=>o<1024?o+" B":o<1024*1024?(o/1024).toFixed(1)+" KB":o<1024*1024*1024?(o/(1024*1024)).toFixed(1)+" MB":(o/(1024*1024*1024)).toFixed(1)+" GB",f=o=>{navigator.clipboard.writeText(o)},i=[{Header:"Asset",accessor:"title",Cell:({row:o})=>e.jsxs("div",{className:"flex items-center gap-3",children:[o.original.type==="image"&&o.original.url?e.jsx("img",{src:o.original.url,alt:o.original.title,className:"w-10 h-10 object-cover rounded"}):e.jsx("div",{className:`w-10 h-10 rounded flex items-center justify-center ${t==="light"?"bg-gray-200":"bg-gray-700"}`,children:M(o.original.type)}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:o.original.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"flex items-center gap-1 text-xs",children:[M(o.original.type),e.jsx("span",{className:`capitalize ${t==="light"?"text-gray-600":"text-gray-300"}`,children:o.original.type})]}),o.original.dimensions&&e.jsx("span",{className:`text-xs ${t==="light"?"text-gray-500":"text-gray-400"}`,children:o.original.dimensions})]})]})]})},{Header:"Project",accessor:"projectId",Cell:({row:o})=>{const U=s.find(m=>m.id===o.original.projectId);return e.jsx("span",{className:t==="light"?"text-gray-900":"text-white",children:U?.title||"N/A"})}},{Header:"Tags",accessor:"tags",Cell:({value:o})=>e.jsxs("div",{className:"flex flex-wrap gap-1",children:[o.slice(0,2).map((U,m)=>e.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${t==="light"?"bg-gray-100 text-gray-700":"bg-gray-700 text-gray-300"}`,children:U},m)),o.length>2&&e.jsxs("span",{className:`text-xs ${t==="light"?"text-gray-500":"text-gray-400"}`,children:["+",o.length-2," more"]})]})},{Header:"Size",accessor:"fileSize",Cell:({value:o})=>e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-400",children:F(o)})},{Header:"Created",accessor:"createdAt",Cell:({value:o})=>e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-400",children:new Date(o).toLocaleDateString()})},{Header:"Actions",Cell:({row:o})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>window.open(o.original.url,"_blank"),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-700 text-gray-300"}`,title:"Open",children:e.jsx(Xe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>f(o.original.url),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-700 text-gray-300"}`,title:"Copy URL",children:e.jsx(Qe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>d(o.original),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-700 text-gray-300"}`,title:"Edit",children:e.jsx(te,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>C(o.original.id),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-red-600":"hover:bg-gray-700 text-red-400"}`,title:"Delete",children:e.jsx(re,{className:"w-4 h-4"})})]})}];return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold mb-1 ${t==="light"?"text-gray-900":"text-white"}`,children:"Media Assets"}),e.jsx("p",{className:`${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Manage your media files and assets"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>j(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors",children:[e.jsx(X,{className:"w-5 h-5"}),"Add Media"]}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(_,{className:"w-5 h-5"})}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(K,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${t==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"text",placeholder:"Search media assets...",value:x,onChange:o=>v(o.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("select",{value:N,onChange:o=>p(o.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"image",children:"Images"}),e.jsx("option",{value:"video",children:"Videos"}),e.jsx("option",{value:"audio",children:"Audio"}),e.jsx("option",{value:"document",children:"Documents"})]}),e.jsxs("select",{value:D,onChange:o=>y(o.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Projects"}),s.map(o=>e.jsx("option",{value:o.id,children:o.title},o.id))]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(W,{columns:i,data:r,onSort:b,sortField:a,sortDirection:T})}),($||c)&&e.jsx(xt,{asset:c,isOpen:$||!!c,onClose:()=>{j(!1),d(null)}}),e.jsx(z,{isOpen:!!g,title:"Delete Media Asset",message:"Are you sure you want to delete this media asset? This action cannot be undone.",confirmLabel:"Delete",confirmVariant:"danger",onConfirm:A,onCancel:()=>C(null)})]})},pt=()=>{const{theme:t}=H(),{users:S,updateUserStatus:n}=B(),[s,$]=l.useState(null),[j,c]=l.useState(null),[d,g]=l.useState(null),[C,x]=l.useState(""),[v,N]=l.useState("all"),[p,D]=l.useState("all"),[y,a]=l.useState("createdAt"),[P,T]=l.useState("desc"),L=l.useMemo(()=>S.filter(i=>{const o=i.name.toLowerCase().includes(C.toLowerCase())||i.email.toLowerCase().includes(C.toLowerCase()),U=v==="all"||i.status===v,m=p==="all"||i.role===p;return o&&U&&m}).sort((i,o)=>y==="createdAt"?P==="asc"?new Date(i[y]).getTime()-new Date(o[y]).getTime():new Date(o[y]).getTime()-new Date(i[y]).getTime():typeof i[y]=="number"&&typeof o[y]=="number"?P==="asc"?i[y]-o[y]:o[y]-i[y]:P==="asc"?String(i[y]).localeCompare(String(o[y])):String(o[y]).localeCompare(String(i[y]))),[S,C,v,p,y,P]),r=i=>{y===i?T(P==="asc"?"desc":"asc"):(a(i),T("asc"))},b=()=>{s&&(n(s,"active"),$(null))},A=()=>{j&&(n(j,"inactive"),c(null))},M=()=>{d&&(n(d,"banned"),g(null))},F=i=>{switch(i){case"active":return e.jsx(Z,{className:"w-4 h-4 text-green-500"});case"inactive":return e.jsx(de,{className:"w-4 h-4 text-yellow-500"});case"banned":return e.jsx(ge,{className:"w-4 h-4 text-red-500"});default:return null}},f=[{Header:"User",accessor:"name",Cell:({row:i})=>e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:i.original.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(De,{className:`w-3 h-3 ${t==="light"?"text-gray-500":"text-gray-400"}`}),e.jsx("span",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:i.original.email})]})]})},{Header:"Role",accessor:"role",Cell:({value:i})=>e.jsx("span",{className:`capitalize px-2 py-1 rounded-full text-xs ${i==="admin"?t==="light"?"bg-purple-100 text-purple-700":"bg-purple-900/30 text-purple-400":t==="light"?"bg-blue-100 text-blue-700":"bg-blue-900/30 text-blue-400"}`,children:i})},{Header:"Status",accessor:"status",Cell:({value:i})=>e.jsxs("div",{className:"flex items-center gap-2",children:[F(i),e.jsx("span",{className:`capitalize ${i==="active"?"text-green-500":i==="inactive"?"text-yellow-500":"text-red-500"}`,children:i})]})},{Header:"Investments",accessor:"investmentCount",Cell:({row:i})=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Je,{className:`w-4 h-4 ${t==="light"?"text-gray-500":"text-gray-400"}`}),e.jsx("span",{className:t==="light"?"text-gray-900":"text-white",children:i.original.investmentCount})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(et,{className:`w-4 h-4 ${t==="light"?"text-gray-500":"text-gray-400"}`}),e.jsxs("span",{className:t==="light"?"text-gray-900":"text-white",children:["₹",i.original.totalInvested.toLocaleString()]})]})]})},{Header:"Joined",accessor:"createdAt",Cell:({value:i})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:`w-4 h-4 ${t==="light"?"text-gray-500":"text-gray-400"}`}),e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-400",children:new Date(i).toLocaleDateString()})]})},{Header:"Actions",Cell:({row:i})=>e.jsxs("div",{className:"flex items-center gap-2",children:[i.original.status!=="active"&&e.jsx("button",{onClick:()=>$(i.original.id),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-green-600":"hover:bg-gray-700 text-green-400"}`,title:"Activate",children:e.jsx(tt,{className:"w-4 h-4"})}),i.original.status==="active"&&e.jsx("button",{onClick:()=>c(i.original.id),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-yellow-600":"hover:bg-gray-700 text-yellow-400"}`,title:"Deactivate",children:e.jsx(me,{className:"w-4 h-4"})}),i.original.status!=="banned"&&e.jsx("button",{onClick:()=>g(i.original.id),className:`p-2 rounded-lg ${t==="light"?"hover:bg-gray-100 text-red-600":"hover:bg-gray-700 text-red-400"}`,title:"Ban",children:e.jsx(me,{className:"w-4 h-4"})})]})}];return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold mb-1 ${t==="light"?"text-gray-900":"text-white"}`,children:"Users"}),e.jsx("p",{className:`${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Manage user accounts and permissions"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(_,{className:"w-5 h-5"})}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(K,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${t==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"text",placeholder:"Search users...",value:C,onChange:i=>x(i.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("select",{value:v,onChange:i=>N(i.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"banned",children:"Banned"})]}),e.jsxs("select",{value:p,onChange:i=>D(i.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"user",children:"User"}),e.jsx("option",{value:"admin",children:"Admin"})]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(W,{columns:f,data:L,onSort:r,sortField:y,sortDirection:P})}),e.jsx(z,{isOpen:!!s,title:"Activate User",message:"Are you sure you want to activate this user? They will regain full access to the platform.",confirmLabel:"Activate",confirmVariant:"success",onConfirm:b,onCancel:()=>$(null)}),e.jsx(z,{isOpen:!!j,title:"Deactivate User",message:"Are you sure you want to deactivate this user? They will temporarily lose access to the platform.",confirmLabel:"Deactivate",confirmVariant:"warning",onConfirm:A,onCancel:()=>c(null)}),e.jsx(z,{isOpen:!!d,title:"Ban User",message:"Are you sure you want to ban this user? This will permanently restrict their access to the platform.",confirmLabel:"Ban User",confirmVariant:"danger",onConfirm:M,onCancel:()=>g(null)})]})},yt=()=>{const{theme:t}=H(),{backups:S,createBackup:n,restoreBackup:s}=B(),[$,j]=l.useState(!1),[c,d]=l.useState(null),[g,C]=l.useState(!1),[x,v]=l.useState({emailNotifications:!0,autoBackup:!0,autoBackupInterval:"7",securityLevel:"high",maintenanceMode:!1,debugMode:!1}),N=(a,P)=>{v(T=>({...T,[a]:P}))},p=async()=>{j(!0);try{await n()}finally{j(!1)}},D=async()=>{if(c){C(!0);try{await s(c)}finally{C(!1),d(null)}}},y=a=>a<1024?a+" B":a<1024*1024?(a/1024).toFixed(1)+" KB":a<1024*1024*1024?(a/(1024*1024)).toFixed(1)+" MB":(a/(1024*1024*1024)).toFixed(1)+" GB";return e.jsxs("div",{className:"h-full",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold mb-1 ${t==="light"?"text-gray-900":"text-white"}`,children:"Settings"}),e.jsx("p",{className:`${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Configure system settings and manage backups"})]}),e.jsxs("button",{onClick:()=>{},className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors",children:[e.jsx(xe,{className:"w-5 h-5"}),"Save Changes"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:`p-6 rounded-xl ${t==="light"?"bg-white shadow-sm":"bg-gray-800 border border-gray-700"}`,children:[e.jsx("h2",{className:`text-xl font-bold mb-6 ${t==="light"?"text-gray-900":"text-white"}`,children:"General Settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:"Email Notifications"}),e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Send email notifications for system events"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.emailNotifications,onChange:a=>N("emailNotifications",a.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:"Maintenance Mode"}),e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Put the system in maintenance mode"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.maintenanceMode,onChange:a=>N("maintenanceMode",a.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:"Debug Mode"}),e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Enable detailed error logging"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.debugMode,onChange:a=>N("debugMode",a.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium mb-2 ${t==="light"?"text-gray-900":"text-white"}`,children:"Security Level"}),e.jsxs("select",{value:x.securityLevel,onChange:a=>N("securityLevel",a.target.value),className:`w-full px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]})]})]})]}),e.jsxs("div",{className:`p-6 rounded-xl ${t==="light"?"bg-white shadow-sm":"bg-gray-800 border border-gray-700"}`,children:[e.jsx("h2",{className:`text-xl font-bold mb-6 ${t==="light"?"text-gray-900":"text-white"}`,children:"Backup & Restore"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:"Automatic Backups"}),e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Create backups automatically"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.autoBackup,onChange:a=>N("autoBackup",a.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium mb-2 ${t==="light"?"text-gray-900":"text-white"}`,children:"Backup Interval"}),e.jsxs("select",{value:x.autoBackupInterval,onChange:a=>N("autoBackupInterval",a.target.value),disabled:!x.autoBackup,className:`w-full px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20 disabled:opacity-50`,children:[e.jsx("option",{value:"1",children:"Daily"}),e.jsx("option",{value:"7",children:"Weekly"}),e.jsx("option",{value:"30",children:"Monthly"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:p,disabled:$,className:"flex-1 flex items-center justify-center gap-2 py-2 px-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors disabled:opacity-70",children:$?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-5 h-5 animate-spin"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"w-5 h-5"}),"Create Backup"]})}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium mb-4 ${t==="light"?"text-gray-900":"text-white"}`,children:"Backup History"}),e.jsxs("div",{className:`border rounded-lg overflow-hidden ${t==="light"?"border-gray-200":"border-gray-700"}`,children:[e.jsx("div",{className:`px-4 py-3 ${t==="light"?"bg-gray-50 border-b border-gray-200":"bg-gray-700 border-b border-gray-600"}`,children:e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsx("div",{className:`font-medium ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"Name"}),e.jsx("div",{className:`font-medium ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"Size"}),e.jsx("div",{className:`font-medium ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"Date"}),e.jsx("div",{className:`font-medium ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"Actions"})]})}),e.jsx("div",{className:`divide-y ${t==="light"?"divide-gray-200":"divide-gray-700"}`,children:S.map(a=>e.jsx("div",{className:"px-4 py-3",children:e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:`w-4 h-4 ${t==="light"?"text-gray-500":"text-gray-400"}`}),e.jsx("span",{className:t==="light"?"text-gray-900":"text-white",children:a.name})]}),e.jsx("div",{className:t==="light"?"text-gray-600":"text-gray-400",children:y(a.size)}),e.jsx("div",{className:t==="light"?"text-gray-600":"text-gray-400",children:new Date(a.createdAt).toLocaleDateString()}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d(a.id),disabled:g,className:`p-1 rounded ${t==="light"?"hover:bg-gray-100 text-blue-600":"hover:bg-gray-700 text-blue-400"} disabled:opacity-50`,children:e.jsx(K,{className:"w-4 h-4"})}),e.jsx("button",{className:`p-1 rounded ${t==="light"?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-700 text-gray-300"}`,children:e.jsx(_,{className:"w-4 h-4"})})]})]})},a.id))})]})]})]})]}),e.jsxs("div",{className:`p-6 rounded-xl ${t==="light"?"bg-white shadow-sm":"bg-gray-800 border border-gray-700"}`,children:[e.jsx("h2",{className:`text-xl font-bold mb-6 ${t==="light"?"text-gray-900":"text-white"}`,children:"System Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Version"}),e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:"Circles Admin v1.0.0"})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Last Updated"}),e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:new Date().toLocaleDateString()})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Database Status"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"w-4 h-4 text-green-500"}),e.jsx("p",{className:"font-medium text-green-500",children:"Connected"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Storage"}),e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:"1.2 GB / 10 GB"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"API Status"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"w-4 h-4 text-green-500"}),e.jsx("p",{className:"font-medium text-green-500",children:"Operational"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Cache Status"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"w-4 h-4 text-green-500"}),e.jsx("p",{className:"font-medium text-green-500",children:"Enabled"})]})]})]})]})]}),e.jsxs("div",{className:`p-6 rounded-xl ${t==="light"?"bg-white shadow-sm":"bg-gray-800 border border-gray-700"}`,children:[e.jsx("h2",{className:`text-xl font-bold mb-6 ${t==="light"?"text-gray-900":"text-white"}`,children:"Email Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"SMTP Server"}),e.jsx("input",{type:"text",value:"smtp.circles.com",className:`w-full px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"SMTP Port"}),e.jsx("input",{type:"text",value:"587",className:`w-full px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"Encryption"}),e.jsxs("select",{className:`w-full px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{children:"TLS"}),e.jsx("option",{children:"SSL"}),e.jsx("option",{children:"None"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"Sender Email"}),e.jsx("input",{type:"email",value:"noreply@circles.com",className:`w-full px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors",children:[e.jsx(xe,{className:"w-5 h-5"}),"Save Email Settings"]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors",style:{borderColor:t==="light"?"#e2e8f0":"#4b5563",color:t==="light"?"#4b5563":"#e2e8f0",backgroundColor:t==="light"?"white":"#1f2937"},children:[e.jsx(De,{className:"w-5 h-5"}),"Test Connection"]})]})]})]})]}),e.jsx(z,{isOpen:!!c,title:"Restore Backup",message:"Are you sure you want to restore this backup? This will replace all current data with the backup data.",confirmLabel:"Restore",confirmVariant:"warning",onConfirm:D,onCancel:()=>d(null),isLoading:g})]})},bt=()=>{const{theme:t}=H(),{activityLogs:S}=B(),[n,s]=l.useState(""),[$,j]=l.useState("all"),[c,d]=l.useState("all"),[g,C]=l.useState("timestamp"),[x,v]=l.useState("desc"),[N,p]=l.useState({start:"",end:""}),D=l.useMemo(()=>{const r=new Map;return S.forEach(b=>{b.userId&&b.userName&&r.set(b.userId,b.userName)}),Array.from(r.entries()).map(([b,A])=>({id:b,name:A}))},[S]),y=l.useMemo(()=>S.filter(r=>{const b=r.action.toLowerCase().includes(n.toLowerCase())||r.details&&r.details.toLowerCase().includes(n.toLowerCase())||r.userName&&r.userName.toLowerCase().includes(n.toLowerCase()),A=$==="all"||r.resourceType===$,M=c==="all"||r.userId===c;let F=!0;if(N.start){const f=new Date(N.start),i=new Date(r.timestamp);F=F&&i>=f}if(N.end){const f=new Date(N.end);f.setHours(23,59,59,999);const i=new Date(r.timestamp);F=F&&i<=f}return b&&A&&M&&F}).sort((r,b)=>g==="timestamp"?x==="asc"?new Date(r[g]).getTime()-new Date(b[g]).getTime():new Date(b[g]).getTime()-new Date(r[g]).getTime():x==="asc"?String(r[g]).localeCompare(String(b[g])):String(b[g]).localeCompare(String(r[g]))),[S,n,$,c,N,g,x]),a=r=>{g===r?v(x==="asc"?"desc":"asc"):(C(r),v("asc"))},P=r=>{switch(r){case"project":return e.jsx(Q,{className:"w-4 h-4 text-purple-500"});case"merchandise":return e.jsx(oe,{className:"w-4 h-4 text-blue-500"});case"perk":return e.jsx(je,{className:"w-4 h-4 text-yellow-500"});case"media":return e.jsx(J,{className:"w-4 h-4 text-green-500"});case"user":return e.jsx(ne,{className:"w-4 h-4 text-orange-500"});case"system":return e.jsx(ce,{className:"w-4 h-4 text-gray-500"});default:return e.jsx(ve,{className:"w-4 h-4 text-gray-500"})}},T=r=>{const b=new Date(r);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(b)},L=[{Header:"Action",accessor:"action",Cell:({row:r})=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100":"bg-gray-700"}`,children:P(r.original.resourceType)}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${t==="light"?"text-gray-900":"text-white"}`,children:r.original.action}),r.original.details&&e.jsx("p",{className:`text-sm ${t==="light"?"text-gray-600":"text-gray-400"}`,children:r.original.details})]})]})},{Header:"User",accessor:"userName",Cell:({value:r})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:`w-4 h-4 ${t==="light"?"text-gray-500":"text-gray-400"}`}),e.jsx("span",{className:t==="light"?"text-gray-900":"text-white",children:r||"System"})]})},{Header:"Resource Type",accessor:"resourceType",Cell:({value:r})=>e.jsxs("div",{className:"flex items-center gap-2",children:[P(r),e.jsx("span",{className:`capitalize ${t==="light"?"text-gray-900":"text-white"}`,children:r})]})},{Header:"Timestamp",accessor:"timestamp",Cell:({value:r})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ke,{className:`w-4 h-4 ${t==="light"?"text-gray-500":"text-gray-400"}`}),e.jsx("span",{className:t==="light"?"text-gray-600":"text-gray-400",children:T(r)})]})}];return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold mb-1 ${t==="light"?"text-gray-900":"text-white"}`,children:"Activity Log"}),e.jsx("p",{className:`${t==="light"?"text-gray-600":"text-gray-400"}`,children:"Track all system activities and changes"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(_,{className:"w-5 h-5"})}),e.jsx("button",{className:`p-2 rounded-lg ${t==="light"?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.jsx(K,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${t==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"text",placeholder:"Search activities...",value:n,onChange:r=>s(r.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsxs("select",{value:$,onChange:r=>j(r.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Resource Types"}),e.jsx("option",{value:"project",children:"Projects"}),e.jsx("option",{value:"merchandise",children:"Merchandise"}),e.jsx("option",{value:"perk",children:"Perks"}),e.jsx("option",{value:"media",children:"Media"}),e.jsx("option",{value:"user",children:"Users"}),e.jsx("option",{value:"system",children:"System"})]}),e.jsxs("select",{value:c,onChange:r=>d(r.target.value),className:`px-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,children:[e.jsx("option",{value:"all",children:"All Users"}),D.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(le,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${t==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"date",value:N.start,onChange:r=>p(b=>({...b,start:r.target.value})),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]}),e.jsx("span",{className:t==="light"?"text-gray-500":"text-gray-400",children:"to"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx(le,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${t==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"date",value:N.end,onChange:r=>p(b=>({...b,end:r.target.value})),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`})]})]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(W,{columns:L,data:y,onSort:a,sortField:g,sortDirection:x})})]})},ft=()=>{const[t,S]=l.useState(""),[n,s]=l.useState(""),[$,j]=l.useState(!1),[c,d]=l.useState(""),{theme:g}=H(),{login:C,isLoading:x}=ae(),v=async N=>{if(N.preventDefault(),!t||!n){d("Please enter both username and password");return}await C(t,n)||d("Invalid username or password")};return e.jsx("div",{className:`min-h-screen flex items-center justify-center ${g==="light"?"bg-gray-100":"bg-gray-900"}`,children:e.jsxs(R.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:`w-full max-w-md p-8 rounded-2xl shadow-xl ${g==="light"?"bg-white":"bg-gray-800 border border-gray-700"}`,children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-r from-purple-600 to-blue-600",children:e.jsx(rt,{className:"w-8 h-8 text-white"})})}),e.jsx("h1",{className:`text-2xl font-bold mb-2 ${g==="light"?"text-gray-900":"text-white"}`,children:"Admin Dashboard"}),e.jsx("p",{className:`${g==="light"?"text-gray-600":"text-gray-400"}`,children:"Sign in to access the admin panel"})]}),e.jsxs("button",{onClick:()=>window.location.href="/",className:`flex items-center gap-2 mb-6 ${g==="light"?"text-gray-600 hover:text-gray-900":"text-gray-400 hover:text-white"} transition-colors`,children:[e.jsx(fe,{className:"w-4 h-4"}),"Back to home"]}),c&&e.jsxs(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-lg bg-red-500/10 border border-red-500/20 flex items-center gap-3",children:[e.jsx(de,{className:"w-5 h-5 text-red-500"}),e.jsx("span",{className:`text-sm ${g==="light"?"text-red-600":"text-red-400"}`,children:c})]}),e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${g==="light"?"text-gray-700":"text-gray-300"}`,children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx(ne,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${g==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"text",value:t,onChange:N=>S(N.target.value),className:`w-full pl-10 pr-4 py-3 rounded-lg border ${g==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter your username"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${g==="light"?"text-gray-700":"text-gray-300"}`,children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(at,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${g==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:$?"text":"password",value:n,onChange:N=>s(N.target.value),className:`w-full pl-10 pr-12 py-3 rounded-lg border ${g==="light"?"border-gray-300 focus:border-purple-500 bg-white text-gray-900":"border-gray-600 focus:border-purple-500 bg-gray-700 text-white"} focus:outline-none focus:ring-2 focus:ring-purple-500/20`,placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:()=>j(!$),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${g==="light"?"text-gray-400 hover:text-gray-600":"text-gray-500 hover:text-gray-300"}`,children:$?e.jsx(st,{className:"w-5 h-5"}):e.jsx(it,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:`p-4 rounded-lg ${g==="light"?"bg-blue-50 border border-blue-100":"bg-blue-900/20 border border-blue-800/30"}`,children:[e.jsx("p",{className:`text-sm font-medium mb-2 ${g==="light"?"text-blue-700":"text-blue-400"}`,children:"Demo Credentials:"}),e.jsxs("p",{className:`text-xs ${g==="light"?"text-blue-600":"text-blue-300"}`,children:["Username: ",e.jsx("span",{className:"font-mono",children:"admin"}),e.jsx("br",{}),"Password: ",e.jsx("span",{className:"font-mono",children:"admin"})]})]}),e.jsx(R.button,{type:"submit",disabled:x,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold disabled:opacity-70 flex items-center justify-center gap-2",children:x?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-5 h-5 animate-spin"}),"Signing in..."]}):"Sign In"})]}),e.jsx("div",{className:"mt-8 pt-6 border-t text-center",children:e.jsx("p",{className:`text-sm ${g==="light"?"text-gray-600":"text-gray-400"}`,children:"This is a secure area. Unauthorized access is prohibited."})})]})})},jt=()=>{const[t,S]=l.useState("projects"),{theme:n}=H(),{isAuthenticated:s,isLoading:$}=ae(),[j,c]=l.useState(!1);if(!s&&!$)return e.jsx(ft,{});if($)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:e.jsx("div",{className:"w-16 h-16 border-4 border-purple-500/30 border-t-purple-500 rounded-full animate-spin"})});const d=()=>{switch(t){case"projects":return e.jsx(be,{});case"merchandise":return e.jsx(gt,{});case"perks":return e.jsx(mt,{});case"media":return e.jsx(ht,{});case"users":return e.jsx(pt,{});case"settings":return e.jsx(yt,{});case"activity":return e.jsx(bt,{});default:return e.jsx(be,{})}};return e.jsx(ot,{children:e.jsx("div",{className:`min-h-screen ${n==="light"?"bg-gray-100":"bg-gray-900"}`,children:e.jsxs("div",{className:"flex h-screen overflow-hidden",children:[e.jsx("div",{className:"hidden md:block",children:e.jsx(pe,{activePanel:t,setActivePanel:S})}),e.jsx(Y,{children:j&&e.jsxs(R.div,{initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{duration:.3},className:"fixed inset-0 z-50 md:hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>c(!1)}),e.jsx("div",{className:"relative w-64 h-full",children:e.jsx(pe,{activePanel:t,setActivePanel:g=>{S(g),c(!1)}})})]})}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(nt,{activePanel:t,onMenuClick:()=>c(!0)}),e.jsx("main",{className:`flex-1 overflow-y-auto p-6 ${n==="light"?"bg-gray-100":"bg-gray-900"}`,children:e.jsx(Y,{mode:"wait",children:e.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"h-full",children:d()},t)})})]})]})})})},wt=Object.freeze(Object.defineProperty({__proto__:null,default:jt},Symbol.toStringTag,{value:"Module"}));export{wt as A,lt as T,H as u};
